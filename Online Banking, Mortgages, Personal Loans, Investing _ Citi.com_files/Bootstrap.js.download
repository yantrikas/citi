(function ensightenInit(){var ensightenOptions = {client: "citi", clientId: 1129, publishPath: "na_prod", isPublic:0, serverComponentLocation: "nexus.ensighten.com/citi/na_prod/serverComponent.php", staticJavascriptPath: "nexus.ensighten.com/citi/na_prod/code/", ns: 'Bootstrapper', nexus:"nexus.ensighten.com", scUseCacheBuster: "true", enableTagAuditBeacon : "true", enablePagePerfBeacon : "true", registryNs : "ensBootstraps", generatedOn : "Tue Jun 21 19:04:22 GMT 2022", beaconSamplingSeedValue: 11};
if ( !window[ensightenOptions.ns] ) {
window[ensightenOptions.registryNs]||(window[ensightenOptions.registryNs]={});
window[ensightenOptions.registryNs][ensightenOptions.ns]=window[ensightenOptions.ns]=function(l){function m(a){this.name="DependencyNotAvailableException";this.message="Dependency with id "+a+"is missing"}function n(a){this.name="BeaconException";this.message="There was an error durring beacon initialization";a=a||{};this.lineNumber=a.lineNumber||a.line;this.fileName=a.fileName}function q(){for(var a=c.dataDefinitionIds.length,b=!0,d=0;d<a;d++){var f=c.dataDefinitions[c.dataDefinitionIds[d]];if(!f||
null==f.endRegistration){b=!1;break}}b&&c.callOnDataDefintionComplete()}var e={},c={};c.ensightenOptions=ensightenOptions;c.scDataObj={};e.version="1.26.0";e.nexus=l.nexus||"nexus.ensighten.com";e.rand=-1;e.currSec=(new Date).getSeconds();e.options={interval:l.interval||100,erLoc:l.errorLocation||e.nexus+"/error/e.gif",scLoc:l.serverComponentLocation||e.nexus+"/"+l.client+"/serverComponent.php",sjPath:l.staticJavascriptPath||e.nexus+"/"+l.client+"/code/",alLoc:l.alertLocation||e.nexus+"/alerts/a.gif",
publishPath:l.publishPath,isPublic:l.isPublic,client:l.client,clientId:l.clientId,enableTagAuditBeacon:l.enableTagAuditBeacon,beaconSamplingSeedValue:l.beaconSamplingSeedValue||-1};e.ruleList=[];e.allDeploymentIds=[];e.runDeploymentIds=[];e.runRuleIds=[];e.exceptionList=[];e.ensightenVariables={};e.test=function(a){if(!(a.executionData.hasRun||a.executionData.runTime&&0<a.executionData.runTime.length)){for(var b=0;b<a.dependencies.length;b++)if(!1===a.dependencies[b]())return;a.execute()}};m.prototype=
Error();m.prototype||(m.prototype={});m.prototype.constructor=m;e.DependencyNotAvailableException=m;n.prototype=Error();n.prototype||(n.prototype={});n.prototype.constructor=n;e.BeaconException=n;e.checkForInvalidDependencies=function(a,b,d,f){for(a=0;a<d.length;a++)if("DEPENDENCYNEVERAVAILABLE"===d[a])return c.currentRuleId=this.id,c.currentDeploymentId=this.deploymentId,c.reportException(new e.DependencyNotAvailableException(f[a])),b&&-1!==b&&e.allDeploymentIds.push(b),!0;return!1};c.currentRuleId=
-1;c.currentDeploymentId=-1;c.reportedErrors=[];c.reportedAlerts=[];c.AF=[];c._serverTime="";c._clientIP="";c.sampleBeacon=function(){var a=!1;try{var b=(e.currSec||0)%20,d=e.options.beaconSamplingSeedValue;-1===d?a=!0:0!==b&&0===d%b&&(a=!0)}catch(f){}return a};c.getServerComponent=function(a){c.callOnGetServerComponent();c.insertScript(window.location.protocol+"//"+e.options.scLoc,!1,a||!0)};c.setVariable=function(a,b){e.ensightenVariables[a]=b};c.getVariable=function(a){return a in e.ensightenVariables?
e.ensightenVariables[a]:null};c.testAll=function(){for(var a=0;a<e.ruleList.length;a++)e.test(e.ruleList[a])};c.executionState={DOMParsed:!1,DOMLoaded:!1,dataDefinitionComplete:!1,conditionalRules:!1,readyForServerComponent:!1};c.reportException=function(a){a.timestamp=(new Date).getTime();e.exceptionList.push(a);a=window.location.protocol+"//"+e.options.erLoc+"?msg="+encodeURIComponent(a.message||"")+"&lnn="+encodeURIComponent(a.lineNumber||a.line||-1)+"&fn="+encodeURIComponent(a.fileName||"")+"&cid="+
encodeURIComponent(e.options.clientId||-1)+"&client="+encodeURIComponent(e.options.client||"")+"&publishPath="+encodeURIComponent(e.options.publishPath||"")+"&rid="+encodeURIComponent(c.currentRuleId||-1)+"&did="+encodeURIComponent(c.currentDeploymentId||-1)+"&errorName="+encodeURIComponent(a.name||"");a=c.imageRequest(a);a.timestamp=(new Date).getTime();this.reportedErrors.push(a)};c.Rule=function(a){this.execute=function(){this.executionData.runTime.push(new Date);c.currentRuleId=this.id;c.currentDeploymentId=
this.deploymentId;try{this.code()}catch(b){window[ensightenOptions.ns].reportException(b)}finally{this.executionData.hasRun=!0,-1!==this.deploymentId&&(e.runDeploymentIds.push(this.deploymentId),e.runRuleIds.push(this.id)),c.testAll()}};this.id=a.id;this.deploymentId=a.deploymentId;this.dependencies=a.dependencies||[];this.code=a.code;this.executionData={hasRun:!1,runTime:[]}};c.registerRule=function(a){if(c.getRule(a.id)&&-1!==a.id)return!1;e.ruleList.push(a);-1!==a.deploymentId&&e.allDeploymentIds.push(a.deploymentId);
c.testAll();return!0};c.getRule=function(a){for(var b=0;b<e.ruleList.length;b++)if(e.ruleList[b].id===a)return e.ruleList[b];return!1};c.getRuleList=function(){return e.ruleList};c.clearRuleList=function(){e.ruleList=[]};c.getAllDeploymentIds=function(){return e.allDeploymentIds};c.getRunRuleIds=function(){return e.runRuleIds};c.getRunDeploymentIds=function(){return e.runDeploymentIds};c.hasRuleRun=function(a){return(a=c.getRule(a))?a.executionData.hasRun:!1};e.toTwoChar=function(a){return(2===a.toString().length?
"":"0")+a};c.Alert=function(a){var b=new Date;b=b.getFullYear()+"-"+e.toTwoChar(b.getMonth())+"-"+e.toTwoChar(b.getDate())+" "+e.toTwoChar(b.getHours())+":"+e.toTwoChar(b.getMinutes())+":"+e.toTwoChar(b.getSeconds());this.severity=a.severity||1;this.subject=a.subject||"";this.type=a.type||1;this.ruleId=a.ruleId||-1;this.severity=encodeURIComponent(this.severity);this.date=encodeURIComponent(b);this.subject=encodeURIComponent(this.subject);this.type=encodeURIComponent(this.type)};c.generateAlert=function(a){a=
c.imageRequest(window.location.protocol+"//"+e.options.alLoc+"?d="+a.date+"&su="+a.subject+"&se="+a.severity+"&t="+a.type+"&cid="+e.options.clientId+"&client="+e.options.client+"&publishPath="+e.options.publishPath+"&rid="+c.currentRuleId+"&did="+c.currentDeploymentId);a.timestamp=(new Date).getTime();this.reportedAlerts.push(a)};c.imageRequest=function(a){var b=new Image(0,0);b.src=a;return b};c.insertScript=function(a,b,d){var f=document.getElementsByTagName("script"),g;if(void 0!==b?b:1)for(g=
0;g<f.length;g++)if(f[g].src===a&&f[g].readyState&&/loaded|complete/.test(f[g].readyState))return;if(d){d=1==d&&"object"==typeof c.scDataObj?c.scDataObj:d;e.rand=Math.random()*("1E"+(10*Math.random()).toFixed(0));b=window.location.href;"object"===typeof d&&d.PageID&&(b=d.PageID,delete d.PageID);if("object"===typeof d)for(g in d){g=~b.indexOf("#")?b.slice(b.indexOf("#"),b.length):"";b=b.slice(0,g.length?b.length-g.length:b.length);b+=~b.indexOf("?")?"&":"?";for(k in d)b+=k+"="+d[k]+"&";b=b.slice(0,
-1)+g;break}a=a+"?namespace="+(ensightenOptions.ns+"&");a+="staticJsPath="+ensightenOptions.staticJavascriptPath+"&";a+="publishedOn="+ensightenOptions.generatedOn+"&";a+="ClientID="+encodeURIComponent(e.options.clientId)+"&PageID="+encodeURIComponent(b)}(function(h,p,u){var r=p.head||p.getElementsByTagName("head");setTimeout(function(){if("item"in r){if(!r[0]){setTimeout(arguments.callee,25);return}r=r[0]}var t=p.createElement("script");t.src=u;t.onload=t.onerror=function(){this.addEventListener&&
(this.readyState="loaded")};r.insertBefore(t,r.firstChild)},0)})(window,document,a)};c.loadScriptCallback=function(a,b,d){var f=document.getElementsByTagName("script"),g;d=f[0];for(g=0;g<f.length;g++)if(f[g].src===a&&f[g].readyState&&/loaded|complete/.test(f[g].readyState))try{b()}catch(h){window[ensightenOptions.ns].reportException(h)}finally{return}f=document.createElement("script");f.type="text/javascript";f.async=!0;f.src=a;f.onerror=function(){this.addEventListener&&(this.readyState="loaded")};
f.onload=f.onreadystatechange=function(){if(!this.readyState||"complete"===this.readyState||"loaded"===this.readyState){this.onload=this.onreadystatechange=null;this.addEventListener&&(this.readyState="loaded");try{b.call(this)}catch(h){window[ensightenOptions.ns].reportException(h)}}};d.parentNode.insertBefore(f,d)};c.insertPageFiles=function(a){var b=0,d=0,f=function(){d==a.length-1&&window[ensightenOptions.ns].callOnPageSpecificCompletion();d++};for(b=0;b<a.length;++b)window[ensightenOptions.ns].loadScriptCallback(a[b],
f)};c.unobtrusiveAddEvent=function(a,b,d){try{var f=a[b]?a[b]:function(){};a[b]=function(){d.apply(this,arguments);return f.apply(this,arguments)}}catch(g){window[ensightenOptions.ns].reportException(g)}};c.anonymous=function(a,b){return function(){try{c.currentRuleId=b?b:"anonymous",a()}catch(d){window[ensightenOptions.ns].reportException(d)}}};c.setCurrentRuleId=function(a){c.currentRuleId=a};c.setCurrentDeploymentId=function(a){c.currentDeploymentId=a};c.bindImmediate=function(a,b,d){if("function"===
typeof a)a=new c.Rule({id:b||-1,deploymentId:d||-1,dependencies:[],code:a});else if("object"!==typeof a)return!1;c.registerRule(a)};c.bindDOMParsed=function(a,b,d){if("function"===typeof a)a=new c.Rule({id:b||-1,deploymentId:d||-1,dependencies:[function(){return window[ensightenOptions.ns].executionState.DOMParsed}],code:a});else if("object"!==typeof a)return!1;c.registerRule(a)};c.bindDOMLoaded=function(a,b,d){if("function"===typeof a)a=new c.Rule({id:b||-1,deploymentId:d||-1,dependencies:[function(){return window[ensightenOptions.ns].executionState.DOMLoaded}],
code:a});else if("object"!==typeof a)return!1;c.registerRule(a)};c.bindPageSpecificCompletion=function(a,b,d){if("function"===typeof a)a=new c.Rule({id:b||-1,deploymentId:d||-1,dependencies:[function(){return window[ensightenOptions.ns].executionState.conditionalRules}],code:a});else if("object"!==typeof a)return!1;c.registerRule(a)};c.bindOnGetServerComponent=function(a,b,d){if("function"===typeof a)a=new c.Rule({id:b||-1,deploymentId:d||-1,dependencies:[function(){return window[ensightenOptions.ns].executionState.readyForServerComponent}],
code:a});else if("object"!==typeof a)return!1;c.registerRule(a)};c.bindDataDefinitionComplete=function(a,b,d){if("function"===typeof a)a=new c.Rule({id:b||-1,deploymentId:d||-1,dependencies:[function(){return window[ensightenOptions.ns].executionState.dataDefinitionComplete}],code:a});else if("object"!==typeof a)return!1;c.registerRule(a)};c.checkHasRun=function(a){if(0===a.length)return!0;for(var b,d=0;d<a.length;++d)if(b=c.getRule(parseInt(a[d],10)),!b||!b.executionData.hasRun)return!1;return!0};
c.bindDependencyImmediate=function(a,b,d,f,g){var h=[];if(!e.checkForInvalidDependencies(b,f,d,g)){h.push(function(){return window[ensightenOptions.ns].checkHasRun(d)});if("function"===typeof a)a=new c.Rule({id:b||-1,deploymentId:f||-1,dependencies:h,code:a});else if("object"!==typeof a)return!1;c.registerRule(a)}};c.bindDependencyDOMLoaded=function(a,b,d,f,g){var h=[];if(!e.checkForInvalidDependencies(b,f,d,g)){h.push(function(){return window[ensightenOptions.ns].executionState.DOMLoaded});h.push(function(){return window[ensightenOptions.ns].checkHasRun(d)});
if("function"===typeof a)a=new c.Rule({id:b||-1,deploymentId:f||-1,dependencies:h,code:a});else if("object"!==typeof a)return!1;c.registerRule(a)}};c.bindDependencyDOMParsed=function(a,b,d,f,g){var h=[];if(!e.checkForInvalidDependencies(b,f,d,g)){h.push(function(){return window[ensightenOptions.ns].executionState.DOMParsed});h.push(function(){return window[ensightenOptions.ns].checkHasRun(d)});if("function"===typeof a)a=new c.Rule({id:b||-1,deploymentId:f||-1,dependencies:h,code:a});else if("object"!==
typeof a)return!1;c.registerRule(a)}};c.bindDependencyPageSpecificCompletion=function(a,b,d,f,g){var h=[];if(!e.checkForInvalidDependencies(b,f,d,g)){h.push(function(){return window[ensightenOptions.ns].executionState.conditionalRules});h.push(function(){return window[ensightenOptions.ns].checkHasRun(d)});if("function"===typeof a)a=new c.Rule({id:b||-1,deploymentId:f||-1,dependencies:h,code:a});else if("object"!==typeof a)return!1;c.registerRule(a)}};c.bindDependencyOnGetServerComponent=function(a,
b,d,f,g){var h=[];if(!e.checkForInvalidDependencies(b,f,d,g)){h.push(function(){return window[ensightenOptions.ns].executionState.readyForServerComponent});h.push(function(){return window[ensightenOptions.ns].checkHasRun(d)});if("function"===typeof a)a=new c.Rule({id:b||-1,deploymentId:f||-1,dependencies:h,code:a});else if("object"!==typeof a)return!1;c.registerRule(a)}};c.bindDependencyPageSpecificCompletion=function(a,b,d,f,g){var h=[];if(!e.checkForInvalidDependencies(b,f,d,g)){h.push(function(){return window[ensightenOptions.ns].executionState.dataDefinitionComplete});
h.push(function(){return window[ensightenOptions.ns].checkHasRun(d)});if("function"===typeof a)a=new c.Rule({id:b||-1,deploymentId:f||-1,dependencies:h,code:a});else if("object"!==typeof a)return!1;c.registerRule(a)}};c.dataDefintionIds=[];c.dataDefinitions=[];c.pageSpecificDataDefinitionsSet=!1;c.setPageSpecificDataDefinitionIds=function(a){for(var b=a?a.length:0,d=0;d<b;d++){var f=a[d];if(Array.prototype.indexOf)-1==c.dataDefinitionIds.indexOf(f)&&c.dataDefinitionIds.push(f);else{for(var g=!1,h=
c.dataDefinitionIds.length,p=0;p<h;p++)if(c.dataDefinitionIds[p]===f){g=!0;break}g||c.dataDefinitionIds.push(f)}}c.pageSpecificDataDefinitionsSet=!0;q()};c.DataDefinition=function(a,b){this.id=a;this.registrationFn=b;this.endRegistrationTime=this.startRegistrationTime=null;this.startRegistration=function(){this.startRegistrationTime=new Date};this.endRegistration=function(){this.endRegistrationTime=new Date}};c.registerDataDefinition=function(a,b){var d=c.dataDefinitions[b];d||(d=new c.DataDefinition(b,
a),c.dataDefinitions[b]=d);d.startRegistrationTime||(d.startRegistration(),d.registrationFn(),d.endRegistration());c.pageSpecificDataDefinitionsSet&&q()};c.callOnDataDefintionComplete=function(){c.executionState.dataDefinitionComplete=!0;c.testAll()};c.callOnDOMParsed=function(){window[ensightenOptions.ns].executionState.DOMParsed=!0;window[ensightenOptions.ns].testAll()};c.callOnDOMLoaded=function(){window[ensightenOptions.ns].executionState.DOMParsed=!0;window[ensightenOptions.ns].executionState.DOMLoaded=
!0;window[ensightenOptions.ns].testAll()};c.callOnPageSpecificCompletion=function(){for(var a=document.getElementsByTagName("script"),b=0,d=a.length;b<d;b++)if(a[b].src&&a[b].src.match(/\.ensighten\.com\/(.+?)\/code\/.*/i)&&"loaded"!=a[b].readyState&&"complete"!=a[b].readyState){setTimeout(window[ensightenOptions.ns].callOnPageSpecificCompletion,50);return}setTimeout(function(){window[ensightenOptions.ns].executionState.conditionalRules=!0;window[ensightenOptions.ns].testAll()},1)};c.callOnGetServerComponent=
function(){window[ensightenOptions.ns].executionState.readyForServerComponent=!0;window[ensightenOptions.ns].testAll()};c.hasDOMParsed=function(){return window[ensightenOptions.ns].executionState.DOMParsed};c.hasDOMLoaded=function(){return window[ensightenOptions.ns].executionState.DOMLoaded};c.hasPageSpecificCompletion=function(){return window[ensightenOptions.ns].executionState.conditionalRules};var v=function(){var a=[],b=!1,d=!1;return{add:function(f){b&&!d?f():"function"==typeof f&&(a[a.length]=
f)},exec:function(){d=!0;do{var f=a;a=[];b=!0;for(var g=0;g<f.length;g++)try{f[g].call(window)}catch(h){window[ensightenOptions.ns].reportException(h)}}while(0<a.length);d=!1},haveRun:function(){return b}}};c.new_fArray=function(){return v()};e.timer=null;(function(){function a(f,g){return function(){f.apply(g,arguments)}}window.console||(window.console={});var b=window.console;if(!b.log)if(window.log4javascript){var d=log4javascript.getDefaultLogger();b.log=a(d.info,d);b.debug=a(d.debug,d);b.info=
a(d.info,d);b.warn=a(d.warn,d);b.error=a(d.error,d)}else b.log=function(){};b.debug||(b.debug=b.log);b.info||(b.info=b.log);b.warn||(b.warn=b.log);b.error||(b.error=b.log)})();document.addEventListener?(-1<navigator.userAgent.indexOf("AppleWebKit/")?e.timer=window.setInterval(function(){/loaded|interactive|complete/.test(document.readyState)&&(clearInterval(e.timer),c.callOnDOMParsed())},50):document.addEventListener("DOMContentLoaded",c.callOnDOMParsed,!1),window.addEventListener("load",c.callOnDOMLoaded,
!1)):(setTimeout(function(){var a=window.document;(function(){try{if(!document.body)throw"continue";a.documentElement.doScroll("left")}catch(b){setTimeout(arguments.callee,15);return}window[ensightenOptions.ns].callOnDOMParsed()})()},1),window.attachEvent("onload",function(){window[ensightenOptions.ns].callOnDOMLoaded()}));document.readyState&&"complete"===document.readyState&&(c.executionState.DOMParsed=!0,c.executionState.DOMLoaded=!0);"true"===e.options.enableTagAuditBeacon&&c.sampleBeacon()&&
window.setTimeout(function(){if(window[ensightenOptions.ns]&&!window[ensightenOptions.ns].mobilePlatform)try{for(var a=[],b,d,f,g,h=0;h<e.ruleList.length;++h)d=e.ruleList[h],f=d.executionData.hasRun?"1":"0",g=d.deploymentId.toString()+"|"+d.id.toString()+"|"+f,a.push(g);b="["+a.join(";")+"]";var p=window.location.protocol+"//"+e.nexus+"/"+encodeURIComponent(l.client)+"/"+encodeURIComponent(l.publishPath)+"/TagAuditBeacon.rnc?cid="+encodeURIComponent(l.clientId)+"&data="+b+"&idx=0&r="+e.rand;c.imageRequest(p)}catch(u){c.currentRuleId=
-1,c.currentDeploymentId=-1,a=new e.BeaconException(u),window[ensightenOptions.ns].reportException(a)}},3E3);window.setInterval(c.testAll,e.options.interval);return c}(ensightenOptions);
"true"===ensightenOptions.enablePagePerfBeacon&&window[ensightenOptions.ns]&&window[ensightenOptions.ns].sampleBeacon()&&window[ensightenOptions.ns].bindDOMParsed(function(){if(!window[ensightenOptions.ns].mobilePlatform){var l=window.performance;if(l){l=l.timing||{};var m=l.navigationStart||0,n={connectEnd:"ce",connectStart:"cs",domComplete:"dc",domContentLoadedEventEnd:"dclee",domContentLoadedEventStart:"dcles",domInteractive:"di",domLoading:"dl",domainLookupEnd:"dle",domainLookupStart:"dls",fetchStart:"fs",
loadEventEnd:"lee",loadEventStart:"les",redirectEnd:"rede",redirectStart:"reds",requestStart:"reqs",responseStart:"resps",responseEnd:"respe",secureConnectionStart:"scs",unloadEventStart:"ues",unloadEventEnd:"uee"};var q="&ns="+encodeURIComponent(l.navigationStart);for(var e in n)if(void 0!==l[e]){var c=l[e]-m;q+="&"+n[e]+"="+(0<c?encodeURIComponent(c):0)}else q+="&"+n[e]+"=-1";window[ensightenOptions.ns].timing=q;e=ensightenOptions.nexus||"nexus.ensighten.com";l=ensightenOptions.staticJavascriptPath||
"";q=l.indexOf("/",0);m=l.indexOf("/code/");l=l.substring(q,m)+"/perf.rnc";l+="?cid="+encodeURIComponent(ensightenOptions.clientId)+window[ensightenOptions.ns].timing;window[ensightenOptions.ns].imageRequest("//"+e+l)}}});
	
    /*
     MIT License (c) copyright 2013 original author or authors */
    window[ensightenOptions.ns].data||(window[ensightenOptions.ns].when=function(){function f(a,b,d,c){return l(a).then(b,d,c)}function p(a){this.then=a}function l(a){return c(function(b){b(a)})}function c(b){function g(a){k&&(r=e(a),d(k,r),k=u)}function f(a){g(h(a))}function q(b){k&&d(k,a(b))}var r,k=[];try{b(g,f,q)}catch(E){f(E)}return new p(function(a,b,d){return c(function(c,g,e){k?k.push(function(f){f.then(a,b,d).then(c,g,e)}):n(function(){r.then(a,b,d).then(c,g,e)})})})}function e(a){return a instanceof
    p?a:a!==Object(a)?m(a):c(function(b,d,c){n(function(){try{var g=a.then;"function"===typeof g?z(g,a,b,d,c):b(m(a))}catch(y){d(y)}})})}function m(a){var b=new p(function(d){try{return"function"==typeof d?e(d(a)):b}catch(D){return h(D)}});return b}function h(a){var b=new p(function(d,c){try{return"function"==typeof c?e(c(a)):b}catch(F){return h(F)}});return b}function a(b){var d=new p(function(c,g,e){try{return"function"==typeof e?a(e(b)):d}catch(y){return a(y)}});return d}function d(a,b){n(function(){for(var d,
    c=0;d=a[c++];)d(b)})}function b(a,b,d,g,e){q(2,arguments);return f(a,function(a){return c(function(d,c,g){function e(a){h(a)}function q(a){u(a)}var k;var n=a.length>>>0;var t=Math.max(0,Math.min(b,n));var w=[];var x=n-t+1;var m=[];if(t){var h=function(a){m.push(a);--x||(u=h=r,c(m))};var u=function(a){w.push(a);--t||(u=h=r,d(w))};for(k=0;k<n;++k)k in a&&f(a[k],q,e,g)}else d(w)}).then(d,g,e)})}function t(a,b,d,c){q(1,arguments);return k(a,w).then(b,d,c)}function k(a,b){return f(a,function(a){return c(function(d,
    c,g){var e,q;var k=e=a.length>>>0;var r=[];if(k){var n=function(a,e){f(a,b).then(function(a){r[e]=a;--k||d(r)},c,g)};for(q=0;q<e;q++)q in a?n(a[q],q):--k}else d(r)})})}function n(a){1===x.push(a)&&A(g)}function g(){for(var a,b=0;a=x[b++];)a();x=[]}function q(a,b){for(var d,c=b.length;c>a;)if(d=b[--c],null!=d&&"function"!=typeof d)throw Error("arg "+c+" must be a function");}function r(){}function w(a){return a}f.defer=function(){var a,b;var d={promise:u,resolve:u,reject:u,notify:u,resolver:{resolve:u,
    reject:u,notify:u}};d.promise=a=c(function(c,g,e){d.resolve=d.resolver.resolve=function(d){if(b)return l(d);b=!0;c(d);return a};d.reject=d.resolver.reject=function(d){if(b)return l(h(d));b=!0;g(d);return a};d.notify=d.resolver.notify=function(a){e(a);return a}});return d};f.resolve=l;f.reject=function(a){return f(a,h)};f.join=function(){return k(arguments,w)};f.all=t;f.map=k;f.reduce=function(a,b){var d=z(B,arguments,1);return f(a,function(a){var c=a.length;d[0]=function(a,d,g){return f(a,function(a){return f(d,
    function(d){return b(a,d,g,c)})})};return G.apply(a,d)})};f.any=function(a,d,c,g){return b(a,1,function(a){return d?d(a[0]):a[0]},c,g)};f.some=b;f.isPromise=function(a){return a&&"function"===typeof a.then};p.prototype={otherwise:function(a){return this.then(u,a)},ensure:function(a){function b(){return l(a())}return this.then(b,b).yield(this)},yield:function(a){return this.then(function(){return a})},spread:function(a){return this.then(function(b){return t(b,function(b){return a.apply(u,b)})})},always:function(a,
    b){return this.then(a,a,b)}};var u;var x=[];var H=setTimeout;var A="function"===typeof setImmediate?"undefined"===typeof window?setImmediate:setImmediate.bind(window):"object"===typeof process&&process.nextTick?process.nextTick:function(a){H(a,0)};var v=Function.prototype;var C=v.call;var z=v.bind?C.bind(C):function(a,b){return a.apply(b,B.call(arguments,2))};v=[];var B=v.slice;var G=v.reduce||function(a){var b=0;var d=Object(this);var c=d.length>>>0;var g=arguments;if(1>=g.length)for(;;){if(b in
    d){g=d[b++];break}if(++b>=c)throw new TypeError;}else g=g[1];for(;b<c;++b)b in d&&(g=a(g,d[b],b,d));return g};return f}(),function(){function f(c,f){return l.all(f||[],function(e){return c.apply(null,e)})}function p(e){var m=c.call(arguments,1);return function(){return f(e,m.concat(c.call(arguments)))}}var l=window[ensightenOptions.ns].when;var c=[].slice;l.apply=f;l.call=function(e){return f(e,c.call(arguments,1))};l.lift=p;l.bind=p;l.compose=function(e){var m=c.call(arguments,1);return function(){var h=
    c.call(arguments);h=f(e,h);return l.reduce(m,function(a,d){return d(a)},h)}}}(),window[ensightenOptions.ns].data=function(f,p){function l(a,d){this.name="DataDefinitionException";this.message=d||"Data definitions cannot be resolved as there are invalid id(s): "+a}var c={engines:{memory:{get:function(a){if(e.utils.isArray(a)){for(var d=[],b=0;b<a.length;b++)d.push(c.data[a[b]]);return f[ensightenOptions.ns].when.resolve(d)}d=c.dataDefinitions[a]||{storage:{get:function(){}}};d=d.storage.get(d);c.data[a]=
    d;return f[ensightenOptions.ns].when.resolve(c.data[a])},set:function(a,d){if(e.utils.isArray(a))for(var b in a)c.data[a[b]]=d[b];else c.data[a]=d;return f[ensightenOptions.ns].when.resolve(!0)},remove:function(a){if(e.utils.isArray(a))for(var d in a)delete c.data[a[d]];else delete c.data[a];return f[ensightenOptions.ns].when.resolve(!0)},clear:function(a){c.data={};c.definitions={};return f[ensightenOptions.ns].when.resolve(!0)},all:function(){return f[ensightenOptions.ns].when.resolve(c.data)}}},
    normalizeInputArgs:function(a,d){var b={key:[],val:p},c;if(e.utils.isPlainObject(a))for(c in b.val=[],a)b.key.push(c),b.val.push(a[c]);else e.utils.isArray(a),b.key=a,b.val=d;return b},definitions:{},data:{}},e={utils:{isPlainObject:function(a){return!!a&&"[object Object]"===Object.prototype.toString.call(a)},isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)},escapeRegEx:function(a){try{return a.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1")}catch(d){return a}}}},m=function(){return f[ensightenOptions.ns].when.reject("Not Implemented.")};
    l.prototype=Error();l.prototype||(l.prototype={});l.prototype.constructor=l;c.DataDefinitionException=l;c.checkForInvalidDataDefinitions=function(a){e.utils.isArray(a)||(a=[a]);return a&&0<a.length&&(a=a.join(","),-1<a.indexOf("invalid_id"))?(f[ensightenOptions.ns].reportException(new c.DataDefinitionException(a)),!0):!1};c.collectAvailableDataDefinitions=function(a){for(var d=[],b=0;b<a.length;b++){var t=parseInt(a[b],10),k=f[ensightenOptions.ns].dataDefinitions[t];if(null===k||k===p)if(k=e.storage.session.get({id:t}),
    null!==k&&k!==p)e.set(t,k),c.dataDefinitions[t]={id:t,load:"visitor",storage:e.storage.visitor,missingDDFromCache:!0},d.push(f[ensightenOptions.ns].data.get(""+t));else return f[ensightenOptions.ns].reportException(new c.DataDefinitionException(a,"Invalid data definition used: "+t)),{promises:[],isInvalid:!0};else d.push(f[ensightenOptions.ns].data.get(""+a[b]))}return{promises:d,isInvalid:!1}};c.getSync=function(a){function d(a){var d=a.extract||t,c=a.transform||k,g=!1,e=null,f=null;try{e=d()}catch(v){e=
    null,g=!0}try{f=c(e)}catch(v){f=null,g=!0}g&&b.push(a.id);return f}var b=[],t=function(){return document},k=function(a){return null!==a&&a!==p?a.toString():null},n=parseInt(a);a="string"===typeof a?a.split("."):[];var g={},q="";if(!isNaN(n)&&"undefined"===typeof c.dataDefinitions[n])return f[ensightenOptions.ns].reportException(new c.DataDefinitionException(n,"Error resolving data definition: "+n+".  Does not exist on the page.")),"Data definition specified does not exist on the page";if(isNaN(n)&&
    "undefined"===typeof c.dataDefinitionsBySourceCollName[""+a[0]+"."+a[1]+"."+a[2]])return f[ensightenOptions.ns].reportException(new c.DataDefinitionException(a,"Error resolving data definition: "+a[0]+"."+a[1]+"."+a[2]+".  Does not exist on the page.")),"Data definition specified does not exist on the page";isNaN(n)?3==a.length&&(g=e.getDataDefinitionBySourceCollectionName(a[0],a[1],a[2])):g=e.getDataDefinitionById(n);q=g.load&&g.load.match(/(session|visitor)/i)&&g.storage&&g.storage.get?g.storage.get(g):
    d(g);0<b.length&&f[ensightenOptions.ns].reportException(new c.DataDefinitionException(b,"Error resolving data definitions synchronously: "+b));return q};c.dataDefinitions={};c.dataDefinitionsBySourceCollName={};e.defineEngine=function(a,d){var b,e=["get","set","remove","clear","all"];c.engines[a]=d;if(!d.returnsPromise)for(b=0;b<e.length;b++){var k=e[b];d[k]=f[ensightenOptions.ns].when.lift(d[k])}};e.storage={instance:{set:function(a,d){},get:function(a){return c.getSync(a.id)}},page:{set:function(a,
    d){},get:function(a){return c.data[a.id]}},session:{set:function(a,d){var b=e.storage.session.get({id:a}),c=new Date,k=c.getTime();c.setTime(k+18E5);null!=b&&(d=b);f[ensightenOptions.ns].data.cookie.utils.set(a,d,{expires:c.toGMTString()});b={expires:c.getTime(),value:d};f[ensightenOptions.ns].data.local.utils.set(a,b)},get:function(a){var d=f[ensightenOptions.ns].data.cookie.utils.get(a.id),b=f.JSON&&f.JSON.stringify?f.JSON:f[ensightenOptions.ns].JSON;b=b||{};var c=new Date;c=c.getTime();if(null===
    d){try{var e=b.parse(f[ensightenOptions.ns].data.local.utils.get(a.id))}catch(n){e=null}null!=e&&(e.expires=+e.expires,c<=e.expires?d=e.value:""==e.expires&&e.value!=p?d=e.value:f[ensightenOptions.ns].data.local.utils.remove(a.id))}return d}},visitor:{set:function(a,d){var b=e.storage.session.get({id:a});null!=b&&(d=b);f[ensightenOptions.ns].data.cookie.utils.set(a,d);f[ensightenOptions.ns].data.local.utils.set(a,{expires:"",value:d})},get:function(a){return e.storage.session.get(a)}}};e.getEngine=
    e.engine=function(a){return a?c.engines[a]||{get:m,set:m,remove:m,clear:m,all:m}:c.engines};e.all=function(a){return f[ensightenOptions.ns].data.engine(a||"memory").all()};e.get=function(a,d,b){d=d||"memory";b=b||{};-1<a.indexOf(",")?(a=a.split(","),a=c.normalizeInputArgs(a)):a=c.normalizeInputArgs(a);return b.wait?c.getWait(a.key,f[ensightenOptions.ns].data.engine(d),b):c.data&&c.data.hasOwnProperty(a.key)?f[ensightenOptions.ns].data.engine(d).get(a.key):c.getWaitForKey(a.key,f[ensightenOptions.ns].data.engine(d),
    b)};c.getWait=function(a,d,b){var c=+new Date,k=f[ensightenOptions.ns].when.defer(),n=function(){var c=d.get(a);if(-1===b.wait)return c;c.then(function(a){b.setCheck(a)?k.resolve(a):setTimeout(g,b.interval)},function(a){setTimeout(g,b.interval)})},g=function(){var a=+new Date-c;-1!==b.wait&&a<b.wait?n():k.reject("Timeout")};b.interval=b.interval||500;b.wait=b.wait||5E3;e.utils.isArray(a)?b.setCheck=b.setCheck||function(a){for(var b=!0,d=0;d<a.length;d++)b=b&&!!a[d];return b}:b.setCheck=b.setCheck||
    function(a){return!!a};n();return k.promise};c.getWaitForKey=function(a,d,b){var e=f[ensightenOptions.ns].when.defer(),k=function(){if(c.data&&c.data.hasOwnProperty(a)){var g=d.get(a);if(-1===b.wait)return g;g.then(function(a){e.resolve(a)},function(a){e.reject(a)})}else setTimeout(n,b.interval)},n=function(){k()};b.interval=b.interval||100;b.wait=b.wait||1;k();return e.promise};e.set=function(a,d,b){var e=c.normalizeInputArgs(a,d);Array.prototype.slice.call(arguments);return f[ensightenOptions.ns].data.engine(b||
    "memory").set(e.key,e.val)};e.remove=function(a,d){return f[ensightenOptions.ns].data.engine(d||"memory").remove(a)};e.clear=function(a){return f[ensightenOptions.ns].data.engine(a||"memory").clear()};e.define=function(a,d){d&&(a.name=d.id||d.name);if(!a.name)return f[ensightenOptions.ns].when.reject(Error("Invalid parameters: missing 'name'"));a.id=a.name;var b=a.load||"page";a.load=a.load||"javascript";a.load=-1<a.load.indexOf("javascript")?a.load:a.load+",javascript";a.trigger=a.trigger||function(){return f[ensightenOptions.ns].when.resolve()};
    a.priv=a.priv||!1;a.collection=a.collection||"Data Layer";a.persist=f[ensightenOptions.ns].data.engine("memory");a.storage=e.storage[b.toLowerCase()]||e.storage.page;var h=a.extract||function(){return document},k=a.transform||function(a){return a},n=function(b,d){var c=[];c.push(a.persist.set(b,d));a.storage.set(a.id,d);"object"==typeof f[ensightenOptions.ns].data.dataExport&&f[ensightenOptions.ns].data.dataExport(b,d,a.collection);f[ensightenOptions.ns].when.all(c).then(function(a){g.resolve(a)},
    function(a){g.reject(a)})},g=f[ensightenOptions.ns].when.defer();try{var q=a.trigger()}catch(r){f[ensightenOptions.ns].reportException(new c.DataDefinitionException(null,'"'+r+'" error caught in Data Definition trigger: '+a.dataDefName+", ID:"+a.id+". Using bottom of body trigger.")),q=f[ensightenOptions.ns].data.bottomOfBodyTrigger()}q.then(function(){g.resolve(f[ensightenOptions.ns].when.reduce([function(){try{return h()}catch(r){return f[ensightenOptions.ns].reportException(new c.DataDefinitionException(null,
    '"'+r+'" error caught in Data Definition extractor: '+a.dataDefName+", ID:"+a.id+".")),null}}(),function(){try{return k.apply(this,arguments)}catch(r){return f[ensightenOptions.ns].reportException(new c.DataDefinitionException(null,'"'+r+'" error caught in Data Definition transformer: '+a.dataDefName+", ID "+a.id+".")),null}},n],function(b,d,c,e){if(1==c)return d(b);2==c&&d(a.name,b)}))},function(a){g.reject(a)});c.dataDefinitions[a.id]=a;c.dataDefinitionsBySourceCollName[""+a.source+"."+a.collection+
    "."+a.dataDefName]=a;return g.promise};e.checkConditions=function(a){var d,b={lt:function(a,b){var d=+a,e=+b;return isNaN(d)||isNaN(e)?(f[ensightenOptions.ns].reportException(new c.DataDefinitionException(null,"Value(s) cannot be converted to number: compareWith: "+a+", compareTo: "+b)),!1):d<e},gt:function(a,b){var d=+a,e=+b;return isNaN(d)||isNaN(e)?(f[ensightenOptions.ns].reportException(new c.DataDefinitionException(null,"Value(s) cannot be converted to number: compareWith: "+a+", compareTo: "+
    b)),!1):d>e},eql:function(a,b){return a==b},exists:function(a,b){return null==a||a==p||""==a?!1:!0},re:function(a,b,d){b=new RegExp(b,d?"i":"");try{return a.match(b)}catch(q){return!1}},starts:function(a,d,c){d=e.utils.escapeRegEx(d);return b.re(a,"^"+d,c)},ends:function(a,d,c){d=e.utils.escapeRegEx(d);return b.re(a,d+"$",c)},contains:function(a,d,c){d=e.utils.escapeRegEx(d);return b.re(a,".*"+d+".*",c)}};b.is=b.eql;b["starts with"]=b.starts;b["ends with"]=b.ends;b["is greater than"]=b.gt;b["is less than"]=
    b.lt;b.matches=b.re;for(d=0;d<a.values.length;d++){var h=(a.customComparator?a.customComparator[d]?a.customComparator[d]:b[a.comparators[d]]:b[a.comparators[d]])(a.values[d],a.compareTo[d],a.caseInsensitive?a.caseInsensitive[d]||!1:!1);a.not[d]&&(h=!h);if(!h)return!1}return!0};e.triggerPromise=function(a,d,b){b=b||5E3;var c=+new Date,e=f[ensightenOptions.ns].when.defer();(function(){var f=a();f!=d?e.resolve(f):+new Date-c<b?setTimeout(arguments.callee,200):e.reject("timed out")})();return e.promise};
    e.timeoutPromise=function(a,d){var b=f[ensightenOptions.ns].when.defer();d=d||800;a.then(b.resolve,b.reject);setTimeout(function(){b.reject(Error("timed out"))},d);return b.promise};e.delayTrigger=function(a){a=a||10;var d=f[ensightenOptions.ns].when.defer();setTimeout(function(){d.resolve()},a);return d.promise};e.delayUntilTrigger=function(a,d,b,c){b=b||null;c=c||200;var e=+new Date,h=f[ensightenOptions.ns].when.defer();(function(){var g=a();g!=d?h.resolve(g):b?+new Date-e<b?setTimeout(arguments.callee,
    c):h.reject("timed out"):setTimeout(arguments.callee,c)})();return h.promise};c.applyTrigger=function(a){var d=f[ensightenOptions.ns].when.defer();a(function(){d.resolve(!0)});return d.promise};e.immediateTrigger=function(){return c.applyTrigger(f[ensightenOptions.ns].bindImmediate)};e.bottomOfBodyTrigger=function(){return c.applyTrigger(f[ensightenOptions.ns].bindDOMParsed)};e.whenValueExistsTrigger=function(){return f[ensightenOptions.ns].when.resolve(this.extract())};e.afterEnsightenCompleteTrigger=
    function(){return c.applyTrigger(f[ensightenOptions.ns].bindPageSpecificCompletion)};e.afterElementsDownloadedTrigger=function(){return c.applyTrigger(f[ensightenOptions.ns].bindDOMLoaded)};e.getAllDataDefinitionsOnCurrentPage=function(){return c.dataDefinitions};e.getAllDataDefinitionsOnCurrentPage_S_C_N=function(){return c.dataDefinitionsBySourceCollName};e.getDataDefinitionById=function(a){return c.dataDefinitions[a||-1]||{}};e.getDataDefinitionBySourceCollectionName=function(a,d,b){return c.dataDefinitionsBySourceCollName[""+
    a+"."+d+"."+b]||{}};e.getDataDefinitionByPercentSyntax=function(a){a=(""+a).split("_");return 1>a.length?{}:c.dataDefinitions[a[1]]||{}};e.resolve=function(a,d){var b=this,h=null;if(!c.checkForInvalidDataDefinitions(a))if(d)f[ensightenOptions.ns].bindDataDefinitionComplete(function(){var e=c.collectAvailableDataDefinitions(a);e.isInvalid||f[ensightenOptions.ns].when.all(e.promises).then(function(e){try{d.apply(b,e)}catch(r){f[ensightenOptions.ns].reportException(new c.DataDefinitionException(a,"Error resolving data definitions: "+
    a+". Details: "+r))}},function(b){f[ensightenOptions.ns].reportException(new c.DataDefinitionException(a,"Error resolving data definitions: "+a+". Details: "+b))})});else{h=[];var k=a;e.utils.isArray(a)||(k=[a]);for(var m=0;m<k.length;m++)h.push(c.getSync(k[m]));return h=e.utils.isArray(a)?h:h[0]}};e.extract=function(a,d){var b="",c=function(a,b){var d=~b.indexOf("#")?b.split("#")[1]:"",c=d?0:~b.indexOf("[")?parseInt(b.match(/\[(\d+)\]/)[1]):0,e=(d?b.split("#")[0]:c?b.split("[")[0]:b).toLowerCase();
    if(a==document&&"html"==e&&0==c)return document.getElementsByTagName("html")[0];if(~b.indexOf("#"))return document.getElementById(b.split("#")[1]);var g=a.firstChild;if(!g)return null;var f=0;for(c=0!=c?c-1:c;g;){if(1==g.nodeType){if(g.tagName.toLowerCase()==e&&""!=d&&g.id==d||g.tagName.toLowerCase()==e&&f==c&&""==d)return g;g.tagName.toLowerCase()==e&&f++}g=g.nextSibling}},e=function(a,b){a=a.split("/");for(var d=c(b||document,a[1]),e=2;e<a.length;e++){if(null==d)return null;d=c(d,a[e])}return d},
    h=function(){for(var a={},b=f.document.getElementsByTagName("META")||[],d=0,c=b.length;d<c;d++){var e=b[d].name||b[d].getAttribute("property")||"";0!==e.length&&(a[e]=b[d].content)}return a}(),g=function(a){var b=h[a];if(b)return b;b=f.document.getElementsByTagName("META")||[];for(var d=0,c=b.length;d<c;d++){var e=b[d].name||b[d].getAttribute("property")||"";if(a==e)return b[d].content}},q=function(a){return(val=(new RegExp("&"+a+"=([^&]*)")).exec(f.location.search.replace(/^\?/,"&")))?val[0].split("=")[1]:
    ""},r=function(a){return(val=(new RegExp("^"+a+"=.*|;\\s*"+a+"=.*")).exec(f.document.cookie))?val[0].split("=")[1].split(";")[0]:""},m=function(a){(a=l(a))&&a.nodeType&&1==a.nodeType&&(a=a.value||a.innerHTML||"");return a.toString().replace(/\n|\r|\s\s+/g,"")||""},l=function(a){var b="";if(0==a.indexOf("/HTML/BODY"))b=e(a);else try{b=eval(a)}catch(A){b=""}return b};try{return d?"meta"==d?b=g(a):"cookie"==d?b=r(a):"param"==d?b=q(a):"content"==d?b=m(a):"event"==d?b=l(a):"var"==d&&(b=f[a]):b=g(a)||r(a)||
    q(a)||m(a)||l(a)||f[a]||"",b||""}catch(x){return""}};if("undefined"==typeof h)var h={exports:{}};return e}(window),window[ensightenOptions.ns].data.defineEngine("store",function(){function f(a){return function(){var d=Array.prototype.slice.call(arguments,0);d.unshift(b);k.appendChild(b);b.addBehavior("#default#userData");b.load(h);d=a.apply(store,d);k.removeChild(b);return d}}function p(a){return a.replace(l,"___")}var l=RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g"),c={},e=window,m=e.document,
    h="localStorage",a,d=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)};c.set=function(a,b){};c.get=function(a){};c.remove=function(a){};c.clear=function(){};try{if(h in e&&e[h]){var b=e[h];c.set=function(a,c){var e,g=window.JSON&&window.JSON.stringify?window.JSON:window[ensightenOptions.ns].JSON;if(d(a)){var f=0;for(e=a.length;f<e;f++)b.setItem(a[f],"string"===typeof c[f]?c[f]:g.stringify(c[f]))}else b.setItem(a,"string"===typeof c?c:g.stringify(c))};c.get=function(a){if(d(a)){var c=
    {},e;var f=0;for(e=a.length;f<e;f++)c[a[f]]=b.getItem(a[f]);return c}return b.getItem(a)};c.remove=function(a){if(d(a)){var c;var e=0;for(c=a.length;e<c;e++)b.removeItem(a[e])}else b.removeItem(a)};c.clear=function(){b.clear()};c.all=function(){return b}}else if("globalStorage"in e&&e.globalStorage)b=e.globalStorage[e.location.hostname],c.set=function(a,c){if(d(a)){var e;var f=0;for(e=a.length;f<e;f++)b[a[f]]=c[f]}else b[a]=c},c.get=function(a){if(d(a)){var c={},e;var f=0;for(e=a.length;f<e;f++)c[a[f]]=
    b[a[f]]&&b[a[f]].value;return c}return b[a]&&b[a].value},c.remove=function(a){if(d(a)){var c;var e=0;for(c=a.length;e<c;e++)delete b[a[e]]}else delete b[a]},c.clear=function(){for(var a in b)delete b[a]},c.all=function(){return b};else if(m.documentElement.addBehavior){try{var t=new ActiveXObject("htmlfile");t.open();t.write('<script>document.w=window\x3c/script><iframe src="/favicon.ico"></frame>');t.close();var k=t.w.frames[0].document;b=k.createElement("div")}catch(g){b=m.createElement("div"),
    k=m.body}c.set=f(function(a,b,e){if(d(b)){var f;var g=0;for(f=b.length;g<f;g++){fixedKey=p(b[g]);if(void 0===e[g])return c.remove(fixedKey);a.setAttribute(fixedKey,e[g]);a.save(h)}}else{fixedKey=p(b);if(void 0===e)return c.remove(fixedKey);a.setAttribute(fixedKey,e);a.save(h)}});c.get=f(function(a,b){if(d(b)){var c={},e;var f=0;for(e=b.length;f<e;f++){var g=p(b[f]);c[b[f]]=a.getAttribute(g)}return c}b=p(b);return a.getAttribute(b)});c.remove=f(function(a,b){if(d(b)){var c;var e=0;for(c=b.length;e<
    c;e++)a.removeAttribute(p(b[e])),a.save(h)}else b=p(b),a.removeAttribute(b),a.save(h)});c.clear=f(function(a){var b=a.XMLDocument.documentElement.attributes;a.load(h);for(var d=0,c;c=b[d];d++)a.removeAttribute(c.name);a.save(h)});c.all=f(function(a){for(var b=a.XMLDocument.documentElement.attributes,d={},c=0,e;e=b[c];++c){var f=p(e.name);d[e.name]=a.getAttribute(f)}return d})}}catch(g){}var n={};for(a in c)n[a]=c[a];n.testStorage=function(){try{var a="tk_"+Math.ceil(5E7*Math.random());n.set(a,"test");
    if("test"===n.get(a))return n.remove(a),!0}catch(q){}return!1};c.utils=n;return window[ensightenOptions.ns].data.local=c}()),window[ensightenOptions.ns].data.defineEngine("cookie",function(f,p){var l=function(){return l.get.apply(l,arguments)},c=l.utils={isArray:Array.isArray||function(c){return"[object Array]"===Object.prototype.toString.call(c)},isPlainObject:window[ensightenOptions.ns].data.utils.isPlainObject,toArray:function(c){return Array.prototype.slice.call(c)},getKeys:Object.keys||function(c){var e=
    [],f="";for(f in c)c.hasOwnProperty(f)&&e.push(f);return e},escape:function(c){return String(c).replace(/[,;"\\=\s%]/g,function(c){return encodeURIComponent(c)})},retrieve:function(c,f){return null==c?f:c},getAllCookies:function(){if(""===f.cookie)return{};for(var c=f.cookie.split("; "),m={},h=0,a=c.length;h<a;h++){var d=c[h].split("=");m[decodeURIComponent(d[0])]=decodeURIComponent(d[1])}return m},set:function(e,m,h){h=h||-1;if(c.isPlainObject(e))for(var a in e)e.hasOwnProperty(a)&&l.set(a,e[a],
    m);else if(c.isArray(e)){var d;a=0;for(d=e.length;a<d;a++)l.set(e[a],m[a],h)}else{a=h.expires!==p?h.expires:l.defaults.expires||"";"number"===typeof a&&(a=new Date(a));a=c.isPlainObject(a)&&"toGMTString"in a?";expires="+a.toGMTString():c.isPlainObject(a)&&a instanceof Date?";expires="+a.toUTCString():";expires="+a;d=(d=h.path||l.defaults.path)?";path="+d:"";var b=h.domain||l.defaults.domain;b=b?";domain="+b:"";h=h.secure||l.defaults.secure?";secure":"";f.cookie=c.escape(e)+"="+c.escape(m)+a+d+b+h}},
    get:function(e,f){f=f||p;var h=c.getAllCookies();if(c.isArray(e)){for(var a={},d=0,b=e.length;d<b;d++)a[e[d]]=c.retrieve(h[e[d]],f),a[e[d]]===p&&(a[e[d]]=null);return a}a=c.retrieve(h[e],f);return a===p?null:a},getGMTString:function(c){var e=new Date;e.setTime(e.getTime()+864E5*c);return e.toGMTString()}};l.defaults={path:"/",expires:c.getGMTString(90)};l.set=function(e,f){c.set(e,f)};l.remove=function(e){e=c.isArray(e)?e:c.toArray(arguments);for(var f=0,h=e.length;f<h;f++)c.set(e[f],"",{expires:-1})};
    l.clear=function(){return l.remove(c.getKeys(c.getAllCookies()))};l.get=function(e,f){return c.get(e,f)};l.all=function(){return c.getAllCookies()};l.utils=c;return window[ensightenOptions.ns].data.cookie=l}(document)));
		
window[ensightenOptions.ns].ensEvent||(window[ensightenOptions.ns].ensEvent=function(p,u){var k={queue:{},pollQueue:{},pushTrigger:function(b,c){if("[object Array]"===Object.prototype.toString.call(b)){for(var g=0;g<b.length;g++)k.pushTrigger(b[g],c);return!0}if("string"!=typeof b)return!1;this.queue[b]=this.queue[b]||{fn:[]};"function"==typeof c&&this.queue[b].fn.push(c);return!0},callTrigger:function(b,c,g){if("string"!=typeof b)return!1;b=k.queue[b];if("object"==typeof b&&b.fn&&b.fn.length&&(0!=
b.fireOnFirstSet&&c==u||c!=u&&0!=b.fireOnUpdate))for(c=0;c<b.fn.length;c++)try{b.fn[c].call(this)}catch(n){p[ensightenOptions.ns].reportException(n)}},setPollOptions:function(b,c,g){this.queue[b]=this.queue[b]||{fn:[]};this.queue[b].fireOnFirstSet=c;this.queue[b].fireOnUpdate=g},callPoll:function(b,c,g,p,r){if("string"==typeof b&&c&&c.length&&!(1>c.length)){for(var n=0;n<c.length;n++)k.setPollOptions(c[n],p,r);k.pushWatch(b,c,g)}},pushWatch:function(b,c,g){this.pollQueue[b]||(this.pollQueue[b]={previousVal:u,
eventArr:[],valueFn:g});this.pollQueue[b].eventArr=this.pollQueue[b].eventArr.concat(c);this.pollQueue[b].valueFn=g},globalWatch:function(){setInterval(function(){for(var b in k.pollQueue){var c=k.pollQueue[b],g=c.valueFn(b);if(c.previousVal!==g&&null!==g&&""!==g){for(var n=0;n<c.eventArr.length;n++)k.callTrigger.call(p,c.eventArr[n],c.previousVal,g);k.pollQueue[b].previousVal=g}}},500)}};k.globalWatch();return{add:function(b,c){return k.pushTrigger(b,c)},get:function(b){return k.queue[b]},trigger:function(b,
c){return k.callTrigger.call(c||p,b)},poll:function(b,c,g,n,r){r=r||p[ensightenOptions.ns].data.resolve;return k.callPoll(b,c,r,g,n)}}}(window),function(p,u,k){u[p]=k()}("qwery",window[ensightenOptions.ns],function(){function p(){this.c={}}function u(a){return H.g(a)||H.s(a,"(^|\\s+)"+a+"(\\s+|$)",1)}function k(a,d){for(var e=0,f=a.length;e<f;e++)d(a[e])}function b(a){for(var d=[],e=0,f=a.length;e<f;++e)l(a[e])?d=d.concat(a[e]):d[d.length]=a[e];return d}function c(a){for(var d=0,e=a.length,f=[];d<
e;d++)f[d]=a[d];return f}function g(a){for(;(a=a.previousSibling)&&1!=a.nodeType;);return a}function n(a,d,e,f,b,h,l,c,g,k,y){var I,B,m;if(1!==this.nodeType||d&&"*"!==d&&this.tagName&&this.tagName.toLowerCase()!==d||e&&(I=e.match(Q))&&I[1]!==this.id)return!1;if(e&&(m=e.match(R)))for(a=m.length;a--;)if(!u(m[a].slice(1)).test(this.className))return!1;if(g&&v.pseudos[g]&&!v.pseudos[g](this,y))return!1;if(f&&!l)for(B in g=this.attributes,g)if(Object.prototype.hasOwnProperty.call(g,B)&&(g[B].name||B)==
b)return this;return f&&!x(h,S(this,b)||"",l)?!1:this}function r(a){return J.g(a)||J.s(a,a.replace(T,"\\$1"))}function x(a,d,e){switch(a){case "=":return d==e;case "^=":return d.match(w.g("^="+e)||w.s("^="+e,"^"+r(e),1));case "$=":return d.match(w.g("$="+e)||w.s("$="+e,r(e)+"$",1));case "*=":return d.match(w.g(e)||w.s(e,r(e),1));case "~=":return d.match(w.g("~="+e)||w.s("~="+e,"(?:^|\\s+)"+r(e)+"(?:\\s+|$)",1));case "|=":return d.match(w.g("|="+e)||w.s("|="+e,"^"+r(e)+"(-|$)",1))}return 0}function q(a,
d){var e=[],f=[],b,h,l=d,c=C.g(a)||C.s(a,a.split(K)),g=a.match(L);if(!c.length)return e;var m=(c=c.slice(0)).pop();c.length&&(b=c[c.length-1].match(M))&&(l=N(d,b[1]));if(!l)return e;var y=m.match(E);var v=l!==d&&9!==l.nodeType&&g&&/^[+~]$/.test(g[g.length-1])?function(a){for(;l=l.nextSibling;)1==l.nodeType&&(y[1]?y[1]==l.tagName.toLowerCase():1)&&(a[a.length]=l);return a}([]):l.getElementsByTagName(y[1]||"*");b=0;for(m=v.length;b<m;b++)if(h=n.apply(v[b],y))e[e.length]=h;if(!c.length)return e;k(e,
function(a){t(a,c,g)&&(f[f.length]=a)});return f}function t(a,d,e,b){function l(a,b,c){for(;c=U[e[b]](c,a);)if(f(c)&&n.apply(c,d[b].match(E)))if(b){if(h=l(c,b-1,c))return h}else return c}var h;return(h=l(a,d.length-1,a))&&(!b||z(h,b))}function f(a,d){return a&&"object"===typeof a&&(d=a.nodeType)&&(1==d||9==d)}function h(a){var d=[],e;var f=0;a:for(;f<a.length;++f){for(e=0;e<d.length;++e)if(d[e]==a[f])continue a;d[d.length]=a[f]}return d}function l(a){return"object"===typeof a&&isFinite(a.length)}
function N(a,d,e){return 9===a.nodeType?a.getElementById(d):a.ownerDocument&&((e=a.ownerDocument.getElementById(d))&&z(e,a)&&e||!z(a,a.ownerDocument)&&F('[id="'+d+'"]',a)[0])}function v(a,d){var e,h;var g=d?"string"==typeof d?v(d)[0]:!d.nodeType&&l(d)?d[0]:d:m;if(!g||!a)return[];if(a===window||f(a))return!d||a!==window&&f(g)&&z(a,g)?[a]:[];if(a&&l(a))return b(a);if(e=a.match(V)){if(e[1])return(h=N(g,e[1]))?[h]:[];if(e[2])return c(g.getElementsByTagName(e[2]));if(W&&e[3])return c(g.getElementsByClassName(e[3]))}return F(a,
g)}function y(a,d){return function(e){var f,b;O.test(e)?9!==a.nodeType&&((b=f=a.getAttribute("id"))||a.setAttribute("id",b="__qwerymeupscotty"),d(a.parentNode||a,'[id="'+b+'"]'+e,!0),f||a.removeAttribute("id")):e.length&&d(a,e,!1)}}var m=document,D=m.documentElement,F,Q=/#([\w\-]+)/,R=/\.[\w\-]+/g,M=/^#([\w\-]+)$/,X=/^([\w]+)?\.([\w\-]+)$/,O=/(^|,)\s*[>~+]/,Y=/^\s+|\s*([,\s\+~>]|$)\s*/g,A=/[\s>\+~]/,P=/(?![\s\w\-\/\?&=:\.\(\)!,@#%<>\{\}\$\*\^'"]*\]|[\s\w\+\-]*\))/,T=/([.*+?\^=!:${}()|\[\]\/\\])/g,
V=new RegExp(M.source+"|"+/^([\w\-]+)$/.source+"|"+/^\.([\w\-]+)$/.source),L=new RegExp("("+A.source+")"+P.source,"g"),K=new RegExp(A.source+P.source),E=new RegExp(/^(\*|[a-z0-9]+)?(?:([\.#]+[\w\-\.#]+)?)/.source+"("+/\[([\w\-]+)(?:([\|\^\$\*~]?=)['"]?([ \w\-\/\?&=:\.\(\)!,@#%<>\{\}\$\*\^]+)["']?)?\]/.source+")?("+/:([\w\-]+)(\(['"]?([^()]+)['"]?\))?/.source+")?"),U={" ":function(a){return a&&a!==D&&a.parentNode},">":function(a,d){return a&&a.parentNode==d.parentNode&&a.parentNode},"~":function(a){return a&&
a.previousSibling},"+":function(a,d,e,f){return a?(e=g(a))&&(f=g(d))&&e==f&&e:!1}};p.prototype={g:function(a){return this.c[a]||void 0},s:function(a,d,e){d=e?new RegExp(d):d;return this.c[a]=d}};var H=new p,J=new p,w=new p,C=new p,z="compareDocumentPosition"in D?function(a,d){return 16==(d.compareDocumentPosition(a)&16)}:"contains"in D?function(a,d){d=9===d.nodeType||d==window?D:d;return d!==a&&d.contains(a)}:function(a,d){for(;a=a.parentNode;)if(a===d)return 1;return 0},S=function(){var a=m.createElement("p");
return(a.innerHTML='<a href="#x">x</a>',"#x"!=a.firstChild.getAttribute("href"))?function(a,e){return"class"===e?a.className:"href"===e||"src"===e?a.getAttribute(e,2):a.getAttribute(e)}:function(a,e){return a.getAttribute(e)}}(),W=!!m.getElementsByClassName,Z=m.querySelector&&m.querySelectorAll,aa=function(a,d){var e=[],f,b;try{if(9===d.nodeType||!O.test(a))return c(d.querySelectorAll(a));k(f=a.split(","),y(d,function(a,d){b=a.querySelectorAll(d);1==b.length?e[e.length]=b.item(0):b.length&&(e=e.concat(c(b)))}));
return 1<f.length&&1<e.length?h(e):e}catch(ba){}return G(a,d)},G=function(a,d){var e=[],f,b;a=a.replace(Y,"$1");if(f=a.match(X)){var l=u(f[2]);f=d.getElementsByTagName(f[1]||"*");var c=0;for(b=f.length;c<b;c++)l.test(f[c].className)&&(e[e.length]=f[c]);return e}k(f=a.split(","),y(d,function(a,f,h){l=q(f,a);c=0;for(b=l.length;c<b;c++)if(9===a.nodeType||h||z(l[c],d))e[e.length]=l[c]}));return 1<f.length&&1<e.length?h(e):e};A=function(a){"undefined"!==typeof a.useNativeQSA&&(F=a.useNativeQSA?Z?aa:G:
G)};A({useNativeQSA:!0});v.configure=A;v.uniq=h;v.is=function(a,d,e){if(f(d))return a==d;if(l(d))return!!~b(d).indexOf(a);for(var c=d.split(","),h;d=c.pop();)if(h=C.g(d)||C.s(d,d.split(K)),d=d.match(L),h=h.slice(0),n.apply(a,h.pop().match(E))&&(!h.length||t(a,h,d,e)))return!0;return!1};v.pseudos={};return v}),function(){function p(f,b,c){n||(n=window[ensightenOptions.ns].qwery);var h=n;if((h=h.call(c,b,c))&&0<h.length){if("_root"==b)f=c;else if(f===c)f=void 0;else{b:{for(var l=h.length,g=0;g<l;g++)if(f===
h[g]){h=!0;break b}h=!1}h||(f.parentNode?(r++,f=p(f.parentNode,b,c)):f=void 0)}return f}return!1}function u(f,b,c,g){q[f.id]||(q[f.id]={});q[f.id][b]||(q[f.id][b]={});q[f.id][b][c]||(q[f.id][b][c]=[]);q[f.id][b][c].push(g)}function k(f,b,c,g){if(g||c)if(g)for(var h=0;h<q[f.id][b][c].length;h++){if(q[f.id][b][c][h]===g){q[f.id][b][c].pop(h,1);break}}else delete q[f.id][b][c];else q[f.id][b]={}}function b(b,c,l){if(q[b][l]){var f=c.target||c.srcElement,h,k,m={},n=k=0;r=0;for(h in q[b][l])q[b][l].hasOwnProperty(h)&&
(k=p(f,h,t[b].element))&&g.matchesEvent(l,t[b].element,k,"_root"==h,c)&&(r++,q[b][l][h].match=k,m[r]=q[b][l][h]);c.stopPropagation=function(){c.cancelBubble=!0};for(k=0;k<=r;k++)if(m[k])for(n=0;n<m[k].length;n++){if(!1===m[k][n].call(m[k].match,c)){g.cancel(c);return}if(c.cancelBubble)return}}}function c(c,h,l,n){function f(c){return function(f){b(p,f,c)}}c instanceof Array||(c=[c]);l||"function"!=typeof h||(l=h,h="_root");var p=this.id,m;for(m=0;m<c.length;m++)q[p]&&q[p][c[m]]||g.addEvent(this,c[m],
f(c[m])),n?k(this,c[m],h,l):u(this,c[m],h,l);return this}function g(b,c,l,k){if("string"==typeof b&&"function"==typeof c||"string"==typeof c)g(document).on(b,c,l,k||!1);if(!(this instanceof g)){for(var f in t)if(t[f].element===b)return t[f];x++;t[x]=new g(b,x);t[x]._on=t[x].on;t[x].on=function(b,c,f,g){var h="function"==typeof c?c:f;if("function"==typeof c?f:g)b=[b],"string"==typeof c&&b.push(c),b.push(function(b){return function(c){c.defaultPrevented||window[ensightenOptions.ns].Delegate.load(this);
if(this.nodeName&&"a"!=this.nodeName.toLowerCase())return b.call(this);"undefined"!=typeof c.preventDefault?c.preventDefault():c.returnValue=!1;b.call(this)}}(h)),this._on.apply(this,b);else return this._on.call(this,b,c,f)};return t[x]}this.element=b;this.id=c}var n,r=0,x=0,q={},t={};g.prototype.on=function(b,g,l){return c.call(this,b,g,l)};g.prototype.off=function(b,g,l){return c.call(this,b,g,l,!0)};g.cancel=function(b){b.preventDefault();b.stopPropagation()};g.addEvent=function(b,c,g){b.element.addEventListener(c,
g,"blur"==c||"focus"==c)};g.matchesEvent=function(){return!0};g.load=function(b){setTimeout(function(b,c){return function(){if(b.nodeName&&"a"==b.nodeName.toLowerCase()){if(c&&/^javascript\s*:/.test(c))return(new Function(unescape(c))).call(window);c&&(window.location.href=c)}}}(b,b.href||""),750)};window[ensightenOptions.ns].Delegate=g}(),function(p){var u=p.addEvent;p.addEvent=function(k,b,c){if(k.element.addEventListener)return u(k,b,c);"focus"==b&&(b="focusin");"blur"==b&&(b="focusout");k.element.attachEvent("on"+
b,c)};p.cancel=function(k){k.preventDefault&&k.preventDefault();k.stopPropagation&&k.stopPropagation();k.returnValue=!1;k.cancelBubble=!0}}(window[ensightenOptions.ns].Delegate),window[ensightenOptions.ns].on=window[ensightenOptions.ns].Delegate);
Bootstrapper.dataDefinitionIds = [49823];/*

 at.js 2.8.1 | (c) Adobe Systems Incorporated | All rights reserved
 zepto.js | (c) 2010-2016 Thomas Fuchs | zeptojs.com/license
 ============== DO NOT ALTER ANYTHING BELOW THIS LINE ! ============

   Adobe Visitor API for JavaScript version: 3.1.2
   Copyright 1996-2015 Adobe, Inc. All Rights Reserved
   More info available at https://marketing.adobe.com/resources/help/en_US/mcvid/
 JavaScript Cookie v2.2.1
 https://github.com/js-cookie/js-cookie

 Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 Released under the MIT license
*/
Bootstrapper.bindDependencyImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions},3277348,[3039001],358910,[578278]);
Bootstrapper.bindDependencyImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;var tntwaittimer=0;console.log("AT.js pre wait "+tntwaittimer+" ms");setTimeout(function(){try{var arr_tntDomains=["online.citi.com/US/ag/small-business-banking","online.citi.com/small-business-banking","online.citi.com/tandc","online.citi.com/US/ag/tandc","online.citi.com/homepage","online.citi.com/US/ag/homepage","citi.com/?loginScreenId\x3dinactivityHomePage",
"citi.com/login"];var currentUrlSSR=window.location.href.toString();var citiSSRCheck=/citi.com\/$/.test(currentUrlSSR);function isUrlInArray(urlList){var currentUrl=window.location.href.toString();var result=false;for(var i=0;i<urlList.length&&result===false;i++)if(currentUrl.indexOf(urlList[i])!=-1)result=true;return result}var addMbox_tnt=false;if(isUrlInArray(arr_tntDomains)){if(citiSSRCheck==true)console.log("AT.js SSR Homepage");else console.log("AT.js checking URL Exclusion");addMbox_tnt=true}if(!addMbox_tnt&&
!citiSSRCheck&&(window.location.host.indexOf(".citi.com")>0||window.location.host.indexOf(".accountonline.com")>0||window.location.host.indexOf(".citicards.com")>0||window.location.host.indexOf(".citibank.com")>0||window.location.host.indexOf(".bridgetrack.com")>0)){function readCookie(name){var nameEQ=name+"\x3d";var ca=document.cookie.split(";");for(var i=0;i<ca.length;i++){var c=ca[i];while(c.charAt(0)==" ")c=c.substring(1,c.length);if(c.indexOf(nameEQ)==0)return c.substring(nameEQ.length,c.length)}return null}
function positionCookie(position){var ECM="";if(readCookie("CBOLECM")!==null)ECM=readCookie("CBOLECM").split("-");else if(readCookie("MarketingECM")!==null)ECM=readCookie("MarketingECM").split("-");var strCookie=ECM;if(typeof strCookie[position]!=="undefined")return strCookie[position];return""}var at_property="7909c194-8b09-4624-7629-d14accdbfb7c";const digitalData=window.digitalData||{"pageInstanceID":"home","page":{"pageInfo":{"pageID":"","destinationURL":document.location.href,"referringURL":document.referrer,
"publisher":"","pageName":document.title,"language":document.querySelector("html").lang=="en"?"en_US":"es_US","pageDef":"","app_hierarchy":"","authentication_status":"","responsive_design_data":"","site_hierarchy":"","spa_page":"","domain":document.location.hostname}},"id":{"customerIds":{"ID":"","CCSID":"","OLDID":"|","s_vi":"","CUUID":"","User3rdID":"","last_CCSID":""}},"lending":{"mortgage":"","recentMortgage":"","revolver":"","loan":"","offers":{"activeBalanceTransfer":"","balanceTransfer":"",
"pil":"","flexpay":"","flexloan":""}},"profile":{"branding":"","status":"","role":"","segment":"","type":"","accountCount":"","location":{"postalCode":"","residentialState":"","stateProvince":""},"services":{"business":{"businessCustomer":"","businessOnly":""},"CitiBlue":"","Citigold":"","Citipriority":"","CitiAlliance":"","CPC":"","IPB":"","creditCard":{"has":"","singleCard":"","numberOf":""},"checking":{"has":"","package":""},"savings":"","paperless":"","brokerage":""}},"tnt":{"tntActivityViewed":"",
"tntClickTracker":"","tntCookieValue":""},"session":{"postStorage":{"availableFlexLoanOffer":"","balancetransferAppStatus":"","cinValuePropCode_SS":"","ExternalAccount":"","productId":"","productType":"","SBOB":"","viewCitiFlexPayOffer_SS":"","ZelleEligible":""}},"cookie":{"ecm":{"autoPayEnroll":"","CertificateDeposit":"","OldestCheckingMOB":"","PID":"","REL":"","RetailMOB":"","SPFMigrated":"","ThankYouEnrolledInCC":"","VANEligible":""}}};var pageID="";var publisher="";var pageDef="";var client="";
var pageInstanceID="home";var pagename=document.title;var language=document.querySelector("html").lang=="en"?"en_US":"es_US";var app_hierarchy="";var authentication_status="";var responsive_design_data="";var site_hierarchy="";var spa_page="";var domain=document.location.hostname;if(window.location.href.indexOf("ID\x3d")<0){pageID=window.location.pathname.split("/")[window.location.pathname.split("/").length-1];publisher="NGA";pageDef="angular page"}else if(window.location.href.indexOf("index.htm")>=
0&&window.location.href.indexOf(".citi.com/US/")==-1&&citiData.siteSection3==="aem"){pageID=citiData.pageName;publisher="AEM";pageDef=citiData.pageDef}else if(citiData.siteSection1==="Sapient"&&window.location.href.indexOf(".citi.com/US/")==-1){pageID=citiData.pageName;publisher="Sapient";pageDef=citiData.pageDef}else{pageID=window.location.href.split("\x3d")[1].split("\x26")[0];publisher="Legacy";pageDef=window.pageDef}var hostname=window.location.hostname.split(".")[0]==("online"||"www")?"Prod":
window.location.hostname.split(".")[0];pageInstanceID=hostname+"|"+pageID;if(window.location.pathname.indexOf("cards/")<0){client="CBOL";publisher+=" "+client}else{client="CARDS";publisher+=" "+client}function GetTNTData(step,digitalData,pageID,publisher,pageDef,client,pageInstanceID,pagename,language,app_hierarchy,authentication_status,responsive_design_data,site_hierarchy,spa_page,domain){console.time("AT.js DATA");if(window.location.href.indexOf("ID\x3d")<0){pageID=window.location.pathname.split("/")[window.location.pathname.split("/").length-
1];publisher="NGA";pageDef="angular page"}else if(window.location.href.indexOf("index.htm")>=0&&window.location.href.indexOf(".citi.com/US/")==-1&&citiData.siteSection3==="aem"){pageID=citiData.pageName;publisher="AEM";pageDef=citiData.pageDef}else if(citiData.siteSection1==="Sapient"&&window.location.href.indexOf(".citi.com/US/")==-1){pageID=citiData.pageName;publisher="Sapient";pageDef=citiData.pageDef}else{pageID=window.location.href.split("\x3d")[1].split("\x26")[0];publisher="Legacy";pageDef=
window.pageDef}var hostname=window.location.hostname.split(".")[0]==("online"||"www")?"Prod":window.location.hostname.split(".")[0];pageInstanceID=hostname+"|"+pageID;if(window.location.pathname.indexOf("cards/")<0){client="CBOL";publisher+=" "+client}else{client="CARDS";publisher+=" "+client}var tntClickTracker_SS=typeof sessionStorage.tntClickTracker!="undefined"?sessionStorage.tntClickTracker:false;var tntActivityViewed_SS=typeof sessionStorage.tntActivityViewed!="undefined"?sessionStorage.tntActivityViewed:
false;var tntCookieValue_TNT=readCookie("tntCookieValue")!=undefined?readCookie("tntCookieValue"):false;var GS=readCookie("GoverningState")!=undefined?readCookie("GoverningState"):"Unknown";var CUUID_TNT=readCookie("CUUID")!=undefined?readCookie("CUUID"):false;var s_vi_TNT=readCookie("s_vi")!=undefined?readCookie("s_vi"):false;var autoPayEnrllnd_ECM=positionCookie(2)=="Y"?true:false;var isBrokerage_ECM=positionCookie(18)=="Y"?true:false;var isBusinessCust_ECM=positionCookie(27)=="Y"?true:false;var isBusinessOnly_ECM=
positionCookie(28)=="Y"?true:false;var hasCD_ECM=positionCookie(12)=="Y"?true:false;var hasChecking_ECM=positionCookie(13)=="Y"?true:false;var CheckingPackage_ECM=positionCookie(34)=="Y"?true:false;var isCitiBlue_ECM=positionCookie(19)=="Y"?true:false;var isCitigold_ECM=positionCookie(20)=="Y"?true:false;var isCitiPriority_ECM=positionCookie(31)=="Y"?true:false;var isCPC_ECM=positionCookie(21)=="Y"?true:false;var hasCreditCard_ECM=positionCookie(15)=="Y"?true:false;var isIPB_ECM=positionCookie(23)==
"Y"?true:false;var hasMortgage_ECM=positionCookie(16)=="Y"?true:false;var OldestCheckingMOB_ECM=positionCookie(39)=="Y"?true:false;var isPaperless_ECM=positionCookie(24)=="Y"?true:false;var PID_ECM=positionCookie(9)=="Y"?true:false;var isRELOnly_ECM=positionCookie(30)=="Y"?true:false;var RetailMOB_ECM=positionCookie(33)=="Y"?true:false;var hasSavings_ECM=positionCookie(17)=="Y"?true:false;var isSPFMigrated_ECM=positionCookie(5)=="Y"?true:false;var isThankYouEnrolledInCC_ECM=positionCookie(6)=="Y"?
true:false;var isVANEligible_ECM=positionCookie(7)=="Y"?true:false;var userStatus=typeof sessionStorage.sessionPostBrandingStorage!="undefined"?"login":typeof sessionStorage.fallbackSessionPostBrandingStorage!="undefined"?"logoff":"visitor";var sessionStorages=typeof sessionStorage.sessionPostBrandingStorage!="undefined"?sessionStorage.sessionPostBrandingStorage:sessionStorage.fallbackSessionPostBrandingStorage;if(sessionStorages!="undefined"){if(typeof sessionStorage.sessionPostBrandingStorage!=
"undefined"){var AccountNumber=JSON.parse(sessionStorage.getItem("sessionPostBrandingStorage")).accounts.length;var availableFlexLoanOffer_SS=JSON.parse(sessionStorage.sessionPostBrandingStorage).serviceLinksBean.availableFlexLoanOffer;var sessionStorageBean=sessionStorage.sessionPostBrandingStorage.split("siteCatalystBean");sessionStorageBean=sessionStorageBean[1].split("{");sessionStorageBean=sessionStorageBean[1].split(",");for(var i=0;i<sessionStorageBean.length;i++)if(sessionStorageBean[i].indexOf("ccsid")!=
-1){var hasCCSIDSplit=sessionStorageBean[i].split(":").pop(-1);var hasCCSID_SS=hasCCSIDSplit.replace(/['"]+/g,"");var lastdigits=hasCCSID_SS.slice(-2)}}if(userStatus!="visitor"){var sessionStorageValues=sessionStorages.split(",");for(var i=0;i<sessionStorageValues.length;i++){var balancetransferAppStatus_SS=sessionStorageValues[i].indexOf("balancetransferAppStatus")!=-1?sessionStorageValues[i].split(":")[1].replace(/['"]+/g,""):false;if(sessionStorageValues[i].indexOf("isCitipriority")!=-1){var isCitiprioritySplit=
sessionStorageValues[i].split(":");var isCitipriority_SS=isCitiprioritySplit[1].replace(/['"]+/g,"")}if(sessionStorageValues[i].indexOf("isCitiAlliance")!=-1){var isCitiAllianceSplit=sessionStorageValues[i].split(":");var isCitiAlliance_SS=isCitiAllianceSplit[1].replace(/['"]+/g,"")}if(sessionStorageValues[i].indexOf("hasCreditCard")!=-1){var hasCreditCardSplit=sessionStorageValues[i].split(":");var hasCreditCard_SS=hasCreditCardSplit[1].replace(/['"]+/g,"")}if(sessionStorageValues[i].indexOf("hasChecking")!=
-1){var hasCheckingSplit=sessionStorageValues[i].split(":");var hasChecking_SS=hasCheckingSplit[1].replace(/['"]+/g,"")}var hasBrokerage_SS=sessionStorageValues[i].indexOf("hasBrokerage")!=-1?sessionStorageValues[i].split(":")[1].replace(/['"]+/g,""):false;var isIPB_SS=sessionStorageValues[i].indexOf("isIPB")!=-1?sessionStorageValues[i].split(":")[1].replace(/['"]+/g,""):false;var customerType_SS=sessionStorageValues[i].indexOf("customerType")!=-1?sessionStorageValues[i].split(":")[1].replace(/['"]+/g,
""):false;if(sessionStorageValues[i].indexOf("hasSavings")!=-1){var hasSavingsSplit=sessionStorageValues[i].split(":");var hasSavings_SS=hasSavingsSplit[1].replace(/['"]+/g,"")}if(sessionStorageValues[i].indexOf("isSingleCardSPF")!=-1){var isSingleCardSPFSplit=sessionStorageValues[i].split(":");var isSingleCardSPF_SS=isSingleCardSPFSplit[1].replace(/['"]+/g,"")}if(sessionStorageValues[i].indexOf("isCPC")!=-1){var isCPCSplit=sessionStorageValues[i].split(":");var isCPC_SS=isCPCSplit[1].replace(/['"]+/g,
"")}if(sessionStorageValues[i].indexOf("hasSBOB")!=-1){var hasSBOB=sessionStorageValues[i].split(":");var hasSBOB_SS=hasSBOB[1].replace(/['"]+/g,"")}if(sessionStorageValues[i].indexOf("isBusinessCust")!=-1){var isBusinessCust=sessionStorageValues[i].split(":");var isBusinessCust_SS=isBusinessCust[1].replace(/['"]+/g,"")}if(sessionStorageValues[i].indexOf("isBusinessOnly")!=-1){var isBusinessOnly=sessionStorageValues[i].split(":");var isBusinessOnly_SS=isBusinessOnly[1].replace(/['"]+/g,"")}if(sessionStorageValues[i].indexOf("hasExternalAccount")!=
-1){var hasExternalAccount=sessionStorageValues[i].split(":");var hasExternalAccount_SS=hasExternalAccount[1].replace(/['"]+/g,"")}if(sessionStorageValues[i].indexOf("hasLoan")!=-1){var hasLoan=sessionStorageValues[i].split(":");var hasLoan_SS=hasLoan[1].replace(/['"]+/g,"")}if(sessionStorageValues[i].indexOf("isCitigold")!=-1){var isCitigold=sessionStorageValues[i].split(":");var isCitigold_SS=isCitigold[1].replace(/['"]+/g,"")}var productType_SS=sessionStorageValues[i].indexOf("productType")!=-1?
sessionStorageValues[i].split(":")[1].replace(/['"]+/g,""):false;if(sessionStorageValues[i].indexOf("isZelleEligible")!=-1){var isZelleEligible=sessionStorageValues[i].split(":");var isZelleEligible_SS=isZelleEligible[1].replace(/['"]+/g,"")}if(sessionStorageValues[i].indexOf("postalCode")!=-1){var postalCodeSplit=sessionStorageValues[i].split(":");var postalCode_SS=postalCodeSplit[1].replace(/['"]+/g,"");postalCode_SS=postalCode_SS.trim()}if(sessionStorageValues[i].indexOf("userBranding")!=-1){var userBrandingSplit=
sessionStorageValues[i].split(":");var userBranding_SS=userBrandingSplit[1].replace(/['"]+/g,"");userBranding_SS=userBranding_SS.trim()}if(sessionStorageValues[i].indexOf("residentialState")!=-1){var residentialStateSplit=sessionStorageValues[i].split(":");var residentialState_SS=residentialStateSplit[1].replace(/['"]+/g,"");residentialState_SS=residentialState_SS.trim()}if(sessionStorageValues[i].indexOf("userRole")!=-1){var userRoleSplit=sessionStorageValues[i].split(":");var userRole_SS=userRoleSplit[1].replace(/['"]+/g,
"");userRole_SS=userRole_SS.trim()}if(sessionStorageValues[i].indexOf("viewCitiFlexPayOffer")!=-1){var viewCitiFlexPayOfferSplit=sessionStorageValues[i].split(":");var viewCitiFlexPayOffer_SS=viewCitiFlexPayOfferSplit[1].replace(/['"]+/g,"");viewCitiFlexPayOffer_SS=viewCitiFlexPayOffer_SS.trim()}if(sessionStorageValues[i].indexOf("userSegmentType")!=-1){var userSegmentTypeSplit=sessionStorageValues[i].split(":");var userSegmentType_SS=userSegmentTypeSplit[1].replace(/['"]+/g,"");userSegmentType_SS=
userSegmentType_SS.trim()}if(sessionStorageValues[i].indexOf("isPaperlessEnabled")!=-1){var isPaperlessEnabledSplit=sessionStorageValues[i].split(":");var isPaperlessEnabled_SS=isPaperlessEnabledSplit[1].replace(/['"]+/g,"");isPaperlessEnabled_SS=isPaperlessEnabled_SS.trim()}if(sessionStorageValues[i].indexOf("cinValuePropCode")!=-1){var cinValuePropCodeSplit=sessionStorageValues[i].split(":");var cinValuePropCode_SS=cinValuePropCodeSplit[1].replace(/['"]+/g,"");cinValuePropCode_SS=cinValuePropCode_SS.trim()}if(sessionStorageValues[i].indexOf("productId")!=
-1){var numberOfCreditCards;var productId_SS=sessionStorageValues[i].split(":");if(productId_SS[1]=='""'){numberOfCreditCards=0;productId_SS[1]="nocreditcards"}else{var clearList=productId_SS[1].replace(/['"]+/g,"");var productList=clearList.split("|");productId_SS=clearList;numberOfCreditCards=productList.length}}}}}if(typeof sessionStorage.OFFER_interstitial!="undefined"){var sessionOfferValues=JSON.parse(sessionStorage.OFFER_interstitial);var sessionOfferValues=sessionStorage.OFFER_interstitial.split(",");
for(var i=0;i<sessionOfferValues.length;i++){if(sessionOfferValues[i].indexOf("offerContent")!=-1){var offerContent=sessionOfferValues[i].split(":");var offerContent_SS=offerContent[1].replace(/['"]+/g,"")}if(sessionOfferValues[i].indexOf("offerName")!=-1){var offerName=sessionOfferValues[i].split(":");var offerName_SS=offerName[1].replace(/['"]+/g,"")}}}var lendingSessionStorage=sessionStorage.lendingStorage;var lendingSS="";function IsLenSSValid(){try{JSON.parse(lendingSessionStorage)}catch(e){return lendingSS=
false}return lendingSS=true}IsLenSSValid();if(typeof lendingSessionStorage!="undefined"&&lendingSS==true){var sessionLendingValues=JSON.parse(lendingSessionStorage);if(sessionLendingValues!=""){var hasRecentMortgage_SS=sessionLendingValues.customerIndicators.hasRecentMortgage!=undefined?sessionLendingValues.customerIndicators.hasRecentMortgage:false;var revolverCustomerFlag_SS=sessionLendingValues.customerIndicators.revolverCustomerFlag!=undefined?sessionLendingValues.customerIndicators.revolverCustomerFlag:
false;var activeBalanceTransferOffer_SS={};for(var i=0;i<sessionLendingValues.activeBalanceTransferOffer.length;i++)activeBalanceTransferOffer_SS[i]=JSON.parse('{"accountNumber":'+JSON.stringify(sessionLendingValues.activeBalanceTransferOffer[i].accountNumber).replace(/['"]+/g,'"')+', "eligibility":'+(JSON.stringify(sessionLendingValues.activeBalanceTransferOffer[i].eligibility)=='"Y"'?"true":"false")+"}");var balanceTransferOffer_SS={};for(var i=0;i<sessionLendingValues.balanceTransferOffer.length;i++)balanceTransferOffer_SS[i]=
JSON.parse('{"accountNumber":'+JSON.stringify(sessionLendingValues.balanceTransferOffer[i].accountNumber).replace(/['"]+/g,'"')+', "eligibility":'+(JSON.stringify(sessionLendingValues.balanceTransferOffer[i].eligibility)=='"Y"'?"true":"false")+"}");var pilOffer_SS={};for(var i=0;i<sessionLendingValues.pilOffer.length;i++)pilOffer_SS[i]=JSON.parse('{"accountNumber":'+JSON.stringify(sessionLendingValues.pilOffer[i].accountNumber).replace(/['"]+/g,'"')+', "eligibility":'+(JSON.stringify(sessionLendingValues.pilOffer[i].eligibility)==
'"Y"'?"true":"false")+"}");var payOffer_SS={};for(var i=0;i<sessionLendingValues.payOffer.length;i++)if(JSON.stringify(sessionLendingValues.payOffer[i].eligibility)=='"N"')payOffer_SS[i]=JSON.parse('{"accountNumber":'+JSON.stringify(sessionLendingValues.payOffer[i].accountNumber).replace(/['"]+/g,'"')+', "eligibility":'+(JSON.stringify(sessionLendingValues.payOffer[i].eligibility)=='"Y"'?"true":"false")+"}");else payOffer_SS[i]=JSON.parse('{"accountNumber":'+JSON.stringify(sessionLendingValues.payOffer[i].accountNumber).replace(/['"]+/g,
'"')+', "eligibility":'+JSON.stringify(sessionLendingValues.payOffer[i].eligibility).replace(/['"]+/g,'"')+', "apr":'+JSON.stringify(sessionLendingValues.payOffer[i].apr).replace(/['"]+/g,'"')+', "maxTerm":'+JSON.stringify(sessionLendingValues.payOffer[i].maxTerm).replace(/['"]+/g,'"')+', "standardPurchaseRateFlag":'+JSON.stringify(sessionLendingValues.payOffer[i].standardPurchaseRateFlag).replace(/['"]+/g,'"')+"}");var loanOffer_SS={};for(var i=0;i<sessionLendingValues.loanOffer.length;i++)if(JSON.stringify(sessionLendingValues.loanOffer[i].eligibility)==
'"N"')loanOffer_SS[i]=JSON.parse('{"accountNumber":'+JSON.stringify(sessionLendingValues.loanOffer[i].accountNumber).replace(/['"]+/g,'"')+', "eligibility":'+(JSON.stringify(sessionLendingValues.loanOffer[i].eligibility)=='"Y"'?"true":"false")+"}");else loanOffer_SS[i]=JSON.parse('{"accountNumber":'+JSON.stringify(sessionLendingValues.loanOffer[i].accountNumber).replace(/['"]+/g,'"')+', "eligibility":'+(JSON.stringify(sessionLendingValues.loanOffer[i].eligibility)=='"Y"'?"true":"false")+', "apr":'+
JSON.stringify(sessionLendingValues.loanOffer[i].apr).replace(/['"]+/g,'"')+', "maxTerm":'+JSON.stringify(sessionLendingValues.loanOffer[i].maxTerm).replace(/['"]+/g,'"')+', "maxLoanAmount":'+JSON.stringify(sessionLendingValues.loanOffer[i].maxLoanAmount).replace(/['"]+/g,'"')+', "monthlyPayment":'+JSON.stringify(sessionLendingValues.loanOffer[i].monthlyPayment).replace(/['"]+/g,'"')+"}")}}try{var ECID=Visitor.getInstance("61834D9B5228A7430A490D45@AdobeOrg")._fields.MCMID;if(hasCCSID_SS!=undefined)var mbox3rdPartyId=
hasCCSID_SS;else var mbox3rdPartyId=ECID}catch(e){console.log("AT.js Load faster than visitorID "+e)}var cd=window.citiData;var dl=window._dl;if(dl!=undefined){language=typeof dl.language!=="undefined"?dl.language==="#"?document.querySelector("html").lang=="en"?"en_US":"es_US":dl.language:document.querySelector("html").lang=="en"?"en_US":"es_US";app_hierarchy=dl.app_hierarchy;authentication_status=dl.authentication_status;responsive_design_data=dl.responsive_design_data;site_hierarchy=dl.site_hierarchy;
spa_page=dl.spa_page!=undefined?dl.spa_page:false;domain=dl.domain!=undefined?dl.domain:document.location.hostname;if(step==="Loading")pagename=document.title;else pagename=dl.evarPageName!=undefined?dl.evarPageName:cd.pageName!=undefined?cd.pageName:document.title}if(hostname!="Prod")console.log("AT.js Language Set "+language);digitalData.pageInstanceID=pageInstanceID;digitalData.page={"pageInfo":{"pageID":pageID,"destinationURL":document.location.href,"referringURL":document.referrer,"publisher":publisher,
"pageName":pagename,"language":language,"pageDef":pageDef,"app_hierarchy":app_hierarchy,"authentication_status":authentication_status,"responsive_design_data":responsive_design_data,"site_hierarchy":site_hierarchy,"spa_page":spa_page,"domain":domain}};digitalData.id={"customerIds":{"ID":ECID,"CCSID":hasCCSID_SS,"OLDID":"|"+hasCCSID_SS,"s_vi":s_vi_TNT,"CUUID":CUUID_TNT,"User3rdID":mbox3rdPartyId,"last_CCSID":lastdigits}};digitalData.lending={"mortgage":hasMortgage_ECM,"recentMortgage":hasRecentMortgage_SS==
"Y"?true:false,"revolver":revolverCustomerFlag_SS=="Y"?true:false,"loan":hasLoan_SS=="Y"?true:false,"offers":{"activeBalanceTransfer":activeBalanceTransferOffer_SS,"balanceTransfer":balanceTransferOffer_SS,"pil":pilOffer_SS,"flexpay":payOffer_SS,"flexloan":hasLoan_SS}};digitalData.profile={"branding":userBranding_SS!=undefined?userBranding_SS:"Default","status":userStatus,"role":userRole_SS!=undefined?userRole_SS:"visitor","segment":userSegmentType_SS!=undefined?userSegmentType_SS:"visitor","type":customerType_SS!=
undefined?customerType_SS:"visitor","accountCount":AccountNumber!=undefined?AccountNumber:0,"location":{"postalCode":postalCode_SS!=undefined?postalCode_SS:"Unknown","residentialState":residentialState_SS!=undefined?residentialState_SS:"Unknown","stateProvince":GS},"services":{"business":{"businessCustomer":isBusinessCust_ECM==true||isBusinessCust_SS=="Y"?true:false,"businessOnly":isBusinessOnly_ECM==true||isBusinessOnly_SS=="Y"?true:false},"CitiBlue":isCitiBlue_ECM,"Citigold":isCitigold_ECM==true||
isCitigold_SS=="Y"?true:false,"Citipriority":isCitiPriority_ECM==true||isCitipriority_SS=="Y"?true:false,"CitiAlliance":isCitiAlliance_SS=="Y"?true:false,"CPC":isCPC_ECM==true||isCPC_SS=="Y"?true:false,"IPB":isIPB_ECM==true||isIPB_SS=="Y"?true:false,"creditCard":{"has":hasCreditCard_ECM==true||hasCreditCard_SS=="Y"?true:false,"singleCard":isSingleCardSPF_SS=="Y"?true:false,"numberOf":numberOfCreditCards!=undefined?numberOfCreditCards:0},"checking":{"has":hasChecking_ECM==true||hasChecking_SS=="Y"?
true:false,"package":CheckingPackage_ECM},"savings":hasSavings_ECM==true||hasSavings_SS=="Y"?true:false,"paperless":isPaperless_ECM==true||isPaperlessEnabled_SS=="Y"?true:false,"brokerage":isBrokerage_ECM==true||hasBrokerage_SS=="Y"?true:false}};digitalData.tnt={"tntActivityViewed":tntActivityViewed_SS,"tntClickTracker":tntClickTracker_SS,"tntCookieValue":tntCookieValue_TNT};digitalData.session={"postStorage":{"availableFlexLoanOffer":availableFlexLoanOffer_SS,"balancetransferAppStatus":balancetransferAppStatus_SS,
"cinValuePropCode_SS":cinValuePropCode_SS,"ExternalAccount":hasExternalAccount_SS,"productId":productId_SS,"productType":productType_SS,"SBOB":hasSBOB_SS,"viewCitiFlexPayOffer_SS":viewCitiFlexPayOffer_SS,"ZelleEligible":isZelleEligible_SS=="Y"?true:false}};digitalData.cookie={"ecm":{"autoPayEnroll":autoPayEnrllnd_ECM,"CertificateDeposit":hasCD_ECM,"OldestCheckingMOB":OldestCheckingMOB_ECM,"PID":PID_ECM,"REL":isRELOnly_ECM,"RetailMOB":RetailMOB_ECM,"SPFMigrated":isSPFMigrated_ECM,"ThankYouEnrolledInCC":isThankYouEnrolledInCC_ECM,
"VANEligible":isVANEligible_ECM}};console.timeEnd("AT.js DATA");console.log("AT.js Get Data in "+step)}GetTNTData("Loading",digitalData,pageID,publisher,pageDef,client,pageInstanceID,pagename,language,app_hierarchy,authentication_status,responsive_design_data,site_hierarchy,spa_page,domain);if(client==="CARDS"&&publisher.indexOf("Sapient")===-1)window.targetGlobalSettings=window.targetGlobalSettings||{pageLoadEnabled:true,viewsEnabled:true,bodyHidingEnabled:0,globalMboxAutoCreate:true,bodyHiddenStyle:"div.citi-outer-container{opacity:0!important}"};
else if(publisher.indexOf("AEM")>=0)window.targetGlobalSettings=window.targetGlobalSettings||{pageLoadEnabled:false,viewsEnabled:false,bodyHidingEnabled:0,globalMboxAutoCreate:true};else if(publisher.indexOf("Sapient")>=0){console.log("AT.js Custom Settings "+publisher);window.targetGlobalSettings=window.targetGlobalSettings||{pageLoadEnabled:true,viewsEnabled:true,bodyHidingEnabled:true,globalMboxAutoCreate:true,bodyHiddenStyle:"body {visibility:hidden !important}"}}else window.targetGlobalSettings=
window.targetGlobalSettings||{pageLoadEnabled:true,viewsEnabled:true,bodyHidingEnabled:0,globalMboxAutoCreate:true,bodyHiddenStyle:"body{opacity:0!important}"};targetPageParamsAll=function(){return{"at_property":at_property,"mbox3rdPartyId":digitalData.id.customerIds.User3rdID,"digitalData.pageInstanceID":digitalData.pageInstanceID,"digitalData.page":digitalData.page,"digitalData.id":digitalData.id,"digitalData.lending":digitalData.lending,"digitalData.profile":digitalData.profile,"digitalData.tnt":digitalData.tnt,
"digitalData.session":digitalData.session,"digitalData.cookie":digitalData.cookie}};console.time("AT.js Time to Load");console.log("AT.js Loading for "+publisher);window.adobe=window.adobe||{},window.adobe.target=function(){var e=window,t=document,n=!t.documentMode||t.documentMode>=11;var r,o,i,c=t.compatMode&&"CSS1Compat"===t.compatMode&&n&&(r=window.navigator.userAgent,o=r.indexOf("MSIE ")>0,i=r.indexOf("Trident/")>0,!(o||i)),s=e.targetGlobalSettings;if(!c||s&&!1===s.enabled)return e.adobe=e.adobe||
{},e.adobe.target={VERSION:"",event:{},getOffer:Xt,getOffers:be,applyOffer:Xt,applyOffers:be,sendNotifications:be,trackEvent:Xt,triggerView:Xt,registerExtension:Xt,init:Xt},e.mboxCreate=Xt,e.mboxDefine=Xt,e.mboxUpdate=Xt,"console"in e&&"warn"in e.console&&e.console.warn("AT: Adobe Target content delivery is disabled. Update your DOCTYPE to support Standards mode."),e.adobe.target;var u="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=
typeof self?self:{};function a(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach(function(n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}),t}var f=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable;function p(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}
var h=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,r,o=p(e),i=
1;i<arguments.length;i++){for(var c in n=Object(arguments[i]))l.call(n,c)&&(o[c]=n[c]);if(f){r=f(n);for(var s=0;s<r.length;s++)d.call(n,r[s])&&(o[r[s]]=n[r[s]])}}return o};function m(e){return null==e}const {isArray:g}=Array,{prototype:v}=Object,{toString:y}=v;function b(e){return function(e){return y.call(e)}(e)}function x(e){const t=typeof e;return null!=e&&("object"===t||"function"===t)}function w(e){return!!x(e)&&"[object Function]"===b(e)}function S(e){return e}function E(e){return w(e)?e:S}
function T(e){return m(e)?[]:Object.keys(e)}const C=(e,t)=>t.forEach(e),k=(e,t)=>{C((n)=>e(t[n],n),T(t))},I=(e,t)=>t.filter(e),N=(e,t)=>{const n={};return k((t,r)=>{e(t,r)&&(n[r]=t)},t),n};function O(e,t){if(m(t))return[];return(g(t)?I:N)(E(e),t)}function _(e){return m(e)?[]:[].concat.apply([],e)}function A(e){var t=this;const n=e?e.length:0;let r=n;for(;r-=1;)if(!w(e[r]))throw new TypeError("Expected a function");return function(){let r=0;for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=
arguments[c];let s=n?e[r].apply(t,i):i[0];for(;(r+=1)<n;)s=e[r].call(t,s);return s}}function q(e,t){if(m(t))return;(g(t)?C:k)(E(e),t)}function M(e){return null!=e&&"object"==typeof e}function P(e){return"string"==typeof e||!g(e)&&M(e)&&"[object String]"===b(e)}function R(e){if(!P(e))return-1;let t=0;const {length:n}=e;for(let r=0;r<n;r+=1)t=(t<<5)-t+e.charCodeAt(r)&4294967295;return t}function D(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}(e.length)&&
!w(e)}const L=(e,t)=>t.map(e);function j(e){return m(e)?[]:D(e)?P(e)?e.split(""):function(e){let t=0;const {length:n}=e,r=Array(n);for(;t<n;)r[t]=e[t],t+=1;return r}(e):(t=T(e),n=e,L((e)=>n[e],t));var t,n}const {prototype:V}=Object,{hasOwnProperty:H}=V;function U(e){if(null==e)return!0;if(D(e)&&(g(e)||P(e)||w(e.splice)))return!e.length;for(const t in e)if(H.call(e,t))return!1;return!0}const {prototype:B}=String,{trim:z}=B;function F(e){return m(e)?"":z.call(e)}function $(e){return P(e)?!F(e):U(e)}
const J=(e)=>!$(e);function Z(e){return"number"==typeof e||M(e)&&"[object Number]"===b(e)}const {prototype:G}=Function,{prototype:K}=Object,{toString:X}=G,{hasOwnProperty:Y}=K,W=X.call(Object);function Q(e){if(!M(e)||"[object Object]"!==b(e))return!1;const t=function(e){return Object.getPrototypeOf(Object(e))}(e);if(null===t)return!0;const n=Y.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&X.call(n)===W}function ee(e,t){return g(t)?t.join(e||""):""}const te=(e,t)=>
{const n={};return k((t,r)=>{n[r]=e(t,r)},t),n};function ne(e,t){if(m(t))return[];return(g(t)?L:te)(E(e),t)}function re(){return(new Date).getTime()}const oe=(e,t,n)=>n.reduce(e,t),ie=(e,t,n)=>{let r=t;return k((t,n)=>{r=e(r,t,n)},n),r};function ce(e,t,n){if(m(n))return t;return(g(n)?oe:ie)(E(e),t,n)}const {prototype:se}=Array,{reverse:ue}=se;function ae(e,t){return $(t)?[]:t.split(e||"")}function fe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return setTimeout(e,Number(t)||
0)}function le(e){clearTimeout(e)}const de="on-device",pe="server-side",he="hybrid",me="edge",ge="local";function ve(e){return void 0===e}const ye=()=>{},be=(e)=>Promise.resolve(e);function xe(e){return!!e.execute&&!!e.execute.pageLoad}function we(e){return!!e.execute&&!!e.execute.mboxes&&e.execute.mboxes.length||0}function Se(e){return!!e.prefetch&&!!e.prefetch.pageLoad}function Ee(e){return!!e.prefetch&&!!e.prefetch.mboxes&&e.prefetch.mboxes.length||0}function Te(e){return!!e.prefetch&&!!e.prefetch.views&&
e.prefetch.views.length||0}function Ce(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(e&&Z(e))return+e.toFixed(t)}function ke(){let e=[];return{addEntry:function(t){e.push(t)},getAndClearEntries:function(){const t=e;return e=[],t},hasEntries:function(){return e.length>0}}}var Ie="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};var Ne=function(e,t){return e(t={exports:{}},t.exports),
t.exports}(function(e){(function(){var t,n,r,o,i,c;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:"undefined"!=typeof process&&null!==process&&process.hrtime?(e.exports=function(){return(t()-i)/1E6},n=process.hrtime,o=(t=function(){var e;return 1E9*(e=n())[0]+e[1]})(),c=1E9*process.uptime(),i=o-c):Date.now?(e.exports=function(){return Date.now()-r},r=Date.now()):(e.exports=function(){return(new Date).getTime()-r},r=(new Date).getTime())}).call(Ie)});
const Oe=function(){let e={},t={},n={};function r(t){const n=(ve(e[t])?0:e[t])+1;return e[t]=n,""+t+n}return{timeStart:function(e){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const o=n?r(e):e;return ve(t[o])&&(t[o]=Ne()),o},timeEnd:function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(ve(t[e]))return-1;const o=Ne()-t[e]-r;return n[e]=o,o},getTimings:()=>n,getTiming:(e)=>n[e],clearTiming:function(r){delete e[r],delete t[r],delete n[r]},reset:function(){e={},
t={},n={}}}}();var _e=function(e,t){if(e){t=t||{};for(var n={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},
r=n.parser[t.strictMode?"strict":"loose"].exec(e),o={},i=14;i--;)o[n.key[i]]=r[i]||"";return o[n.q.name]={},o[n.key[12]].replace(n.q.parser,function(e,t,r){t&&(o[n.q.name][t]=r)}),o}};const Ae=new Uint8Array(256),qe=function(){const e=window.crypto||window.msCrypto;return!m(e)&&e.getRandomValues&&w(e.getRandomValues)&&e.getRandomValues.bind(e)}();function Me(){return qe(Ae)}const Pe=function(){const e=[];for(let t=0;t<256;t+=1)e.push((t+256).toString(16).substr(1));return e}();function Re(e){const t=
e();return t[6]=15&t[6]|64,t[8]=63&t[8]|128,function(e){const t=[];for(let n=0;n<16;n+=1)t.push(Pe[e[n]]);return ee("",t).toLowerCase()}(t)}function De(){return Re(Me)}const Le="type",je="content",Ve="selector",He="src",Ue='Adobe Target content delivery is disabled. Ensure that you can save cookies to your current domain, there is no "mboxDisable" cookie and there is no "mboxDisable" parameter in query string.',Be="options argument is required",ze="Action has no content",Fe="No actions to be rendered",
$e="error",Je="valid",Ze="success",Ge="___target_traces",Ke="display";var Xe=document,Ye=window;const We=/^(?!0)(?!.*\.$)((1?\d?\d|25[0-5]|2[0-4]\d)(\.|$)){4}$/,Qe=/^(com|edu|gov|net|mil|org|nom|co|name|info|biz)$/i;let et={};const tt=["enabled","clientCode","imsOrgId","serverDomain","cookieDomain","timeout","mboxParams","globalMboxParams","defaultContentHiddenStyle","defaultContentVisibleStyle","deviceIdLifetime","bodyHiddenStyle","bodyHidingEnabled","selectorsPollingTimeout","visitorApiTimeout",
"overrideMboxEdgeServer","overrideMboxEdgeServerTimeout","optoutEnabled","optinEnabled","secureOnly","supplementalDataIdParamTimeout","authoringScriptUrl","urlSizeLimit","endpoint","pageLoadEnabled","viewsEnabled","analyticsLogging","serverState","decisioningMethod","pollingInterval","artifactLocation","artifactFormat","artifactPayload","environment","cdnEnvironment","telemetryEnabled","cdnBasePath","cspScriptNonce","cspStyleNonce","globalMboxName"];function nt(e){if(function(e){return We.test(e)}(e))return e;
const t=null==(n=ae(".",e))?n:ue.call(n);var n;const r=t.length;return r>=3&&Qe.test(t[1])?t[2]+"."+t[1]+"."+t[0]:1===r?t[0]:t[1]+"."+t[0]}function rt(e,t,n){let r="";"file:"===e.location.protocol||(r=nt(e.location.hostname)),n.cookieDomain=r,n.enabled=function(e){const {compatMode:t}=e;return t&&"CSS1Compat"===t}(t)&&function(e){const {documentMode:t}=e;return!t||t>=10}(t),function(e,t){e.enabled&&(m(t.globalMboxAutoCreate)||(e.pageLoadEnabled=t.globalMboxAutoCreate),q((n)=>{m(t[n])||(e[n]=t[n])},
tt))}(n,e.targetGlobalSettings||{})}function ot(e){rt(Ye,Xe,e);const t="file:"===Ye.location.protocol;et=h({},e),et.deviceIdLifetime=e.deviceIdLifetime/1E3,et.sessionIdLifetime=e.sessionIdLifetime/1E3,et.scheme=et.secureOnly||t?"https:":""}function it(){return et}var ct={exports:{}};ct.exports=function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function o(){}
function i(t,n,i){if("undefined"!=typeof document){"number"==typeof(i=e({path:"/"},o.defaults,i)).expires&&(i.expires=new Date(1*new Date+864E5*i.expires)),i.expires=i.expires?i.expires.toUTCString():"";try{var c=JSON.stringify(n);/^[\{\[]/.test(c)&&(n=c)}catch(e){}n=r.write?r.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,
escape);var s="";for(var u in i)i[u]&&(s+="; "+u,!0!==i[u]&&(s+="\x3d"+i[u].split(";")[0]));return document.cookie=t+"\x3d"+n+s}}function c(e,n){if("undefined"!=typeof document){for(var o={},i=document.cookie?document.cookie.split("; "):[],c=0;c<i.length;c++){var s=i[c].split("\x3d"),u=s.slice(1).join("\x3d");n||'"'!==u.charAt(0)||(u=u.slice(1,-1));try{var a=t(s[0]);if(u=(r.read||r)(u,a)||t(u),n)try{u=JSON.parse(u)}catch(e){}if(o[a]=u,e===a)break}catch(e){}}return e?o[e]:o}}return o.set=i,o.get=function(e){return c(e,
!1)},o.getJSON=function(e){return c(e,!0)},o.remove=function(t,n){i(t,"",e(n,{expires:-1}))},o.defaults={},o.withConverter=n,o}(function(){})}();var st=ct.exports,ut={get:st.get,set:st.set,remove:st.remove},at={};function ft(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var lt=function(e){switch(typeof e){case "string":return e;case "boolean":return e?"true":"false";case "number":return isFinite(e)?e:"";default:return""}};at.decode=at.parse=function(e,t,n,r){t=t||"\x26",n=n||"\x3d";var o=
{};if("string"!=typeof e||0===e.length)return o;var i=/\+/g;e=e.split(t);var c=1E3;r&&"number"==typeof r.maxKeys&&(c=r.maxKeys);var s=e.length;c>0&&s>c&&(s=c);for(var u=0;u<s;++u){var a,f,l,d,p=e[u].replace(i,"%20"),h=p.indexOf(n);h>=0?(a=p.substr(0,h),f=p.substr(h+1)):(a=p,f=""),l=decodeURIComponent(a),d=decodeURIComponent(f),ft(o,l)?Array.isArray(o[l])?o[l].push(d):o[l]=[o[l],d]:o[l]=d}return o},at.encode=at.stringify=function(e,t,n,r){return t=t||"\x26",n=n||"\x3d",null===e&&(e=void 0),"object"==
typeof e?Object.keys(e).map(function(r){var o=encodeURIComponent(lt(r))+n;return Array.isArray(e[r])?e[r].map(function(e){return o+encodeURIComponent(lt(e))}).join(t):o+encodeURIComponent(lt(e[r]))}).join(t):r?encodeURIComponent(lt(r))+n+encodeURIComponent(lt(e)):""};var dt=at,pt={parse:function(e){return"string"==typeof e&&(e=e.trim().replace(/^[?#&]/,"")),dt.parse(e)},stringify:function(e){return dt.stringify(e)}};const {parse:ht,stringify:mt}=pt,gt=Xe.createElement("a"),vt={};function yt(e){try{return ht(e)}catch(e){return{}}}
function bt(e){try{return mt(e)}catch(e){return""}}function xt(e){try{return decodeURIComponent(e)}catch(t){return e}}function wt(e){try{return encodeURIComponent(e)}catch(t){return e}}function St(e){if(vt[e])return vt[e];gt.href=e;const t=_e(gt.href);return t.queryKey=yt(t.query),vt[e]=t,vt[e]}const {get:Et,set:Tt,remove:Ct}=ut;function kt(e,t,n){return{name:e,value:t,expires:n}}function It(e){const t=ae("#",e);return U(t)||t.length<3||isNaN(parseInt(t[2],10))?null:kt(xt(t[0]),xt(t[1]),Number(t[2]))}
function Nt(){const e=ne(It,$(t=Et("mbox"))?[]:ae("|",t));var t;const n=Math.ceil(re()/1E3);return ce((e,t)=>(e[t.name]=t,e),{},O((e)=>x(e)&&n<=e.expires,e))}function Ot(e){const t=Nt()[e];return x(t)?t.value:""}function _t(e){return ee("#",[wt(e.name),wt(e.value),e.expires])}function At(e){return e.expires}function qt(e,t,n){const r=j(e),o=Math.abs(1E3*function(e){const t=ne(At,e);return Math.max.apply(null,t)}(r)-re()),i=ee("|",ne(_t,r)),c=new Date(re()+o),s=h({domain:t,expires:c,secure:n},n?{sameSite:"None"}:
{});Tt("mbox",i,s)}function Mt(e){const {name:t,value:n,expires:r,domain:o,secure:i}=e,c=Nt();c[t]=kt(t,n,Math.ceil(r+re()/1E3)),qt(c,o,i)}function Pt(e,t,n){return function(e){return J(Et(e))}(n)||function(e,t){const {location:n}=e,{search:r}=n,o=yt(r);return J(o[t])}(e,n)||function(e,t){const {referrer:n}=e,r=St(n).queryKey;return!m(r)&&J(r[t])}(t,n)}function Rt(){return it().enabled&&function(){const e=it(),t=e.cookieDomain,n=e.secureOnly,r=h({domain:t,secure:n},n?{sameSite:"None"}:{});Tt("at_check",
"true",r);const o="true"===Et("at_check");return Ct("at_check"),o}()&&!Pt(Ye,Xe,"mboxDisable")}function Dt(){return Pt(Ye,Xe,"mboxDebug")}function Lt(){return Pt(Ye,Xe,"mboxEdit")}const jt="AT:";function Vt(e,t){const {console:n}=e;return!m(n)&&w(n[t])}function Ht(e,t){const {console:n}=e;Vt(e,"warn")&&n.warn.apply(n,[jt].concat(t))}function Ut(e,t){const {console:n}=e;Vt(e,"debug")&&Dt()&&n.debug.apply(n,[jt].concat(t))}function Bt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];
Ht(Ye,t)}function zt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Ut(Ye,t)}function Ft(e,t,n){const r=e[Ge]||[];if(e[Ge]=r,!n)return;const o=r.push;r.version="1",r.settings=function(e){return ce((t,n)=>(t[n]=e[n],t),{},tt)}(t),r.clientTraces=[],r.serverTraces=[],r.push=function(e){r.serverTraces.push(h({timestamp:re()},e)),o.call(this,e)}}function $t(e,t,n,r){"serverTraces"===t&&e[Ge].push(n),r&&"serverTraces"!==t&&e[Ge][t].push(h({timestamp:re()},n))}function Jt(e){$t(Ye,
"serverTraces",e,Dt())}function Zt(e){$t(Ye,"clientTraces",e,Dt())}var Gt=setTimeout;function Kt(e){return Boolean(e&&void 0!==e.length)}function Xt(){}function Yt(e){if(!(this instanceof Yt))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],rn(e,this)}function Wt(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,Yt._immediateFn(function(){var n=
1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var r;try{r=n(e._value)}catch(e){return void en(t.promise,e)}Qt(t.promise,r)}else(1===e._state?Qt:en)(t.promise,e._value)})):e._deferreds.push(t)}function Qt(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof Yt)return e._state=3,e._value=t,void tn(e);if("function"==typeof n)return void rn((r=n,o=t,function(){r.apply(o,arguments)}),e)}e._state=
1,e._value=t,tn(e)}catch(t){en(e,t)}var r,o}function en(e,t){e._state=2,e._value=t,tn(e)}function tn(e){2===e._state&&0===e._deferreds.length&&Yt._immediateFn(function(){e._handled||Yt._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)Wt(e,e._deferreds[t]);e._deferreds=null}function nn(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function rn(e,t){var n=!1;try{e(function(e){n||(n=!0,Qt(t,e))},function(e){n||
(n=!0,en(t,e))})}catch(e){if(n)return;n=!0,en(t,e)}}Yt.prototype["catch"]=function(e){return this.then(null,e)},Yt.prototype.then=function(e,t){var n=new this.constructor(Xt);return Wt(this,new nn(e,t,n)),n},Yt.prototype.finally=function(e){var t=this.constructor;return this.then(function(n){return t.resolve(e()).then(function(){return n})},function(n){return t.resolve(e()).then(function(){return t.reject(n)})})},Yt.all=function(e){return new Yt(function(t,n){if(!Kt(e))return n(new TypeError("Promise.all accepts an array"));
var r=Array.prototype.slice.call(e);if(0===r.length)return t([]);var o=r.length;function i(e,c){try{if(c&&("object"==typeof c||"function"==typeof c)){var s=c.then;if("function"==typeof s)return void s.call(c,function(t){i(e,t)},n)}r[e]=c,0==--o&&t(r)}catch(e){n(e)}}for(var c=0;c<r.length;c++)i(c,r[c])})},Yt.resolve=function(e){return e&&"object"==typeof e&&e.constructor===Yt?e:new Yt(function(t){t(e)})},Yt.reject=function(e){return new Yt(function(t,n){n(e)})},Yt.race=function(e){return new Yt(function(t,
n){if(!Kt(e))return n(new TypeError("Promise.race accepts an array"));for(var r=0,o=e.length;r<o;r++)Yt.resolve(e[r]).then(t,n)})},Yt._immediateFn="function"==typeof setImmediate&&function(e){setImmediate(e)}||function(e){Gt(e,0)},Yt._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};var on=a(Object.freeze({__proto__:null,default:Yt})),cn="undefined"!=typeof window&&window.Promise||void 0!==u&&u.Promise||on.default||on,
sn=function(e){var t=function(){var t,n,r,o,i,c=[],s=c.concat,u=c.filter,a=c.slice,f=e.document,l={},d={},p={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},h=/^\s*<(\w+|!)[^>]*>/,m=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,g=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,v=/^(?:body|html)$/i,y=/([A-Z])/g,b=["val","css","html","text","data","width","height","offset"],x=f.createElement("table"),w=f.createElement("tr"),S={tr:f.createElement("tbody"),
tbody:x,thead:x,tfoot:x,td:w,th:w,"*":f.createElement("div")},E=/complete|loaded|interactive/,T=/^[\w-]*$/,C={},k=C.toString,I={},N=f.createElement("div"),O={tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},_=Array.isArray||function(e){return e instanceof Array};function A(e){return null==
e?String(e):C[k.call(e)]||"object"}function q(e){return"function"==A(e)}function M(e){return null!=e&&e==e.window}function P(e){return null!=e&&e.nodeType==e.DOCUMENT_NODE}function R(e){return"object"==A(e)}function D(e){return R(e)&&!M(e)&&Object.getPrototypeOf(e)==Object.prototype}function L(e){var t=!!e&&"length"in e&&e.length,r=n.type(e);return"function"!=r&&!M(e)&&("array"==r||0===t||"number"==typeof t&&t>0&&t-1 in e)}function j(e){return e.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,
"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function V(e){return e in d?d[e]:d[e]=new RegExp("(^|\\s)"+e+"(\\s|$)")}function H(e,t){return"number"!=typeof t||p[j(e)]?t:t+"px"}function U(e){return"children"in e?a.call(e.children):n.map(e.childNodes,function(e){if(1==e.nodeType)return e})}function B(e,t){var n,r=e?e.length:0;for(n=0;n<r;n++)this[n]=e[n];this.length=r,this.selector=t||""}function z(e,n,r){for(t in n)r&&(D(n[t])||_(n[t]))?(D(n[t])&&!D(e[t])&&(e[t]={}),
_(n[t])&&!_(e[t])&&(e[t]=[]),z(e[t],n[t],r)):void 0!==n[t]&&(e[t]=n[t])}function F(e,t){return null==t?n(e):n(e).filter(t)}function $(e,t,n,r){return q(t)?t.call(e,n,r):t}function Z(e,t,n){null==n?e.removeAttribute(t):e.setAttribute(t,n)}function G(e,t){var n=e.className||"",r=n&&void 0!==n.baseVal;if(void 0===t)return r?n.baseVal:n;r?n.baseVal=t:e.className=t}function K(e){try{return e?"true"==e||"false"!=e&&("null"==e?null:+e+""==e?+e:/^[\[\{]/.test(e)?n.parseJSON(e):e):e}catch(t){return e}}function X(e,
t){t(e);for(var n=0,r=e.childNodes.length;n<r;n++)X(e.childNodes[n],t)}function Y(e,t,n){const r=e.getElementsByTagName("script")[0];if(!r)return;const o=r.parentNode;if(!o)return;const i=e.createElement("script");i.innerHTML=t,J(n)&&i.setAttribute("nonce",n),o.appendChild(i),o.removeChild(i)}return I.matches=function(e,t){if(!t||!e||1!==e.nodeType)return!1;var n=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.oMatchesSelector||e.matchesSelector;if(n)return n.call(e,t);var r,o=e.parentNode,
i=!o;return i&&(o=N).appendChild(e),r=~I.qsa(o,t).indexOf(e),i&&N.removeChild(e),r},o=function(e){return e.replace(/-+(.)?/g,function(e,t){return t?t.toUpperCase():""})},i=function(e){return u.call(e,function(t,n){return e.indexOf(t)==n})},I.fragment=function(e,t,r){var o,i,c;return m.test(e)&&(o=n(f.createElement(RegExp.$1))),o||(e.replace&&(e=e.replace(g,"\x3c$1\x3e\x3c/$2\x3e")),void 0===t&&(t=h.test(e)&&RegExp.$1),t in S||(t="*"),(c=S[t]).innerHTML=""+e,o=n.each(a.call(c.childNodes),function(){c.removeChild(this)})),
D(r)&&(i=n(o),n.each(r,function(e,t){b.indexOf(e)>-1?i[e](t):i.attr(e,t)})),o},I.Z=function(e,t){return new B(e,t)},I.isZ=function(e){return e instanceof I.Z},I.init=function(e,t){var r,o;if(!e)return I.Z();if("string"==typeof e)if("\x3c"==(e=e.trim())[0]&&h.test(e))r=I.fragment(e,RegExp.$1,t),e=null;else{if(void 0!==t)return n(t).find(e);r=I.qsa(f,e)}else{if(q(e))return n(f).ready(e);if(I.isZ(e))return e;if(_(e))o=e,r=u.call(o,function(e){return null!=e});else if(R(e))r=[e],e=null;else if(h.test(e))r=
I.fragment(e.trim(),RegExp.$1,t),e=null;else{if(void 0!==t)return n(t).find(e);r=I.qsa(f,e)}}return I.Z(r,e)},(n=function(e,t){return I.init(e,t)}).extend=function(e){var t,n=a.call(arguments,1);return"boolean"==typeof e&&(t=e,e=n.shift()),n.forEach(function(n){z(e,n,t)}),e},I.qsa=function(e,t){var n,r="#"==t[0],o=!r&&"."==t[0],i=r||o?t.slice(1):t,c=T.test(i);return e.getElementById&&c&&r?(n=e.getElementById(i))?[n]:[]:1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType?[]:a.call(c&&!r&&e.getElementsByClassName?
o?e.getElementsByClassName(i):e.getElementsByTagName(t):e.querySelectorAll(t))},n.contains=f.documentElement.contains?function(e,t){return e!==t&&e.contains(t)}:function(e,t){for(;t&&(t=t.parentNode);)if(t===e)return!0;return!1},n.type=A,n.isFunction=q,n.isWindow=M,n.isArray=_,n.isPlainObject=D,n.isEmptyObject=function(e){var t;for(t in e)return!1;return!0},n.isNumeric=function(e){var t=Number(e),n=typeof e;return null!=e&&"boolean"!=n&&("string"!=n||e.length)&&!isNaN(t)&&isFinite(t)||!1},n.inArray=
function(e,t,n){return c.indexOf.call(t,e,n)},n.camelCase=o,n.trim=function(e){return null==e?"":String.prototype.trim.call(e)},n.uuid=0,n.support={},n.expr={},n.noop=function(){},n.map=function(e,t){var r,o,i,c,s=[];if(L(e))for(o=0;o<e.length;o++)null!=(r=t(e[o],o))&&s.push(r);else for(i in e)null!=(r=t(e[i],i))&&s.push(r);return(c=s).length>0?n.fn.concat.apply([],c):c},n.each=function(e,t){var n,r;if(L(e))for(n=0;n<e.length;n++){if(!1===t.call(e[n],n,e[n]))return e}else for(r in e)if(!1===t.call(e[r],
r,e[r]))return e;return e},n.grep=function(e,t){return u.call(e,t)},e.JSON&&(n.parseJSON=JSON.parse),n.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){C["[object "+t+"]"]=t.toLowerCase()}),n.fn={constructor:I.Z,length:0,forEach:c.forEach,reduce:c.reduce,push:c.push,sort:c.sort,splice:c.splice,indexOf:c.indexOf,concat:function(){var e,t,n=[];for(e=0;e<arguments.length;e++)t=arguments[e],n[e]=I.isZ(t)?t.toArray():t;return s.apply(I.isZ(this)?this.toArray():
this,n)},map:function(e){return n(n.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return n(a.apply(this,arguments))},ready:function(e){return E.test(f.readyState)&&f.body?e(n):f.addEventListener("DOMContentLoaded",function(){e(n)},!1),this},get:function(e){return void 0===e?a.call(this):this[e>=0?e:e+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},
each:function(e){for(var t,n=this.length,r=0;r<n&&(t=this[r],!1!==e.call(t,r,t));)r++;return this},filter:function(e){return q(e)?this.not(this.not(e)):n(u.call(this,function(t){return I.matches(t,e)}))},add:function(e,t){return n(i(this.concat(n(e,t))))},is:function(e){return this.length>0&&I.matches(this[0],e)},not:function(e){var t=[];if(q(e)&&void 0!==e.call)this.each(function(n){e.call(this,n)||t.push(this)});else{var r="string"==typeof e?this.filter(e):L(e)&&q(e.item)?a.call(e):n(e);this.forEach(function(e){r.indexOf(e)<
0&&t.push(e)})}return n(t)},has:function(e){return this.filter(function(){return R(e)?n.contains(this,e):n(this).find(e).size()})},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},first:function(){var e=this[0];return e&&!R(e)?e:n(e)},last:function(){var e=this[this.length-1];return e&&!R(e)?e:n(e)},find:function(e){var t=this;return e?"object"==typeof e?n(e).filter(function(){var e=this;return c.some.call(t,function(t){return n.contains(t,e)})}):1==this.length?n(I.qsa(this[0],e)):this.map(function(){return I.qsa(this,
e)}):n()},closest:function(e,t){var r=[],o="object"==typeof e&&n(e);return this.each(function(n,i){for(;i&&!(o?o.indexOf(i)>=0:I.matches(i,e));)i=i!==t&&!P(i)&&i.parentNode;i&&r.indexOf(i)<0&&r.push(i)}),n(r)},parents:function(e){for(var t=[],r=this;r.length>0;)r=n.map(r,function(e){if((e=e.parentNode)&&!P(e)&&t.indexOf(e)<0)return t.push(e),e});return F(t,e)},parent:function(e){return F(i(this.pluck("parentNode")),e)},children:function(e){return F(this.map(function(){return U(this)}),e)},contents:function(){return this.map(function(){return this.contentDocument||
a.call(this.childNodes)})},siblings:function(e){return F(this.map(function(e,t){return u.call(U(t.parentNode),function(e){return e!==t})}),e)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(e){return n.map(this,function(t){return t[e]})},show:function(){return this.each(function(){var e,t,n;"none"==this.style.display&&(this.style.display=""),"none"==getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display=(e=this.nodeName,l[e]||(t=f.createElement(e),
f.body.appendChild(t),n=getComputedStyle(t,"").getPropertyValue("display"),t.parentNode.removeChild(t),"none"==n&&(n="block"),l[e]=n),l[e]))})},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){var t=q(e);if(this[0]&&!t)var r=n(e).get(0),o=r.parentNode||this.length>1;return this.each(function(i){n(this).wrapAll(t?e.call(this,i):o?r.cloneNode(!0):r)})},wrapAll:function(e){if(this[0]){var t;for(n(this[0]).before(e=n(e));(t=e.children()).length;)e=t.first();n(e).append(this)}return this},
wrapInner:function(e){var t=q(e);return this.each(function(r){var o=n(this),i=o.contents(),c=t?e.call(this,r):e;i.length?i.wrapAll(c):o.append(c)})},unwrap:function(){return this.parent().each(function(){n(this).replaceWith(n(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(e){return this.each(function(){var t=n(this);(void 0===e?"none"==t.css("display"):e)?t.show():t.hide()})},prev:function(e){return n(this.pluck("previousElementSibling")).filter(e||
"*")},next:function(e){return n(this.pluck("nextElementSibling")).filter(e||"*")},html:function(e){return 0 in arguments?this.each(function(t){var r=this.innerHTML;n(this).empty().append($(this,e,t,r))}):0 in this?this[0].innerHTML:null},text:function(e){return 0 in arguments?this.each(function(t){var n=$(this,e,t,this.textContent);this.textContent=null==n?"":""+n}):0 in this?this.pluck("textContent").join(""):null},attr:function(e,n){var r;return"string"!=typeof e||1 in arguments?this.each(function(r){if(1===
this.nodeType)if(R(e))for(t in e)Z(this,t,e[t]);else Z(this,e,$(this,n,r,this.getAttribute(e)))}):0 in this&&1==this[0].nodeType&&null!=(r=this[0].getAttribute(e))?r:void 0},removeAttr:function(e){return this.each(function(){1===this.nodeType&&e.split(" ").forEach(function(e){Z(this,e)},this)})},prop:function(e,t){return e=O[e]||e,1 in arguments?this.each(function(n){this[e]=$(this,t,n,this[e])}):this[0]&&this[0][e]},removeProp:function(e){return e=O[e]||e,this.each(function(){delete this[e]})},data:function(e,
t){var n="data-"+e.replace(y,"-$1").toLowerCase(),r=1 in arguments?this.attr(n,t):this.attr(n);return null!==r?K(r):void 0},val:function(e){return 0 in arguments?(null==e&&(e=""),this.each(function(t){this.value=$(this,e,t,this.value)})):this[0]&&(this[0].multiple?n(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value)},offset:function(t){if(t)return this.each(function(e){var r=n(this),o=$(this,t,e,r.offset()),i=r.offsetParent().offset(),c={top:o.top-i.top,
left:o.left-i.left};"static"==r.css("position")&&(c.position="relative"),r.css(c)});if(!this.length)return null;if(f.documentElement!==this[0]&&!n.contains(f.documentElement,this[0]))return{top:0,left:0};var r=this[0].getBoundingClientRect();return{left:r.left+e.pageXOffset,top:r.top+e.pageYOffset,width:Math.round(r.width),height:Math.round(r.height)}},css:function(e,r){if(arguments.length<2){var i=this[0];if("string"==typeof e){if(!i)return;return i.style[o(e)]||getComputedStyle(i,"").getPropertyValue(e)}if(_(e)){if(!i)return;
var c={},s=getComputedStyle(i,"");return n.each(e,function(e,t){c[t]=i.style[o(t)]||s.getPropertyValue(t)}),c}}var u="";if("string"==A(e))r||0===r?u=j(e)+":"+H(e,r):this.each(function(){this.style.removeProperty(j(e))});else for(t in e)e[t]||0===e[t]?u+=j(t)+":"+H(t,e[t])+";":this.each(function(){this.style.removeProperty(j(t))});return this.each(function(){this.style.cssText+=";"+u})},index:function(e){return e?this.indexOf(n(e)[0]):this.parent().children().indexOf(this[0])},hasClass:function(e){return!!e&&
c.some.call(this,function(e){return this.test(G(e))},V(e))},addClass:function(e){return e?this.each(function(t){if("className"in this){r=[];var o=G(this);$(this,e,t,o).split(/\s+/g).forEach(function(e){n(this).hasClass(e)||r.push(e)},this),r.length&&G(this,o+(o?" ":"")+r.join(" "))}}):this},removeClass:function(e){return this.each(function(t){if("className"in this){if(void 0===e)return G(this,"");r=G(this),$(this,e,t,r).split(/\s+/g).forEach(function(e){r=r.replace(V(e)," ")}),G(this,r.trim())}})},
toggleClass:function(e,t){return e?this.each(function(r){var o=n(this);$(this,e,r,G(this)).split(/\s+/g).forEach(function(e){(void 0===t?!o.hasClass(e):t)?o.addClass(e):o.removeClass(e)})}):this},scrollTop:function(e){if(this.length){var t="scrollTop"in this[0];return void 0===e?t?this[0].scrollTop:this[0].pageYOffset:this.each(t?function(){this.scrollTop=e}:function(){this.scrollTo(this.scrollX,e)})}},scrollLeft:function(e){if(this.length){var t="scrollLeft"in this[0];return void 0===e?t?this[0].scrollLeft:
this[0].pageXOffset:this.each(t?function(){this.scrollLeft=e}:function(){this.scrollTo(e,this.scrollY)})}},position:function(){if(this.length){var e=this[0],t=this.offsetParent(),r=this.offset(),o=v.test(t[0].nodeName)?{top:0,left:0}:t.offset();return r.top-=parseFloat(n(e).css("margin-top"))||0,r.left-=parseFloat(n(e).css("margin-left"))||0,o.top+=parseFloat(n(t[0]).css("border-top-width"))||0,o.left+=parseFloat(n(t[0]).css("border-left-width"))||0,{top:r.top-o.top,left:r.left-o.left}}},offsetParent:function(){return this.map(function(){for(var e=
this.offsetParent||f.body;e&&!v.test(e.nodeName)&&"static"==n(e).css("position");)e=e.offsetParent;return e})}},n.fn.detach=n.fn.remove,["width","height"].forEach(function(e){var t=e.replace(/./,function(e){return e[0].toUpperCase()});n.fn[e]=function(r){var o,i=this[0];return void 0===r?M(i)?i["inner"+t]:P(i)?i.documentElement["scroll"+t]:(o=this.offset())&&o[e]:this.each(function(t){(i=n(this)).css(e,$(this,r,t,i[e]()))})}}),["after","prepend","before","append"].forEach(function(e,t){var r=t%2;
n.fn[e]=function(){var e,o,i=n.map(arguments,function(t){var r=[];return"array"==(e=A(t))?(t.forEach(function(e){return void 0!==e.nodeType?r.push(e):n.zepto.isZ(e)?r=r.concat(e.get()):void(r=r.concat(I.fragment(e)))}),r):"object"==e||null==t?t:I.fragment(t)}),c=this.length>1;return i.length<1?this:this.each(function(e,s){o=r?s:s.parentNode,s=0==t?s.nextSibling:1==t?s.firstChild:2==t?s:null;const u=n.contains(f.documentElement,o),a=/^(text|application)\/(javascript|ecmascript)$/,l=it(),d=l.cspScriptNonce,
p=l.cspStyleNonce;i.forEach(function(e){if(c)e=e.cloneNode(!0);else if(!o)return n(e).remove();J(d)&&"SCRIPT"===e.tagName&&e.setAttribute("nonce",d),J(p)&&"STYLE"===e.tagName&&e.setAttribute("nonce",p),o.insertBefore(e,s),u&&X(e,function(e){null==e.nodeName||"SCRIPT"!==e.nodeName.toUpperCase()||e.type&&!a.test(e.type.toLowerCase())||e.src||Y(f,e.innerHTML,e.nonce)})})})},n.fn[r?e+"To":"insert"+(t?"Before":"After")]=function(t){return n(t)[e](this),this}}),I.Z.prototype=B.prototype=n.fn,I.uniq=i,I.deserializeValue=
K,n.zepto=I,n}();return function(t){var n=1,r=Array.prototype.slice,o=t.isFunction,i=function(e){return"string"==typeof e},c={},s={},u="onfocusin"in e,a={focus:"focusin",blur:"focusout"},f={mouseenter:"mouseover",mouseleave:"mouseout"};function l(e){return e._zid||(e._zid=n++)}function d(e,t,n,r){if((t=p(t)).ns)var o=(i=t.ns,new RegExp("(?:^| )"+i.replace(" "," .* ?")+"(?: |$)"));var i;return(c[l(e)]||[]).filter(function(e){return e&&(!t.e||e.e==t.e)&&(!t.ns||o.test(e.ns))&&(!n||l(e.fn)===l(n))&&
(!r||e.sel==r)})}function p(e){var t=(""+e).split(".");return{e:t[0],ns:t.slice(1).sort().join(" ")}}function h(e,t){return e.del&&!u&&e.e in a||!!t}function m(e){return f[e]||u&&a[e]||e}function g(e,n,r,o,i,s,u){var a=l(e),d=c[a]||(c[a]=[]);n.split(/\s/).forEach(function(n){if("ready"==n)return t(document).ready(r);var c=p(n);c.fn=r,c.sel=i,c.e in f&&(r=function(e){var n=e.relatedTarget;if(!n||n!==this&&!t.contains(this,n))return c.fn.apply(this,arguments)}),c.del=s;var a=s||r;c.proxy=function(t){if(!(t=
S(t)).isImmediatePropagationStopped()){t.data=o;var n=a.apply(e,null==t._args?[t]:[t].concat(t._args));return!1===n&&(t.preventDefault(),t.stopPropagation()),n}},c.i=d.length,d.push(c),"addEventListener"in e&&e.addEventListener(m(c.e),c.proxy,h(c,u))})}function v(e,t,n,r,o){var i=l(e);(t||"").split(/\s/).forEach(function(t){d(e,t,n,r).forEach(function(t){delete c[i][t.i],"removeEventListener"in e&&e.removeEventListener(m(t.e),t.proxy,h(t,o))})})}s.click=s.mousedown=s.mouseup=s.mousemove="MouseEvents",
t.event={add:g,remove:v},t.proxy=function(e,n){var c=2 in arguments&&r.call(arguments,2);if(o(e)){var s=function(){return e.apply(n,c?c.concat(r.call(arguments)):arguments)};return s._zid=l(e),s}if(i(n))return c?(c.unshift(e[n],e),t.proxy.apply(null,c)):t.proxy(e[n],e);throw new TypeError("expected function");},t.fn.bind=function(e,t,n){return this.on(e,t,n)},t.fn.unbind=function(e,t){return this.off(e,t)},t.fn.one=function(e,t,n,r){return this.on(e,t,n,r,1)};var y=function(){return!0},b=function(){return!1},
x=/^([A-Z]|returnValue$|layer[XY]$|webkitMovement[XY]$)/,w={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};function S(e,n){if(n||!e.isDefaultPrevented){n||(n=e),t.each(w,function(t,r){var o=n[t];e[t]=function(){return this[r]=y,o&&o.apply(n,arguments)},e[r]=b});try{e.timeStamp||(e.timeStamp=(new Date).getTime())}catch(e){}(void 0!==n.defaultPrevented?n.defaultPrevented:"returnValue"in n?!1===n.returnValue:n.getPreventDefault&&
n.getPreventDefault())&&(e.isDefaultPrevented=y)}return e}function E(e){var t,n={originalEvent:e};for(t in e)x.test(t)||void 0===e[t]||(n[t]=e[t]);return S(n,e)}t.fn.delegate=function(e,t,n){return this.on(t,e,n)},t.fn.undelegate=function(e,t,n){return this.off(t,e,n)},t.fn.live=function(e,n){return t(document.body).delegate(this.selector,e,n),this},t.fn.die=function(e,n){return t(document.body).undelegate(this.selector,e,n),this},t.fn.on=function(e,n,c,s,u){var a,f,l=this;return e&&!i(e)?(t.each(e,
function(e,t){l.on(e,n,c,t,u)}),l):(i(n)||o(s)||!1===s||(s=c,c=n,n=void 0),void 0!==s&&!1!==c||(s=c,c=void 0),!1===s&&(s=b),l.each(function(o,i){u&&(a=function(e){return v(i,e.type,s),s.apply(this,arguments)}),n&&(f=function(e){var o,c=t(e.target).closest(n,i).get(0);if(c&&c!==i)return o=t.extend(E(e),{currentTarget:c,liveFired:i}),(a||s).apply(c,[o].concat(r.call(arguments,1)))}),g(i,e,s,c,n,f||a)}))},t.fn.off=function(e,n,r){var c=this;return e&&!i(e)?(t.each(e,function(e,t){c.off(e,n,t)}),c):(i(n)||
o(r)||!1===r||(r=n,n=void 0),!1===r&&(r=b),c.each(function(){v(this,e,r,n)}))},t.fn.trigger=function(e,n){return(e=i(e)||t.isPlainObject(e)?t.Event(e):S(e))._args=n,this.each(function(){e.type in a&&"function"==typeof this[e.type]?this[e.type]():"dispatchEvent"in this?this.dispatchEvent(e):t(this).triggerHandler(e,n)})},t.fn.triggerHandler=function(e,n){var r,o;return this.each(function(c,s){(r=E(i(e)?t.Event(e):e))._args=n,r.target=s,t.each(d(s,e.type||e),function(e,t){if(o=t.proxy(r),r.isImmediatePropagationStopped())return!1})}),
o},"focusin focusout focus blur load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(e){t.fn[e]=function(t){return 0 in arguments?this.bind(e,t):this.trigger(e)}}),t.Event=function(e,t){i(e)||(e=(t=e).type);var n=document.createEvent(s[e]||"Events"),r=!0;if(t)for(var o in t)"bubbles"==o?r=!!t[o]:n[o]=t[o];return n.initEvent(e,r,!0),S(n)}}(t),function(){try{getComputedStyle(void 0)}catch(n){var t=
getComputedStyle;e.getComputedStyle=function(e,n){try{return t(e,n)}catch(e){return null}}}}(),function(e){var t=e.zepto,n=t.qsa,r=/^\s*>/,o="Zepto"+ +new Date,i=function(t,i){var c,s,u=i;try{u?r.test(u)&&(s=e(t).addClass(o),u="."+o+" "+u):u="*",c=n(t,u)}catch(e){throw e;}finally{s&&s.removeClass(o)}return c};t.qsa=function(e,t){var n=t.split(":shadow");if(n.length<2)return i(e,t);for(var r=e,o=0;o<n.length;o++){var c=n[o].trim();if(0===c.indexOf("\x3e")){var s=":host ";(r instanceof Element||r instanceof
HTMLDocument)&&(s=":scope "),c=s+c}var u=i(r,c);if(0===u.length||!u[0]||!u[0].shadowRoot)return u;r=u[0].shadowRoot}}}(t),t}(window);const un=Ye.MutationObserver||Ye.WebkitMutationObserver;function an(){return w(un)}function fn(e){return new un(e)}function ln(){const e=Xe.createTextNode(""),t=[];return fn(()=>{const e=t.length;for(let n=0;n<e;n+=1)t[n]();t.splice(0,e)}).observe(e,{characterData:!0}),(n)=>{t.push(n),e.textContent=e.textContent.length>0?"":"a"}}function dn(e){return new cn(e)}function pn(e){return cn.resolve(e)}
function hn(e){return cn.reject(e)}function mn(e){return g(e)?cn.all(e):hn(new TypeError("Expected an array of promises"))}function gn(e,t,n){let r=-1;const o=dn((e,o)=>{r=fe(()=>o(new Error(n)),t)});return(i=[e,o],g(i)?cn.race(i):hn(new TypeError("Expected an array of promises"))).then((e)=>(le(r),e),(e)=>{throw le(r),e;});var i}function vn(e){if(m(e.adobe))return!1;const t=e.adobe;if(m(t.optIn))return!1;const n=t.optIn;return w(n.fetchPermissions)&&w(n.isApproved)}function yn(e,t){if(!vn(e))return!0;
const n=e.adobe.optIn,r=(e.adobe.optIn.Categories||{})[t];return n.isApproved(r)}function bn(){const e=it().optinEnabled;return function(e,t){return!!t&&vn(e)}(Ye,e)}function xn(){return yn(Ye,"TARGET")}function wn(){return function(e,t){if(!vn(e))return pn(!0);const n=e.adobe.optIn,r=(e.adobe.optIn.Categories||{})[t];return dn((e,t)=>{n.fetchPermissions(()=>{n.isApproved(r)?e(!0):t("Adobe Target is not opted in")},!0)})}(Ye,"TARGET")}cn._setImmediateFn&&(an()?cn._setImmediateFn(ln()):-1!==Ye.navigator.userAgent.indexOf("MSIE 10")&&
cn._setImmediateFn((e)=>{let t=sn("\x3cscript\x3e");t.on("readystatechange",()=>{t.on("readystatechange",null),t.remove(),t=null,e()}),sn(Xe.documentElement).append(t)}));const Sn=De();function En(e){!function(e,t){Mt({name:"session",value:e,expires:t.sessionIdLifetime,domain:t.cookieDomain,secure:t.secureOnly})}(e,it())}function Tn(){if(bn()&&!xn())return Sn;const e=function(){const {location:e}=Ye,{search:t}=e;return yt(t).mboxSession}();if(J(e))return En(e),Ot("session");const t=Ot("session");
return $(t)?En(Sn):En(t),Ot("session")}function Cn(){return Ot("PC")}const kn=/.*\.(\d+)_\d+/;function In(e){const t=it();if(!t.overrideMboxEdgeServer)return;const n=t.cookieDomain,r=new Date(re()+t.overrideMboxEdgeServerTimeout),o=t.secureOnly,i=Et("mboxEdgeCluster"),c=h({domain:n,expires:r,secure:o},o?{sameSite:"None"}:{});if(J(i))return void Tt("mboxEdgeCluster",i,c);const s=function(e){if($(e))return"";const t=kn.exec(e);return U(t)||2!==t.length?"":t[1]}(e);$(s)||Tt("mboxEdgeCluster",s,c)}function Nn(e,
t,n,r){const o=new e.CustomEvent(n,{detail:r});t.dispatchEvent(o)}!function(e,t){function n(e,n){const r=t.createEvent("CustomEvent");return n=n||{bubbles:!1,cancelable:!1,detail:void 0},r.initCustomEvent(e,n.bubbles,n.cancelable,n.detail),r}w(e.CustomEvent)||(n.prototype=e.Event.prototype,e.CustomEvent=n)}(Ye,Xe);function On(e,t){const {mbox:n,error:r,url:o,analyticsDetails:i,responseTokens:c,execution:s}=t,u={type:e,tracking:function(e,t){const n=e(),r=t(),o={};return o.sessionId=n,J(r)?(o.deviceId=
r,o):o}(Tn,Cn)};return m(n)||(u.mbox=n),m(r)||(u.error=r),m(o)||(u.url=o),U(i)||(u.analyticsDetails=i),U(c)||(u.responseTokens=c),U(s)||(u.execution=s),u}function _n(e){const t=On("at-request-start",e);Nn(Ye,Xe,"at-request-start",t)}function An(e,t){const n=On("at-request-succeeded",e);n.redirect=t,Nn(Ye,Xe,"at-request-succeeded",n)}function qn(e){const t=On("at-request-failed",e);Nn(Ye,Xe,"at-request-failed",t)}function Mn(e){const t=On("at-content-rendering-start",e);Nn(Ye,Xe,"at-content-rendering-start",
t)}function Pn(e){const t=On("at-content-rendering-succeeded",e);Nn(Ye,Xe,"at-content-rendering-succeeded",t)}function Rn(e){const t=On("at-content-rendering-failed",e);Nn(Ye,Xe,"at-content-rendering-failed",t)}function Dn(e){const t=On("at-content-rendering-no-offers",e);Nn(Ye,Xe,"at-content-rendering-no-offers",t)}function Ln(e){const t=On("at-content-rendering-redirect",e);Nn(Ye,Xe,"at-content-rendering-redirect",t)}var jn=cn,Vn=function(e){var t=document.createElement("script");t.src=e,t.async=
!0;var n=function(e,t){return new jn(function(n,r){t.onload=function(){n(t)},t.onerror=function(){r(new Error("Failed to load script "+e))}})}(e,t);return document.getElementsByTagName("head")[0].appendChild(t),n};function Hn(e){return M(e)&&1===e.nodeType&&!Q(e)}const Un=":eq(".length,Bn=/((\.|#)(-)?\d{1})/g;function zn(e){const t=e.charAt(0),n=e.charAt(1),r=e.charAt(2),o={key:e};return o.val="-"===n?""+t+n+"\\3"+r+" ":t+"\\3"+n+" ",o}function Fn(e){if(Hn(e))return sn(e);if(!P(e))return sn(e);const t=
function(e){const t=e.match(Bn);return U(t)?e:ce((e,t)=>e.replace(t.key,t.val),e,ne(zn,t))}(e);if(-1===t.indexOf(":eq("))return sn(t);const n=function(e){const t=[];let n,r,o,i,c=F(e),s=c.indexOf(":eq(");for(;-1!==s;)n=F(c.substring(0,s)),r=F(c.substring(s)),i=r.indexOf(")"),o=F(r.substring(Un,i)),c=F(r.substring(i+1)),s=c.indexOf(":eq("),n&&o&&t.push({sel:n,eq:Number(o)});return c&&t.push({sel:c}),t}(t);return ce((e,t)=>{const {sel:n,eq:r}=t;return e=e.find(n),Z(r)&&(e=e.eq(r)),e},sn(Xe),n)}function $n(e){return Fn(e).length>
0}function Jn(e){return sn("\x3cdiv/\x3e").append(e)}function Zn(e){return Fn(e).parent()}function Gn(e,t){return Fn(t).find(e)}const Kn="clickHandlerForExperienceEditor";function Xn(){if(!Lt())return;Ye._AT=Ye._AT||{},Ye._AT.querySelectorAll=Fn;const e=it().authoringScriptUrl;zt("Loading target-vec.js"),Vn(e).then(()=>{Xe.addEventListener("click",(e)=>{w(Ye._AT[Kn])&&Ye._AT[Kn](e)},!0)})["catch"](()=>Bt("Unable to load target-vec.js"))}const Yn=(e)=>!m(e);function Wn(e){const t=function(e){return parseInt(e,
10)}(e);return isNaN(t)?null:t}function Qn(e){return ae("_",e)}function er(e){const t=ae("_",e),n=Wn(t[0]);if(m(n))return null;const r={};r.activityIndex=n;const o=Wn(t[1]);return m(o)||(r.experienceIndex=o),r}function tr(e){return O(Yn,ne(er,e))}function nr(e){const t=yt(e),n=t.at_preview_token;if($(n))return null;const r={};r.token=n;const o=t.at_preview_listed_activities_only;J(o)&&"true"===o&&(r.listedActivitiesOnly=!0);const i=t.at_preview_evaluate_as_true_audience_ids;J(i)&&(r.evaluateAsTrueAudienceIds=
Qn(i));const c=t.at_preview_evaluate_as_false_audience_ids;J(c)&&(r.evaluateAsFalseAudienceIds=Qn(c));const s=t.at_preview_index;return U(s)||(r.previewIndexes=g(u=s)?tr(u):tr([u])),r;var u}function rr(e){const t=function(e){const t=yt(e).at_preview;return $(t)?null:{token:t}}(e.location.search);if(m(t))return;const n=new Date(re()+186E4),r=it().secureOnly,o=h({expires:n,secure:r},r?{sameSite:"None"}:{});Tt("at_preview_mode",JSON.stringify(t),o)}function or(e){return Fn(e).empty().remove()}function ir(e,
t){return Fn(t).after(e)}function cr(e,t){return Fn(t).before(e)}function sr(e,t){return Fn(t).append(e)}function ur(e){return Fn(e).html()}function ar(e,t){return'\x3cstyle id\x3d"'+e+'" class\x3d"at-flicker-control"\x3e'+t+"\x3c/style\x3e"}function fr(e,t){if(U(t))return;const n=O((e)=>!$n("#at-"+R(e)),t);if(U(n))return;const r=e.defaultContentHiddenStyle;sr(ee("\n",ne((e)=>function(e,t){return ar("at-"+R(t),t+" {"+e+"}")}(r,e),n)),"head")}function lr(e,t){if(U(t)||$n("#at-views"))return;sr(function(e,
t){return ar("at-views",t+" {"+e+"}")}(e.defaultContentHiddenStyle,ee(", ",t)),"head")}function dr(){!function(e){if(!0!==e.bodyHidingEnabled)return;if($n("#at-body-style"))return;sr(ar("at-body-style",e.bodyHiddenStyle),"head")}(it())}function pr(){!function(e){!0===e.bodyHidingEnabled&&$n("#at-body-style")&&or("#at-body-style")}(it())}function hr(e){return!m(e.id)}function mr(e){return!m(e.authState)}function gr(e){return hr(e)||mr(e)}function vr(e,t){return ce((e,n,r)=>{const o={};return o.integrationCode=
r,hr(n)&&(o.id=n.id),mr(n)&&(o.authenticatedState=function(e){switch(e){case 0:return"unknown";case 1:return"authenticated";case 2:return"logged_out";default:return"unknown"}}(n.authState)),o[Le]=t,function(e){return e.primary}(n)&&(o.primary=!0),e.push(o),e},[],O(gr,e))}function yr(e){if(m(e))return[];if(!w(e.getCustomerIDs))return[];const t=e.getCustomerIDs(!0);return x(t)?function(e){if(!e.nameSpaces&&!e.dataSources)return vr(e,"DS");const t=[];return e.nameSpaces&&t.push.apply(t,vr(e.nameSpaces,
"NS")),e.dataSources&&t.push.apply(t,vr(e.dataSources,"DS")),t}(t):[]}function br(e){return zt("Visitor API requests error",e),{}}function xr(e,t,n){if(m(e))return pn({});return gn(function(e,t){if(!w(e.getVisitorValues))return pn({});const n=["MCMID","MCAAMB","MCAAMLH"];return t&&n.push("MCOPTOUT"),dn((t)=>{e.getVisitorValues((e)=>t(e),n)})}(e,n),t,"Visitor API requests timed out")["catch"](br)}function wr(e,t){return m(e)?{}:function(e,t){if(!w(e.getVisitorValues))return{};const n=["MCMID","MCAAMB",
"MCAAMLH"];t&&n.push("MCOPTOUT");const r={};return e.getVisitorValues((e)=>h(r,e),n),r}(e,t)}function Sr(){const e=it(),t=e.imsOrgId,n=e.supplementalDataIdParamTimeout;return function(e,t,n){if($(t))return null;if(m(e.Visitor))return null;if(!w(e.Visitor.getInstance))return null;const r=e.Visitor.getInstance(t,{sdidParamExpiry:n});return x(r)&&w(r.isAllowed)&&r.isAllowed()?r:null}(Ye,t,n)}function Er(e){return function(e,t){return m(e)?null:w(e.getSupplementalDataID)?e.getSupplementalDataID(t):null}(Sr(),
e)}function Tr(e){return function(e,t){if(m(e))return null;const n=e[t];return m(n)?null:n}(Sr(),e)}const Cr={};function kr(e,t){Cr[e]=t}function Ir(e){return Cr[e]}function Nr(e){const t=e.name;if(!P(t)||U(t))return!1;const n=e.version;if(!P(n)||U(n))return!1;const r=e.timeout;if(!m(r)&&!Z(r))return!1;return!!w(e.provider)}function Or(e,t,n,r,o,i){const c={};c[e]=t,c[n]=r,c[o]=i;const s={};return s.dataProvider=c,s}function _r(e){const t=e.name,n=e.version,r=e.timeout||2E3;return gn(function(e){return dn((t,
n)=>{e((e,r)=>{m(e)?t(r):n(e)})})}(e.provider),r,"timed out").then((e)=>{const r=Or("name",t,"version",n,"params",e);return zt("Data provider",Ze,r),Zt(r),e})["catch"]((e)=>{const r=Or("name",t,"version",n,$e,e);return zt("Data provider",$e,r),Zt(r),{}})}function Ar(e){const t=ce((e,t)=>h(e,t),{},e);return kr("dataProviders",t),t}function qr(e){if(!function(e){const t=e.targetGlobalSettings;if(m(t))return!1;const n=t.dataProviders;return!(!g(n)||U(n))}(e))return pn({});return mn(ne(_r,O(Nr,e.targetGlobalSettings.dataProviders))).then(Ar)}
function Mr(){return function(){const e=Ir("dataProviders");return m(e)?{}:e}()}function Pr(){const e=function(e){const {location:t}=e,{search:n}=t,r=yt(n).authorization;return $(r)?null:r}(Ye),t=function(){const e=Et("mboxDebugTools");return $(e)?null:e}();return e||t}function Rr(e){return!U(e)&&2===e.length&&J(e[0])}function Dr(e,t,n,r){q((e,o)=>{x(e)?(t.push(o),Dr(e,t,n,r),t.pop()):U(t)?n[r(o)]=e:n[r(ee(".",t.concat(o)))]=e},e)}function Lr(e){if(!w(e))return{};let t=null;try{t=e()}catch(e){return{}}return m(t)?
{}:g(t)?function(e){const t=ce((e,t)=>(e.push(function(e){const t=e.indexOf("\x3d");return-1===t?[]:[e.substr(0,t),e.substr(t+1)]}(t)),e),[],O(J,e));return ce((e,t)=>(e[xt(F(t[0]))]=xt(F(t[1])),e),{},O(Rr,t))}(t):P(t)&&J(t)?O((e,t)=>J(t),yt(t)):x(t)?function(e,t){const n={};return m(t)?Dr(e,[],n,S):Dr(e,[],n,t),n}(t):{}}function jr(e){return h({},e,Lr(Ye.targetPageParamsAll))}function Vr(e){const t=it(),n=t.globalMboxName,r=t.mboxParams,o=t.globalMboxParams;return n!==e?jr(r||{}):h(jr(r||{}),function(e){return h({},
e,Lr(Ye.targetPageParams))}(o||{}))}const Hr=function(){const e=Xe.createElement("canvas"),t=e.getContext("webgl")||e.getContext("experimental-webgl");if(m(t))return null;const n=t.getExtension("WEBGL_debug_renderer_info");if(m(n))return null;const r=t.getParameter(n.UNMASKED_RENDERER_WEBGL);return m(r)?null:r}();function Ur(){let {devicePixelRatio:e}=Ye;if(!m(e))return e;e=1;const {screen:t}=Ye,{systemXDPI:n,logicalXDPI:r}=t;return!m(n)&&!m(r)&&n>r&&(e=n/r),e}function Br(){const {screen:e}=Ye,{orientation:t,
width:n,height:r}=e;if(m(t))return n>r?"landscape":"portrait";if(m(t.type))return null;const o=ae("-",t.type);if(U(o))return null;const i=o[0];return m(i)?null:i}function zr(e){return-1!==e.indexOf("profile.")}function Fr(e){return ce((e,t,n)=>{return zr(r=n)||function(e){return"mbox3rdPartyId"===e}(r)||function(e){return"at_property"===e}(r)||function(e){return"orderId"===e}(r)||function(e){return"orderTotal"===e}(r)||function(e){return"productPurchasedId"===e}(r)||function(e){return"productId"===
e}(r)||function(e){return"categoryId"===e}(r)||(e[n]=m(t)?"":t),e;var r},{},e)}function $r(e){let {url:t,headers:n,body:r,timeout:o,async:i}=e;return dn((e,c)=>{let s=new window.XMLHttpRequest;s=function(e,t,n){return e.onload=()=>{const r=1223===e.status?204:e.status;if(r<100||r>599)return void n(new Error("Network request failed"));let o;try{const t=Ne();o=JSON.parse(e.responseText),o.parsingTime=Ne()-t,o.responseSize=(new Blob([e.responseText])).size}catch(e){return void n(new Error("Malformed response JSON"))}const i=
e.getAllResponseHeaders();t({status:r,headers:i,response:o})},e}(s,e,c),s=function(e,t){return e.onerror=()=>{t(new Error("Network request failed"))},e}(s,c),s.open("POST",t,i),s.withCredentials=!0,s=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return q((t,n)=>{g(t)&&q((t)=>{e.setRequestHeader(n,t)},t)},t),e}(s,n),i&&(s=function(e,t,n){return e.timeout=t,e.ontimeout=()=>{n(new Error("Request timed out"))},e}(s,o,c)),s.send(JSON.stringify(r))}).then((e)=>{const {response:t}=
e,{status:n,message:r}=t;if(!m(n)&&!m(r))throw new Error(r);return t})}function Jr(e,t){return Z(t)?t<0?e.timeout:t:e.timeout}function Zr(e){const t=e.serverDomain;if(!e.overrideMboxEdgeServer)return t;const n=function(){if(!it().overrideMboxEdgeServer)return"";const e=Et("mboxEdgeCluster");return $(e)?"":e}();return $(n)?t:"mboxedge"+n+".tt.omtrdc.net"}function Gr(e){return e.scheme+"//"+Zr(e)+e.endpoint+"?"+bt({client:e.clientCode,sessionId:Tn(),version:e.version})}function Kr(e,t,n){const r=it(),
o=Gr(r),i={"Content-Type":["text/plain"]},c=Jr(r,t),s={url:o,headers:i,body:e,timeout:c,async:!0};return Oe.timeStart(e.requestId),$r(s).then((t)=>{const r={execution:Oe.timeEnd(e.requestId),parsing:t.parsingTime};delete t.parsingTime;const i=function(e,t){if(!performance)return null;const n=performance.getEntriesByType("resource").find((t)=>t.name.endsWith(e));if(!n)return null;const r={};return n.domainLookupEnd&&n.domainLookupStart&&(r.dns=n.domainLookupEnd-n.domainLookupStart),n.secureConnectionStart&&
n.connectEnd&&(r.tls=n.connectEnd-n.secureConnectionStart),n.responseStart&&(r.timeToFirstByte=n.responseStart-n.startTime),n.responseEnd&&n.responseStart&&(r.download=n.responseEnd-n.responseStart),n.encodedBodySize?r.responseSize=n.encodedBodySize:t.responseSize&&(r.responseSize=t.responseSize,delete t.responseSize),r}(o,t);return i&&(r.request=i),t.telemetryServerToken&&(r.telemetryServerToken=t.telemetryServerToken),window.__target_telemetry.addDeliveryRequestEntry(e,r,t.status,n),h(t,{decisioningMethod:pe})})}
const Xr=(e)=>!U(e);function Yr(e){if(e.MCOPTOUT)throw new Error("Disabled due to optout");return e}function Wr(){const e=function(){const e=Sr(),t=it();return xr(e,t.visitorApiTimeout,t.optoutEnabled)}(),t=qr(Ye);return mn([e.then(Yr),t])}function Qr(){return[wr(Sr(),it().optoutEnabled),Mr()]}function eo(){const {screen:e}=Ye;return{width:e.width,height:e.height,orientation:Br(),colorDepth:e.colorDepth,pixelRatio:Ur()}}function to(){const {documentElement:e}=Xe;return{width:e.clientWidth,height:e.clientHeight}}
function no(){const {location:e}=Ye;return{host:e.hostname,webGLRenderer:Hr}}function ro(){const {location:e}=Ye;return{url:e.href,referringUrl:Xe.referrer}}function oo(e){const {id:t,integrationCode:n,authenticatedState:r,type:o,primary:i}=e,c={};return J(t)&&(c.id=t),J(n)&&(c.integrationCode=n),J(r)&&(c.authenticatedState=r),J(o)&&(c.type=o),i&&(c.primary=i),c}function io(e,t,n,r,o){const i={};J(t)&&(i.tntId=t),J(n)&&(i.thirdPartyId=n),J(e.thirdPartyId)&&(i.thirdPartyId=e.thirdPartyId);const c=
r.MCMID;return J(c)&&(i.marketingCloudVisitorId=c),J(e.marketingCloudVisitorId)&&(i.marketingCloudVisitorId=e.marketingCloudVisitorId),U(e.customerIds)?(U(o)||(i.customerIds=function(e){return ne(oo,e)}(o)),i):(i.customerIds=e.customerIds,i)}function co(e,t){const n={},r=function(e,t){if(!m(e))return e;const n={};if(U(t))return n;const r=t.MCAAMLH,o=parseInt(r,10);isNaN(o)||(n.locationHint=o);const i=t.MCAAMB;return J(i)&&(n.blob=i),n}(e.audienceManager,t);return U(r)||(n.audienceManager=r),U(e.analytics)||
(n.analytics=e.analytics),n}function so(e){return m(e)?function(){const e=Et("at_preview_mode");if($(e))return{};try{return JSON.parse(e)}catch(e){return{}}}():e}function uo(e){return m(e)?function(){const e=Et("at_qa_mode");if($(e))return{};try{return JSON.parse(e)}catch(e){return{}}}():e}function ao(e){const t={},n=function(e){return e.orderId}(e);m(n)||(t.id=n);const r=function(e){return e.orderTotal}(e),o=parseFloat(r);isNaN(o)||(t.total=o);const i=function(e){const t=ne(F,ae(",",e.productPurchasedId));
return O(J,t)}(e);return U(i)||(t.purchasedProductIds=i),t}function fo(e,t){const n={},r=h({},Fr(t),e.parameters||{}),o=h({},function(e){return ce((e,t,n)=>{if(!zr(n))return e;const r=n.substring("profile.".length);return $(r)||(e[r]=m(t)?"":t),e},{},e)}(t),e.profileParameters||{}),i=h({},ao(t),e.order||{}),c=h({},function(e){const t={},n=function(e){return e.productId}(e);m(n)||(t.id=n);const r=function(e){return e.categoryId}(e);return m(r)||(t.categoryId=r),t}(t),e.product||{});return U(r)||(n.parameters=
r),U(o)||(n.profileParameters=o),U(i)||(n.order=i),U(c)||(n.product=c),n}function lo(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=it(),o=r.globalMboxName,{index:i,name:c,address:s}=e,u=h({},c===o?t:n,Vr(c)),a=fo(e,u);return m(i)||(a.index=i),J(c)&&(a.name=c),U(s)||(a.address=s),a}function po(e,t,n){const {prefetch:r={}}=e,o={};if(U(r))return o;const {mboxes:i}=r;m(i)||!g(i)||U(i)||(o.mboxes=ne((e)=>lo(e,t,n),i));const {views:c}=r;return m(c)||!g(c)||U(c)||(o.views=
ne((e)=>function(e,t){const {name:n,address:r}=e,o=fo(e,t);return J(n)&&(o.name=n),U(r)||(o.address=r),o}(e,t),c)),o}function ho(e,t){if(bn()&&!yn(Ye,"ANALYTICS"))return null;const n=it(),r=Er(e),o=Tr("trackingServer"),i=Tr("trackingServerSecure"),{experienceCloud:c={}}=t,{analytics:s={}}=c,{logging:u,supplementalDataId:a,trackingServer:f,trackingServerSecure:l}=s,d={};return m(u)?d.logging=n.analyticsLogging:d.logging=u,m(a)||(d.supplementalDataId=a),J(r)&&(d.supplementalDataId=r),m(f)||(d.trackingServer=
f),J(o)&&(d.trackingServer=o),m(l)||(d.trackingServerSecure=l),J(i)&&(d.trackingServerSecure=i),U(d)?null:d}function mo(e,t,n){const r=function(e){const t=it().globalMboxName;return h({},e,Vr(t))}(n),o=Cn(),i=r.mbox3rdPartyId;const c=yr(Sr()),s=io(e.id||{},o,i,t,c),u=function(e,t){if(!m(e)&&J(e.token))return e;const n={},r=t.at_property;return J(r)&&(n.token=r),n}(e.property,r),a=co(e.experienceCloud||{},t),f=function(e){if(!m(e)&&J(e.authorizationToken))return e;const t={},n=Pr();return J(n)&&(t.authorizationToken=
n),t}(e.trace),l=so(e.preview),d=uo(e.qaMode),p=function(e,t,n){const {execute:r={}}=e,o={};if(U(r))return o;const {pageLoad:i}=r;m(i)||(o.pageLoad=fo(i,t));const {mboxes:c}=r;if(!m(c)&&g(c)&&!U(c)){const e=O(Xr,ne((e)=>lo(e,t,n),c));U(e)||(o.mboxes=e)}return o}(e,r,n),v=po(e,r,n),{notifications:y}=e;let b={};return b.requestId=De(),b.context=function(e){if(!m(e)&&"web"===e.channel)return e;const t=e||{},{beacon:n}=t;return{userAgent:Ye.navigator.userAgent,timeOffsetInMinutes:-(new Date).getTimezoneOffset(),
channel:"web",screen:eo(),window:to(),browser:no(),address:ro(),geo:e&&e.geo,beacon:n}}(e.context),U(s)||(b.id=s),U(u)||(b.property=u),U(f)||(b.trace=f),U(a)||(b.experienceCloud=a),U(l)||(b.preview=l),U(d)||(b.qaMode=d),U(p)||(b.execute=p),U(v)||(b.prefetch=v),U(y)||(b.notifications=y),b=Ye.__target_telemetry.addTelemetryToDeliveryRequest(b),b}function go(e,t,n){const r=n[0],o=n[1];return mo(e,r,h({},o,t))}function vo(e,t){return Wr().then((n)=>go(e,t,n))}function yo(e,t,n){return zt("request",t),
Zt({request:t}),Kr(t,n,pe).then((e)=>(zt("response",e),Zt({response:e}),{request:t,response:e}))}const bo=(e)=>(t)=>t[e],xo=(e)=>(t)=>!e(t),wo=xo(m),So=xo($),Eo=(e)=>(t)=>O(e,t),To=(e)=>e.status===$e,Co=(e)=>"actions"===e.type,ko=(e)=>"redirect"===e.type,Io=Eo(wo),No=Eo(So),Oo=bo("options"),_o=bo(je),Ao=bo("eventToken"),qo=bo("responseTokens"),Mo=(e)=>J(e.name),Po=(e)=>x(e)&&Mo(e),Ro=(e)=>x(e)&&Mo(e)&&((e)=>!m(e.index))(e),Do=(e)=>x(e)&&Mo(e),Lo=bo("data"),jo=A([Lo,wo]);function Vo(e,t){return{status:Ze,
type:e,data:t}}function Ho(e,t){return{status:$e,type:e,data:t}}function Uo(e){return x(e)}function Bo(e){return!!Uo(e)&&J(e.eventToken)}function zo(e){return!U(e)&&!$(e.type)&&J(e.eventToken)}function Fo(e){return!!zo(e)&&J(e.selector)}function $o(e){const {id:t}=e;return x(t)&&J(t.tntId)}function Jo(e){const {response:t}=e;return $o(t)&&function(e){const t=it();Mt({name:"PC",value:e,expires:t.deviceIdLifetime,domain:t.cookieDomain,secure:t.secureOnly})}(t.id.tntId),e}function Zo(e){const {response:t}=
e;if($o(t)){const {id:e}=t,{tntId:n}=e;In(n)}return In(null),e}function Go(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const {trace:t}=e;U(t)||Jt(t)}function Ko(e){const {response:t}=e,{execute:n={},prefetch:r={},notifications:o={}}=t,{pageLoad:i={},mboxes:c=[]}=n,{mboxes:s=[],views:u=[]}=r;return Go(i),q(Go,c),q(Go,s),q(Go,u),q(Go,o),e}function Xo(e){const t=e.queryKey,n=t.adobe_mc_sdid;if(!P(n))return t;if($(n))return t;const r=Math.round(re()/1E3);return t.adobe_mc_sdid=n.replace(/\|TS=\d+/,
"|TS\x3d"+r),t}function Yo(e){return e.queryKey}function Wo(e,t,n){const r=St(e),{protocol:o}=r,{host:i}=r,{path:c}=r,s=""===r.port?"":":"+r.port,u=$(r.anchor)?"":"#"+r.anchor,a=n(r),f=bt(h({},a,t));return o+"://"+i+s+c+($(f)?"":"?"+f)+u}function Qo(e,t){return Wo(e,t,Xo)}function ei(e){const t=e.method||"GET",n=e.url||function(e){throw new Error(e);}("URL is required"),r=e.headers||{},o=e.data||null,i=e.credentials||!1,c=e.timeout||3E3,s=!!m(e.async)||!0===e.async,u={};return u.method=t,u.url=n,
u.headers=r,u.data=o,u.credentials=i,u.timeout=c,u.async=s,u}function ti(e,t){const n=ei(t),r=n.method,o=n.url,i=n.headers,c=n.data,s=n.credentials,u=n.timeout,a=n.async;return dn((t,n)=>{let f=new e.XMLHttpRequest;f=function(e,t,n){return e.onload=()=>{const r=1223===e.status?204:e.status;if(r<100||r>599)return void n(new Error("Network request failed"));const o=e.responseText,i=e.getAllResponseHeaders();t({status:r,headers:i,response:o})},e}(f,t,n),f=function(e,t){return e.onerror=()=>{t(new Error("Network request failed"))},
e}(f,n),f.open(r,o,a),f=function(e,t){return!0===t&&(e.withCredentials=t),e}(f,s),f=function(e,t){return q((t,n)=>{q((t)=>e.setRequestHeader(n,t),t)},t),e}(f,i),a&&(f=function(e,t,n){return e.timeout=t,e.ontimeout=()=>{n(new Error("Request timed out"))},e}(f,u,n)),f.send(c)})}function ni(e){return ti(Ye,e)}function ri(e,t,n){const r={method:"GET"};return r.url=function(e,t){return Wo(e,t,Yo)}(e,t),r.timeout=n,r}function oi(e){const {status:t}=e;if(!function(e){return e>=200&&e<300||304===e}(t))return null;
const n=e.response;if($(n))return null;const r={type:"html"};return r.content=n,r}const ii=/CLKTRK#(\S+)/,ci=/CLKTRK#(\S+)\s/;function si(e){const t=e[je],n=function(e){const t=e[Ve];if($(t))return"";const n=ii.exec(t);return U(n)||2!==n.length?"":n[1]}(e);if($(n)||$(t))return e;const r=e[Ve];return e[Ve]=r.replace(ci,""),e[je]=function(e,t){const n=document.createElement("div");n.innerHTML=t;const r=n.firstElementChild;return m(r)?t:(r.id=e,r.outerHTML)}(n,t),e}const ui=(e)=>!m(e);function ai(e){const {selector:t}=
e;return!m(t)}function fi(e){const t=e[Le];if($(t))return null;switch(t){case "setHtml":return function(e){if(!ai(e))return null;const t=si(e);return P(t[je])?t:(zt(ze,t),null)}(e);case "setText":return function(e){if(!ai(e))return null;const t=si(e);return P(t[je])?t:(zt(ze,t),null)}(e);case "appendHtml":return function(e){if(!ai(e))return null;const t=si(e);return P(t[je])?t:(zt(ze,t),null)}(e);case "prependHtml":return function(e){if(!ai(e))return null;const t=si(e);return P(t[je])?t:(zt(ze,t),
null)}(e);case "replaceHtml":return function(e){if(!ai(e))return null;const t=si(e);return P(t[je])?t:(zt(ze,t),null)}(e);case "insertBefore":return function(e){if(!ai(e))return null;const t=si(e);return P(t[je])?t:(zt(ze,t),null)}(e);case "insertAfter":return function(e){if(!ai(e))return null;const t=si(e);return P(t[je])?t:(zt(ze,t),null)}(e);case "customCode":return function(e){return ai(e)?P(e[je])?e:(zt(ze,e),null):null}(e);case "setAttribute":return function(e){return ai(e)?x(e[je])?e:(zt("Action has no attributes",
e),null):null}(e);case "setImageSource":return function(e){return ai(e)?P(e[je])?e:(zt("Action has no image url",e),null):null}(e);case "setStyle":return function(e){return ai(e)?x(e[je])?e:(zt("Action has no CSS properties",e),null):null}(e);case "resize":return function(e){return ai(e)?x(e[je])?e:(zt("Action has no height or width",e),null):null}(e);case "move":return function(e){return ai(e)?x(e[je])?e:(zt("Action has no left, top or position",e),null):null}(e);case "remove":return function(e){return ai(e)?
e:null}(e);case "rearrange":return function(e){return ai(e)?x(e[je])?e:(zt("Action has no from or to",e),null):null}(e);case "redirect":return function(e){const {content:t}=e;return $(t)?(zt("Action has no url",e),null):(e.content=Qo(t,{}),e)}(e);default:return null}}function li(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const {options:t}=e;return g(t)?U(t)?[]:Io(ne(qo,t)):[]}function di(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const {execute:t={}}=
e,{pageLoad:n={},mboxes:r=[]}=t,o=Oo(n)||[],i=_(Io(ne(Oo,r))),c=_([o,i]),s=_(ne(_o,O(Co,c))),u=O(ko,c),a=O(ko,s),f=u.concat(a),l={};if(U(f))return l;const d=f[0],p=d.content;return $(p)||(l.url=p),l}function pi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const {analytics:t}=e;return U(t)?[]:[t]}function hi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const {execute:t={},prefetch:n={}}=e,{pageLoad:r={},mboxes:o=[]}=t,{mboxes:i=[],views:c=[],metrics:s=[]}=
n,u=pi(r),a=_(ne(pi,o)),f=_(ne(pi,i)),l=_(ne(pi,c)),d=_(ne(pi,s));return _([u,a,f,l,d])}function mi(e,t){e.parameters=t.parameters,e.profileParameters=t.profileParameters,e.order=t.order,e.product=t.product}function gi(e,t){const n=t[0],r=t[1],o=!U(n),i=!U(r);return o||i?(o&&(e.options=n),i&&(e.metrics=r),e):e}function vi(e){const {type:t}=e;switch(t){case "redirect":return pn(function(e){const t=e.content;if($(t))return zt("Action has no url",e),null;const n=h({},e);return n.content=Qo(t,{}),n}(e));
case "dynamic":return function(e){const {content:t}=e;return ni(ri(t,{},it().timeout)).then(oi)["catch"](()=>null)}(e);case "actions":return pn(function(e){const t=e[je];if(!g(t))return null;if(U(t))return null;const n=O(ui,ne(fi,t));if(U(n))return null;const r=h({},e);return r.content=n,r}(e));default:return pn(e)}}function yi(e,t){if(!g(e))return pn([]);if(U(e))return pn([]);const n=O(t,e);if(U(n))return pn([]);return mn(ne((e)=>vi(e),n)).then(Io)}function bi(e,t){return g(e)?U(e)?pn([]):pn(O(t,
e)):pn([])}function xi(e){const {name:t,analytics:n,options:r,metrics:o}=e,i={name:t,analytics:n};return mn([yi(r,Uo),bi(o,zo)]).then((e)=>gi(i,e))}function wi(e,t){const {index:n,name:r,state:o,analytics:i,options:c,metrics:s}=t,u=function(e,t,n){const {prefetch:r={}}=e,{mboxes:o=[]}=r;return U(o)?null:(i=O((e)=>function(e,t,n){return e.index===t&&e.name===n}(e,t,n),o))&&i.length?i[0]:void 0;var i}(e,n,r),a={name:r,state:o,analytics:i};return m(u)||mi(a,u),mn([yi(c,Bo),bi(s,zo)]).then((e)=>gi(a,
e))}function Si(e,t){const {name:n,state:r,analytics:o,options:i,metrics:c}=t,s=function(e){const {prefetch:t={}}=e,{views:n=[]}=t;return U(n)?null:n[0]}(e),u={name:n.toLowerCase(),state:r,analytics:o};return m(s)||mi(u,s),mn([yi(i,Bo),bi(c,Fo)]).then((e)=>gi(u,e))}function Ei(e){if(m(e)||$(e.id))return pn(null);const {id:t}=e;return pn({id:t})}function Ti(e){const t=e[0],n=e[1],r=e[2],o=e[3],i=e[4],c=e[5],s=e[6],u={},a={};x(t)&&(a.pageLoad=t),U(n)||(a.mboxes=n);const f={};return U(r)||(f.mboxes=
r),U(o)||(f.views=o),U(i)||(f.metrics=i),U(a)||(u.execute=a),U(f)||(u.prefetch=f),U(c)||(u.meta=c),U(s)||(u.notifications=s),u}function Ci(e){const t=A([Ko,Jo,Zo])(e),n=function(e){const {response:t}=e,{execute:n}=t;if(!x(n))return pn(null);const {pageLoad:r}=n;if(!x(r))return pn(null);const {analytics:o,options:i,metrics:c}=r,s={analytics:o};return mn([yi(i,Uo),bi(c,Fo)]).then((e)=>gi(s,e))}(t),r=function(e){const {response:t}=e,{execute:n}=t;if(!x(n))return pn([]);const {mboxes:r}=n;return!g(r)||
U(r)?pn([]):mn(ne(xi,O(Po,r))).then(Io)}(t),o=function(e){const {request:t,response:n}=e,{prefetch:r}=n;if(!x(r))return pn([]);const {mboxes:o}=r;return!g(o)||U(o)?pn([]):mn(ne((e)=>wi(t,e),O(Ro,o))).then(Io)}(t),i=function(e){const {request:t,response:n}=e,{prefetch:r}=n;if(!x(r))return pn([]);const {views:o}=r;return!g(o)||U(o)?pn([]):mn(ne((e)=>Si(t,e),O(Do,o))).then(Io)}(t),c=function(e){const {response:t}=e,{prefetch:n}=t;if(!x(n))return pn([]);const {metrics:r}=n;return bi(r,Fo)}(t),s=function(e){const {response:t}=
e,{remoteMboxes:n,remoteViews:r,decisioningMethod:o}=t,i={};return x(n)&&(i.remoteMboxes=n),x(r)&&(i.remoteViews=r),P(o)&&(i.decisioningMethod=o),pn(i)}(t),u=function(e){const {response:t}=e,{notifications:n}=t;return g(n)?mn(ne(Ei,n)).then(Io):pn([])}(t);return mn([n,r,o,i,c,s,u]).then(Ti)}function ki(e){return!U(di(e))}function Ii(e){const t=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const {execute:t={},prefetch:n={}}=e,{pageLoad:r={},mboxes:o=[]}=t,{mboxes:i=[],
views:c=[]}=n,s=li(r),u=_(ne(li,o)),a=_(ne(li,i)),f=_(ne(li,c));return _([s,u,a,f])}(e),n={};return U(t)||(n.responseTokens=t),n}function Ni(e){const t=it().globalMboxName,{mbox:n,timeout:r}=e,o=x(e.params)?e.params:{},i={},c={};n===t?c.pageLoad={}:c.mboxes=[{index:0,name:n}],i.execute=c;const s=ho(n,i);if(!U(s)){const e={};e.analytics=s,i.experienceCloud=e}return _n({mbox:n}),vo(i,o).then((e)=>yo(0,e,r)).then(Ci).then((e)=>function(e,t){const n=Ii(t);n.mbox=e;const r=hi(t);return U(r)||(n.analyticsDetails=
r),zt("request succeeded",t),An(n,ki(t)),pn(t)}(n,e))["catch"]((e)=>function(e,t){return Bt("request failed",t),qn({mbox:e,error:t}),hn(t)}(n,e))}function Oi(e){const t=it().globalMboxName,{consumerId:n=t,request:r,timeout:o}=e,i=ho(n,r);if(!U(i)){const e=r.experienceCloud||{};e.analytics=i,r.experienceCloud=e}return _n({}),vo(r,{}).then((e)=>yo(0,e,o)).then(Ci).then((e)=>function(e){const t=Ii(e),n=hi(e);return U(n)||(t.analyticsDetails=n),zt("request succeeded",e),An(t,ki(e)),pn(e)}(e))["catch"]((e)=>
function(e){return Bt("request failed",e),qn({error:e}),hn(e)}(e))}function _i(e,t){return Fn(t).addClass(e)}function Ai(e,t){return Fn(t).css(e)}function qi(e,t){return Fn(t).attr(e)}function Mi(e,t,n){return Fn(n).attr(e,t)}function Pi(e,t){return Fn(t).removeAttr(e)}function Ri(e,t,n){const r=qi(e,n);J(r)&&(Pi(e,n),Mi(t,r,n))}function Di(e){return new Error("Could not find: "+e)}function Li(e,t,n){return dn((r,o)=>{const i=fn(()=>{const t=n(e);U(t)||(i.disconnect(),r(t))});fe(()=>{i.disconnect(),
o(Di(e))},t),i.observe(Xe,{childList:!0,subtree:!0})})}function ji(){return"visible"===Xe.visibilityState}function Vi(e,t,n){return dn((r,o)=>{!function t(){const o=n(e);U(o)?Ye.requestAnimationFrame(t):r(o)}(),fe(()=>{o(Di(e))},t)})}function Hi(e,t,n){return dn((r,o)=>{!function t(){const o=n(e);U(o)?fe(t,100):r(o)}(),fe(()=>{o(Di(e))},t)})}function Ui(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:it().selectorsPollingTimeout,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:
Fn;const r=n(e);return U(r)?an()?Li(e,t,n):ji()?Vi(e,t,n):Hi(e,t,n):pn(r)}function Bi(e){return qi("data-at-src",e)}function zi(e){return J(qi("data-at-src",e))}function Fi(e){return q((e)=>Ri(He,"data-at-src",e),j(Gn("img",e))),e}function $i(e){return q((e)=>Ri("data-at-src",He,e),j(Gn("img",e))),e}function Ji(e){return zt("Loading image",e),qi(He,Mi(He,e,sn("\x3cimg/\x3e")))}function Zi(e){const t=O(zi,j(Gn("img",e)));return U(t)||q(Ji,ne(Bi,t)),e}function Gi(e){const t=qi(He,e);return J(t)?t:null}
function Ki(e,t){return Bt("Unexpected error",t),Zt({action:e,error:t}),e}function Xi(e,t){const n=Fn(t[Ve]),r=function(e){return A([Fi,Zi,$i])(e)}(Jn(t[je])),o=function(e){return O(J,ne(Gi,j(Gn("script",e))))}(r);let i;try{i=pn(e(n,r))}catch(e){return hn(Ki(t,e))}return U(o)?i.then(()=>t)["catch"]((e)=>Ki(t,e)):i.then(()=>function(e){return ce((e,t)=>e.then(()=>(zt("Script load",t),Zt({remoteScript:t}),Vn(t))),pn(),e)}(o)).then(()=>t)["catch"]((e)=>Ki(t,e))}function Yi(e){const t=h({},e),n=t[je];
if($(n))return t;const r=Fn(t[Ve]);return o="head",Fn(r).is(o)?(t[Le]="appendHtml",t[je]=function(e){return ee("",ce((e,t)=>(e.push(ur(Jn(t))),e),[],j(Gn("script,link,style",Jn(e)))))}(n),t):t;var o}function Wi(e){return e.indexOf("px")===e.length-2?e:e+"px"}function Qi(e,t){return n=ur(t),Fn(e).html(n);var n}function ec(e){const t=Fn(e[Ve]),n=e[je];return zt("Rendering action",e),Zt({action:e}),function(e,t){Fn(t).text(e)}(n,t),pn(e)}function tc(e,t){return sr(ur(t),e)}function nc(e,t){return n=
ur(t),Fn(e).prepend(n);var n}function rc(e,t){const n=Zn(e);return or(cr(ur(t),e)),n}function oc(e,t){return Fn(cr(ur(t),e)).prev()}function ic(e,t){return Fn(ir(ur(t),e)).next()}function cc(e,t){return Zn(cr(ur(t),e))}function sc(e){const t=Fn(e[Ve]),n=e[je],r=n.priority;return zt("Rendering action",e),Zt({action:e}),$(r)?Ai(n,t):function(e,t,n){q((e)=>{q((t,r)=>e.style.setProperty(r,t,n),t)},j(e))}(t,n,r),pn(e)}function uc(e){const t=Fn(e[Ve]),n=e[je],r=Number(n.from),o=Number(n.to);if(isNaN(r)&&
isNaN(o))return zt('Rearrange has incorrect "from" and "to" indexes',e),hn(e);const i=j(Fn(t).children());const c=i[r],s=i[o];return $n(c)&&$n(s)?(zt("Rendering action",e),Zt({action:e}),r<o?ir(c,s):cr(c,s),pn(e)):(zt("Rearrange elements are missing",e),hn(e))}function ac(e){const t=Yi(e);switch(t[Le]){case "setHtml":return function(e){return zt("Rendering action",e),Xi(Qi,e)}(t);case "setText":return ec(t);case "appendHtml":return function(e){return zt("Rendering action",e),Xi(tc,e)}(t);case "prependHtml":return function(e){return zt("Rendering action",
e),Xi(nc,e)}(t);case "replaceHtml":return function(e){return zt("Rendering action",e),Xi(rc,e)}(t);case "insertBefore":return function(e){return zt("Rendering action",e),Xi(oc,e)}(t);case "insertAfter":return function(e){return zt("Rendering action",e),Xi(ic,e)}(t);case "customCode":return function(e){return zt("Rendering action",e),Xi(cc,e)}(t);case "setAttribute":return function(e){const t=e[je],n=Fn(e[Ve]);return zt("Rendering action",e),Zt({action:e}),q((e,t)=>Mi(t,e,n),t),pn(e)}(t);case "setImageSource":return function(e){const t=
e[je],n=Fn(e[Ve]);return zt("Rendering action",e),Zt({action:e}),Pi(He,n),Mi(He,Ji(t),n),pn(e)}(t);case "setStyle":return sc(t);case "resize":return function(e){const t=Fn(e[Ve]),n=e[je];return n.width=Wi(n.width),n.height=Wi(n.height),zt("Rendering action",e),Zt({action:e}),Ai(n,t),pn(e)}(t);case "move":return function(e){const t=Fn(e[Ve]),n=e[je];return n.left=Wi(n.left),n.top=Wi(n.top),zt("Rendering action",e),Zt({action:e}),Ai(n,t),pn(e)}(t);case "remove":return function(e){const t=Fn(e[Ve]);
return zt("Rendering action",e),Zt({action:e}),or(t),pn(e)}(t);case "rearrange":return uc(t);default:return pn(t)}}function fc(e){const t=e[Ve];return J(t)||Hn(t)}function lc(e){const t=e.cssSelector;$(t)||or("#at-"+R(t))}function dc(e){if(!fc(e))return void lc(e);const t=e[Ve];!function(e){return"trackClick"===e[Le]||"signalClick"===e[Le]}(e)?(_i("at-element-marker",t),lc(e)):_i("at-element-click-tracking",t)}function pc(e){return function(e){const {key:t}=e;if($(t))return!0;if("customCode"===e[Le])return e.page;
const n=qi("at-action-key",e[Ve]);return n!==t||n===t&&!e.page}(e)?ac(e).then(()=>(zt("Action rendered successfully",e),Zt({action:e}),function(e){const {key:t}=e;if($(t))return;if(!fc(e))return;Mi("at-action-key",t,e[Ve])}(e),dc(e),e))["catch"]((t)=>{Bt("Unexpected error",t),Zt({action:e,error:t}),dc(e);const n=h({},e);return n[$e]=!0,n}):(dc(e),e)}function hc(e){const t=O((e)=>!0===e[$e],e);return U(t)?pn():(function(e){q(dc,e)}(t),hn(e))}function mc(e){return function(e){return Ui(e[Ve]).then(()=>
e)["catch"](()=>{const t=h({},e);return t[$e]=!0,t})}(e).then(pc)}function gc(e,t,n){return Fn(n).on(e,t)}function vc(e){const t=e.name,n=Ir("views")||{};n[t]=e,kr("views",n)}function yc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const {page:n=!0}=t,r=Ir("views")||{},o=r[e];if(m(o))return o;const {impressionId:i}=t;return m(i)?o:h({page:n,impressionId:i},o)}function bc(e){const t=ho(e,{}),n={context:{beacon:!0}};if(!U(t)){const e={};e.analytics=t,n.experienceCloud=e}return n}
function xc(e,t,n){const r=function(e,t){return go(e,t,Qr())}(bc(e),t);return r.notifications=n,r}function wc(e,t,n){const r=De(),o=re(),{parameters:i,profileParameters:c,order:s,product:u}=e,a={id:r,type:t,timestamp:o,parameters:i,profileParameters:c,order:s,product:u};return U(n)||(a.tokens=n),a}function Sc(e){const t=Gr(it());return function(e,t){return"navigator"in(n=Ye)&&"sendBeacon"in n.navigator?function(e,t,n){return e.navigator.sendBeacon(t,n)}(Ye,e,t):function(e,t,n){const r={"Content-Type":["text/plain"]},
o={method:"POST"};o.url=t,o.data=n,o.credentials=!0,o.async=!1,o.headers=r;try{e(o)}catch(e){return!1}return!0}(ni,e,t);var n}(t,JSON.stringify(e))?(zt("Beacon data sent",t,e),!0):(Bt("Beacon data sent failed",t,e),!1)}function Ec(e,t,n){const r=Vr(it().globalMboxName),o=wc(fo({},r),t,[n]),i=xc(De(),r,[o]);zt("Event handler notification",e,o),Zt({source:e,event:t,request:i}),Sc(i)}function Tc(e,t,n){const r=Vr(e),o=wc(fo({},r),t,[n]);o.mbox={name:e};const i=xc(De(),r,[o]);zt("Mbox event handler notification",
e,o),Zt({mbox:e,event:t,request:i}),Sc(i)}function Cc(e){const t=it().globalMboxName,n=[],r=Ke;if(q((e)=>{const {mbox:t,data:o}=e;if(m(o))return;const {eventTokens:i=[]}=o;U(i)||n.push(function(e,t,n){const {name:r,state:o}=e,i=wc(e,t,n);return i.mbox={name:r,state:o},i}(t,r,i))},e),U(n))return;const o=xc(t,{},n);zt("Mboxes rendered notification",n),Zt({source:"prefetchMboxes",event:"rendered",request:o}),Sc(o)}function kc(e,t,n){const r=Vr(it().globalMboxName),o=wc(fo({},r),t,[n]);o.view={name:e};
const i=xc(De(),r,[o]);zt("View event handler notification",e,o),Zt({view:e,event:t,request:i}),Sc(i)}function Ic(e){const {viewName:t,impressionId:n}=e,r=Vr(it().globalMboxName),o=wc(fo({},r),Ke,[]);o.view={name:t},zt("View triggered notification",t),function(e,t,n){return vo(bc(e),t).then((e)=>(e.notifications=n,e))}(t,r,[o]).then((e)=>{e.impressionId=n,Zt({view:t,event:"triggered",request:e}),Sc(e)})}function Nc(e){if(m(e))return;const {view:t,data:n={}}=e,{eventTokens:r=[]}=n,{name:o,impressionId:i}=
t,c=yc(o);if(m(c))return;const s=xc(o,{},[function(e,t,n){const {name:r,state:o}=e,i=wc(e,t,n);return i.view={name:r,state:o},i}(c,Ke,r)]);s.impressionId=i,zt("View rendered notification",o,r),Zt({view:o,event:"rendered",request:s}),Sc(s)}const Oc={},_c=bo("metrics"),Ac=()=>Vo("metric"),qc=(e)=>Ho("metric",e);function Mc(e,t,n){if(!m(Oc[e]))return;const r=T(Oc);U(r)||q((e)=>{q((r)=>{const o=Oc[e][r];!function(e,t,n){Fn(n).off(e,t)}(t,o,n)},T(Oc[e])),delete Oc[e]},r)}function Pc(e,t,n,r){const {type:o,
selector:i,eventToken:c}=n,s=R(o+":"+i+":"+c),u=()=>r(e,o,c);!function(e,t){"click"===e&&_i("at-element-click-tracking",t)}(o,i),t?function(e,t){return!m(Oc[e])&&!m(Oc[e][t])}(e,s)||(Mc(e,o,i),function(e,t,n){Oc[e]=Oc[e]||{},Oc[e][t]=n}(e,s,u),gc(o,u,i)):gc(o,u,i)}function Rc(e,t,n,r){return function(e){return Ui(e[Ve]).then(()=>{Zt({metric:e});return h({found:!0},e)})["catch"](()=>(Bt("metric element not found",e),Zt({metric:e,message:"metric element not found"}),e))}(n).then((n)=>{n.found&&Pc(e,
t,n,r)})}function Dc(e,t,n,r){return mn(ne((n)=>Rc(e,t,n,r),n)).then(Ac)["catch"](qc)}function Lc(e){const {name:t}=e;return Dc(t,!1,_c(e),Tc)}function jc(e){const {name:t}=e;return Dc(t,!0,_c(e),kc)}function Vc(e){return Dc("pageLoadMetrics",!1,_c(e),Ec)}function Hc(e){return Dc("prefetchMetrics",!1,_c(e),Ec)}const Uc=bo(je),Bc=bo("cssSelector"),zc=(e)=>Ho("render",e),Fc=(e)=>xo(To)(e)&&jo(e);function $c(e){const t=ne(Bc,e);var n;n=No(t),fr(it(),n)}function Jc(e){const t=ne(Bc,e);var n;n=Io(t),lr(it(),
n)}function Zc(e){const t=O(Co,Oo(e));return _(ne(Uc,t))}function Gc(e){return x(e)&&"setJson"!==e.type}function Kc(e,t,n){const {eventToken:r,responseTokens:o,content:i}=e;return function(e){return mn(ne(mc,e)).then(hc)}(function(e,t,n){return ne((e)=>h({key:t,page:n},e),O(Gc,e))}(i,t,n)).then(()=>Vo("render",{eventToken:r,responseTokens:o}))["catch"](zc)}function Xc(e){return x(e)&&"json"!==e.type}function Yc(e,t){return ne(e,O(Xc,Oo(t)))}function Wc(e,t,n){const r={status:Ze,[e]:t},o=ne(Lo,O(To,
n)),i={};return U(o)||(r.status=$e,i.errors=o),U(i)||(r.data=i),r}function Qc(e,t,n){return mn(Yc((e)=>Kc(e,!0),e)).then(t).then((t)=>(n(e),t))}function es(e,t,n,r){const {name:o}=t;return mn(Yc((e)=>Kc(e,o,n),t)).then((n)=>function(e,t,n){const r={status:Ze,[e]:t},o=ne(Lo,O(To,n)),i=ne(Lo,O(Fc,n)),c=Io(ne(Ao,i)),s=Io(ne(qo,i)),u={};return U(o)||(r.status=$e,u.errors=o),U(c)||(u.eventTokens=c),U(s)||(u.responseTokens=s),U(u)||(r.data=u),r}(e,t,n)).then((e)=>(r(t),e))}function ts(e){return Qc(e,(t)=>
Wc("mbox",e,t),Lc)}function ns(e){return es("mbox",e,!0,Lc)}function rs(e){$c(Zc(e))}function os(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t)return;const {execute:n={}}=e,{pageLoad:r={}}=n;U(r)||rs(r)}function is(e){$c(Zc(e)),$n("#at-views")&&or("#at-views")}var cs={exports:{}};function ss(){}ss.prototype={on:function(e,t,n){var r=this.e||(this.e={});return(r[e]||(r[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){var r=this;function o(){r.off(e,o),t.apply(n,arguments)}
return o._=t,this.on(e,o,n)},emit:function(e){for(var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),r=0,o=n.length;r<o;r++)n[r].fn.apply(n[r].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),r=n[e],o=[];if(r&&t)for(var i=0,c=r.length;i<c;i++)r[i].fn!==t&&r[i].fn._!==t&&o.push(r[i]);return o.length?n[e]=o:delete n[e],this}},cs.exports=ss,cs.exports.TinyEmitter=ss;const us=new (0,cs.exports);function as(e,t){!function(e,t,n){e.emit(t,n)}(us,e,t)}function fs(e,
t){!function(e,t,n){e.on(t,n)}(us,e,t)}function ls(e){return{type:"redirect",content:e.url}}function ds(e){const t={};if(U(e))return t;const n=[],r=[],o=[];q((e)=>{switch(e.action){case "setContent":J((t=e).selector)&&J(t.cssSelector)?o.push(function(e){const t={type:"setHtml"};return t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}(e)):n.push({type:"html",content:e.content});break;case "setJson":U(e.content)||q((e)=>n.push({type:"json",content:e}),e.content);break;case "setText":o.push(function(e){const t=
{type:"setText"};return t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}(e));break;case "appendContent":o.push(function(e){const t={type:"appendHtml"};return t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}(e));break;case "prependContent":o.push(function(e){const t={type:"prependHtml"};return t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}(e));break;case "replaceContent":o.push(function(e){const t={type:"replaceHtml"};return t.content=
e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}(e));break;case "insertBefore":o.push(function(e){const t={type:"insertBefore"};return t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}(e));break;case "insertAfter":o.push(function(e){const t={type:"insertAfter"};return t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}(e));break;case "customCode":o.push(function(e){const t={type:"customCode"};return t.content=e.content,t.selector=e.selector,
t.cssSelector=e.cssSelector,t}(e));break;case "setAttribute":o.push(function(e){const t={};if(t.selector=e.selector,t.cssSelector=e.cssSelector,e.attribute===He)return t.type="setImageSource",t.content=e.value,t;t.type="setAttribute";const n={};return n[e.attribute]=e.value,t.content=n,t}(e));break;case "setStyle":o.push(function(e){const {style:t={}}=e,n={};return n.selector=e.selector,n.cssSelector=e.cssSelector,m(t.left)||m(t.top)?m(t.width)||m(t.height)?(n.type="setStyle",n.content=t,n):(n.type=
"resize",n.content=t,n):(n.type="move",n.content=t,n)}(e));break;case "remove":o.push(function(e){const t={type:"remove"};return t.selector=e.selector,t.cssSelector=e.cssSelector,t}(e));break;case "rearrange":o.push(function(e){const t={};t.from=e.from,t.to=e.to;const n={type:"rearrange"};return n.selector=e.selector,n.cssSelector=e.cssSelector,n.content=t,n}(e));break;case "redirect":n.push(ls(e));break;case "trackClick":r.push({type:"click",selector:e.selector,eventToken:e.clickTrackId})}var t},
e);const i={};!U(o)&&n.push({type:"actions",content:o});!U(n)&&(i.options=n);if(!U(r)&&(i.metrics=r),U(i))return t;const c={};return c.pageLoad=i,t.execute=c,t}function ps(e,t,n){return n?ds(t):function(e,t){const n={};if(U(t))return n;const r=[],o=[];q((e)=>{switch(e.action){case "setContent":r.push({type:"html",content:e.content});break;case "setJson":U(e.content)||q((e)=>r.push({type:"json",content:e}),e.content);break;case "redirect":r.push(ls(e));break;case "signalClick":o.push({type:"click",
eventToken:e.clickTrackId})}},t);const i={name:e};if(!U(r)&&(i.options=r),!U(o)&&(i.metrics=o),U(i))return n;const c={},s=[i];return c.mboxes=s,n.execute=c,n}(e,t)}const hs=(e)=>!U(O(To,e));function ms(e){const {status:t,data:n}=e,r={status:t,pageLoad:!0};return m(n)||(r.data=n),r}function gs(e){const {status:t,mbox:n,data:r}=e,{name:o}=n,i={status:t,mbox:o};return m(r)||(i.data=r),i}function vs(e){const {status:t,view:n,data:r}=e,{name:o}=n,i={status:t,view:o};return m(r)||(i.data=r),i}function ys(e){const {status:t,
data:n}=e,r={status:t,prefetchMetrics:!0};return m(n)||(r.data=n),r}function bs(e){if(m(e))return[null];const t=ne(ms,[e]);return hs(t)&&Bt("Page load rendering failed",e),t}function xs(e){if(m(e))return[null];const t=ne(gs,e);return hs(t)&&Bt("Mboxes rendering failed",e),t}function ws(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Cc;if(m(e))return[null];const n=ne(gs,e);return hs(n)&&Bt("Mboxes rendering failed",e),t(e),n}function Ss(e){let t=arguments.length>1&&void 0!==arguments[1]?
arguments[1]:Nc;if(m(e))return[null];const n=ne(vs,[e]);hs(n)&&Bt("View rendering failed",e);const {view:r}=e;return r.page?(t(e),n):n}function Es(e){if(m(e))return[null];const t=ne(ys,[e]);return hs(t)&&Bt("Prefetch rendering failed",e),t}function Ts(e){const t=_([bs(e[0]),xs(e[1]),ws(e[2]),Es(e[3])]),n=O(wo,t),r=O(To,n);return U(r)?pn(n):hn(r)}function Cs(e){return hn(e)}function ks(e,t){if(U(t))return;const {options:n}=t;U(n)||q((t)=>{if("html"!==t.type)return;const {content:n}=t;t.type="actions",
t.content=[{type:"setHtml",selector:e,content:n}]},n)}function Is(e,t){const {metrics:n}=t;if(U(n))return;const {name:r}=t;q((t)=>{t.name=r,t.selector=t.selector||e},n)}function Ns(e,t){const n=h({},t),{execute:r={},prefetch:o={}}=n,{pageLoad:i={},mboxes:c=[]}=r,{mboxes:s=[]}=o;return ks(e,i),q((t)=>ks(e,t),c),q((t)=>Is(e,t),c),q((t)=>ks(e,t),s),q((t)=>Is(e,t),s),n}function Os(e){const {prefetch:t={}}=e,{views:n=[]}=t;U(n)||function(e){q(vc,e)}(n)}function _s(e){const t=[],{execute:n={}}=e,{pageLoad:r=
{},mboxes:o=[]}=n;U(r)?t.push(pn(null)):t.push(function(e){return Qc(e,(t)=>Wc("pageLoad",e,t),Vc)}(r)),U(o)?t.push(pn(null)):t.push(function(e){return mn(ne(ts,e))}(o));const {prefetch:i={}}=e,{mboxes:c=[],metrics:s=[]}=i;return U(c)?t.push(pn(null)):t.push(function(e){return mn(ne(ns,e))}(c)),g(s)&&!U(s)?t.push(function(e){return mn([Hc(e)]).then(Wc)}(i)):t.push(pn(null)),pr(),mn(t).then(Ts)["catch"](Cs)}function As(e,t){fe(()=>e.location.replace(t))}function qs(e){return J(e)||Hn(e)?e:"head"}function Ms(e){_i("at-element-marker",
e)}function Ps(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const {prefetch:t={}}=e,{execute:n={}}=e,{pageLoad:r={}}=n,{mboxes:o=[]}=n,{pageLoad:i={}}=t,{views:c=[]}=t,{mboxes:s=[]}=t;return U(r)&&U(o)&&U(i)&&U(c)&&U(s)}function Rs(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const {selector:n,response:r}=e;if(Ps(r))return zt(Fe),Ms(n),pr(),Dn({}),as("no-offers-event"),pn();const o=Ns(n,r),i=di(o);if(!U(i)){const {url:e}=i;return zt("Redirect action",i),Ln({url:e}),
as("redirect-offer-event"),As(Ye,e),pn()}return Mn({}),Os(o),as("cache-updated-event"),os(o,t),_s(o).then((e)=>{U(e)||Pn({execution:e})})["catch"]((e)=>Rn({error:e}))}const Ds="[page-init]";function Ls(e){Bt(Ds,"View delivery error",e),as("no-offers-event"),Zt({source:Ds,error:e}),pr()}function js(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n={selector:"head",response:e};zt(Ds,"response",e),Zt({source:Ds,response:e}),Rs(n,t)["catch"](Ls)}function Vs(e){const t=function(e){return e.serverState}(e),
{request:n,response:r}=t;zt(Ds,"Using server state"),Zt({source:Ds,serverState:t});const o=function(e,t){const n=h({},t),{execute:r,prefetch:o}=n,i=e.pageLoadEnabled,c=e.viewsEnabled;return r&&(n.execute.mboxes=void 0),r&&!i&&(n.execute.pageLoad=void 0),o&&(n.prefetch.mboxes=void 0),o&&!c&&(n.prefetch.views=void 0),n}(e,r);os(o),function(e){const {prefetch:t={}}=e,{views:n=[]}=t;if(U(n))return;Jc(_(ne(Zc,n)))}(o),function(e){window.__target_telemetry.addServerStateEntry(e)}(n),Ci({request:n,response:o}).then((e)=>
js(e,!0))["catch"](Ls)}function Hs(){if(!Rt()&&!Lt())return Bt(Ds,Ue),void Zt({source:Ds,error:Ue});const e=it();if(function(e){const t=e.serverState;if(U(t))return!1;const {request:n,response:r}=t;return!U(n)&&!U(r)}(e))return void Vs(e);const t=e.pageLoadEnabled,n=e.viewsEnabled;if(!t&&!n)return zt(Ds,"Page load disabled"),void Zt({source:Ds,error:"Page load disabled"});dr();const r={};if(t){const e={pageLoad:{}};r.execute=e}if(n){const e={views:[{}]};r.prefetch=e}const o=e.timeout;zt(Ds,"request",
r),Zt({source:Ds,request:r});const i={request:r,timeout:o};bn()&&!xn()?wn().then(()=>{Oi(i).then(js)["catch"](Ls)})["catch"](Ls):Oi(i).then(js)["catch"](Ls)}function Us(){const e={valid:!0};return e}function Bs(e){const t={valid:!1};return t[$e]=e,t}function zs(e){return $(e)?Bs("mbox option is required"):e.length>250?Bs("mbox option is too long"):Us()}function Fs(e){return{action:"redirect",url:e.content}}function $s(e){const t=[];return q((e)=>{const {type:n}=e;switch(n){case "setHtml":t.push(function(e){const t=
{action:"setContent"};return t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}(e));break;case "setText":t.push(function(e){const t={action:"setText"};return t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}(e));break;case "appendHtml":t.push(function(e){const t={action:"appendContent"};return t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}(e));break;case "prependHtml":t.push(function(e){const t={action:"prependContent"};return t.content=
e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}(e));break;case "replaceHtml":t.push(function(e){const t={action:"replaceContent"};return t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}(e));break;case "insertBefore":t.push(function(e){const t={action:"insertBefore"};return t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}(e));break;case "insertAfter":t.push(function(e){const t={action:"insertAfter"};return t.content=e.content,t.selector=
e.selector,t.cssSelector=e.cssSelector,t}(e));break;case "customCode":t.push(function(e){const t={action:"customCode"};return t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}(e));break;case "setAttribute":t.push(function(e){const t=T(e.content)[0],n={action:"setAttribute"};return n.attribute=t,n.value=e.content[t],n.selector=e.selector,n.cssSelector=e.cssSelector,n}(e));break;case "setImageSource":t.push(function(e){const t={action:"setAttribute"};return t.attribute=He,t.value=
e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}(e));break;case "setStyle":t.push(function(e){const t={action:"setStyle"};return t.style=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}(e));break;case "resize":t.push(function(e){const t={action:"setStyle"};return t.style=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}(e));break;case "move":t.push(function(e){const t={action:"setStyle"};return t.style=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,
t}(e));break;case "remove":t.push(function(e){const t={action:"remove"};return t.selector=e.selector,t.cssSelector=e.cssSelector,t}(e));break;case "rearrange":t.push(function(e){const t={action:"rearrange"};return t.from=e.content.from,t.to=e.content.to,t.selector=e.selector,t.cssSelector=e.cssSelector,t}(e));break;case "redirect":t.push(Fs(e))}},e),t}function Js(e){if(U(e))return[];const t=[];return q((e)=>{"click"===e.type&&(J(e.selector)?t.push({action:"trackClick",selector:e.selector,clickTrackId:e.eventToken}):
t.push({action:"signalClick",clickTrackId:e.eventToken}))},e),t}function Zs(e){if(U(e))return[];const t=[],n=[],r=[],{options:o=[],metrics:i=[]}=e;q((e)=>{const {type:o}=e;switch(o){case "html":t.push(e.content);break;case "json":n.push(e.content);break;case "redirect":r.push(Fs(e));break;case "actions":r.push.apply(r,$s(e.content))}},o),U(t)||r.push({action:"setContent",content:t.join("")}),U(n)||r.push({action:"setJson",content:n});const c=Js(i);return U(c)||r.push.apply(r,c),r}const Gs="[getOffer()]";
function Ks(e,t){const n=function(e){const {execute:t={}}=e,{pageLoad:n={}}=t,{mboxes:r=[]}=t,o=[];return o.push.apply(o,Zs(n)),o.push.apply(o,_(ne(Zs,r))),o}(t);e[Ze](n)}function Xs(e){const t=function(e){if(!x(e))return Bs(Be);const t=zs(e.mbox);return t[Je]?w(e[Ze])?w(e[$e])?Us():Bs("error option is required"):Bs("success option is required"):t}(e),n=t[$e];if(!t[Je])return Bt(Gs,n),void Zt({source:Gs,options:e,error:n});if(!Rt()&&!Lt())return fe(e[$e]("warning",Ue)),Bt(Gs,Ue),void Zt({source:Gs,
options:e,error:Ue});const r=(t)=>Ks(e,t),o=(t)=>function(e,t){const n=t.status||"unknown";e[$e](n,t)}(e,t);zt(Gs,e),Zt({source:Gs,options:e}),bn()&&!xn()?wn().then(()=>{Ni(e).then(r)["catch"](o)}):Ni(e).then(r)["catch"](o)}const Ys="[getOffers()]";function Ws(e){const t=function(e){if(!x(e))return Bs(Be);const {request:t}=e;if(!x(t))return Bs("request option is required");const {execute:n,prefetch:r}=t;return x(n)||x(r)?Us():Bs("execute or prefetch is required")}(e),n=t[$e];return t[Je]?Rt()||Lt()?
(zt(Ys,e),Zt({source:Ys,options:e}),!bn()||xn()?Oi(e):wn().then(()=>Oi(e))):(Bt(Ys,Ue),Zt({source:Ys,options:e,error:Ue}),hn(new Error(Ue))):(Bt(Ys,n),Zt({source:Ys,options:e,error:n}),hn(t))}const Qs="[applyOffer()]";function eu(e){const t=qs(e.selector),n=R(t);Oe.timeStart(n);const r=function(e){if(!x(e))return Bs(Be);const t=zs(e.mbox);if(!t[Je])return t;const n=e.offer;return g(n)?Us():Bs("offer option is required")}(e),o=r[$e];if(!r[Je])return Bt(Qs,e,o),Zt({source:Qs,options:e,error:o}),void Ms(t);
if(!Rt()&&!Lt())return Bt(Qs,Ue),Zt({source:Qs,options:e,error:Ue}),void Ms(t);e.selector=t,zt(Qs,e),Zt({source:Qs,options:e}),function(e){const {mbox:t,selector:n,offer:r}=e,o=it(),i=t===o.globalMboxName;if(U(r))return zt(Fe),Ms(n),pr(),void Dn({mbox:t});const c=Ns(n,ps(t,r,i)),s=di(c);if(!U(s)){const {url:e}=s;return zt("Redirect action",s),Ln({url:e}),void As(Ye,e)}Mn({mbox:t}),os(c),_s(c).then((e)=>{U(e)||Pn({mbox:t,execution:e})})["catch"]((e)=>Rn({error:e}))}(e);const i=Oe.timeEnd(n);Oe.clearTiming(n),
window.__target_telemetry.addRenderEntry(n,i)}function tu(e){const t=qs(e.selector),n=R(t);Oe.timeStart(n);const r=function(e){if(!x(e))return Bs(Be);const {response:t}=e;return x(t)?Us():Bs("response option is required")}(e),o=r[$e];return r[Je]?Rt()||Lt()?(e.selector=t,zt("[applyOffers()]",e),Zt({source:"[applyOffers()]",options:e}),Rs(e).then(()=>{const e=Oe.timeEnd(n);Oe.clearTiming(n),window.__target_telemetry.addRenderEntry(n,e)})):(Bt("[applyOffers()]",Ue),Zt({source:"[applyOffers()]",options:e,
error:Ue}),Ms(t),hn(new Error(Ue))):(Bt("[applyOffers()]",e,o),Zt({source:"[applyOffers()]",options:e,error:o}),Ms(t),hn(r))}function nu(e){const t=it().globalMboxName,{consumerId:n=t,request:r}=e,o=function(e){if(!x(e))return Bs(Be);const {request:t}=e;if(!x(t))return Bs("request option is required");const {execute:n,prefetch:r,notifications:o}=t;return x(n)||x(r)?Bs("execute or prefetch is not allowed"):g(o)?Us():Bs("notifications are required")}(e),i=o[$e];if(!o[Je])return Bt("[sendNotifications()]",
i),void Zt({source:"[sendNotifications()]",options:e,error:i});if(!Rt()&&!Lt())return Bt("[sendNotifications()]",Ue),void Zt({source:"[sendNotifications()]",options:e,error:Ue});zt("[sendNotifications()]",e),Zt({source:"[sendNotifications()]",options:e});const {notifications:c}=r,s=xc(n,{},c);!bn()||xn()?Sc(s):Bt("[sendNotifications()]","Adobe Target is not opted in")}const ru="[trackEvent()]";function ou(e){if(bn()&&!xn())return Bt("Track event request failed","Adobe Target is not opted in"),void e[$e]($e,
"Adobe Target is not opted in");!function(e){const {mbox:t,type:n=Ke}=e,r=x(e.params)?e.params:{},o=h({},Vr(t),r),i=wc(fo({},o),n,[]);if(i.mbox={name:t},Sc(xc(t,o,[i])))return zt("Track event request succeeded",e),void e[Ze]();Bt("Track event request failed",e),e[$e]("unknown","Track event request failed")}(e)}function iu(e){const t=e[Ve],n=e[Le],r=j(Fn(t)),o=()=>function(e){return ou(e),!e.preventDefault}(e);q((e)=>gc(n,o,e),r)}function cu(e){const t=function(e){if(!x(e))return Bs(Be);const t=zs(e.mbox);
return t[Je]?Us():t}(e),n=t[$e];if(!t[Je])return Bt(ru,n),void Zt({source:ru,options:e,error:n});const r=function(e,t){const n=t.mbox,r=h({},t),o=x(t.params)?t.params:{};return r.params=h({},Vr(n),o),r.timeout=Jr(e,t.timeout),r[Ze]=w(t[Ze])?t[Ze]:ye,r[$e]=w(t[$e])?t[$e]:ye,r}(it(),e);if(!Rt()&&!Lt())return Bt(ru,Ue),fe(r[$e]("warning",Ue)),void Zt({source:ru,options:e,error:Ue});zt(ru,r),Zt({source:ru,options:r}),function(e){const t=e[Le],n=e[Ve];return J(t)&&(J(n)||Hn(n))}(r)?iu(r):ou(r)}const su=
[];let uu=0;function au(e){return is(e),function(e){const {page:t}=e;return es("view",e,t,jc)}(e).then(Ss).then((e)=>{U(e)||Pn({execution:e})})["catch"]((e)=>{Bt("View rendering failed",e),Rn({error:e})})}function fu(){for(;su.length>0;){const e=su.pop(),{viewName:t,page:n}=e,r=yc(t,e);m(r)?n&&Ic(e):au(r)}}function lu(){uu=1,fu()}function du(e,t){if(!it().viewsEnabled)return void Bt("[triggerView()]","Views are not enabled");if(!P(e)||$(e))return Bt("[triggerView()]","View name should be a non-empty string",
e),void Zt({source:"[triggerView()]",view:e,error:"View name should be a non-empty string"});const n=e.toLowerCase(),r=function(e,t){const n={};return n.viewName=e,n.impressionId=De(),n.page=!0,U(t)||(n.page=!!t.page),n}(n,t);if(Lt())return zt("[triggerView()]",n,r),void function(e){const t=e.viewName;Ye._AT.currentView=t}(r);zt("[triggerView()]",n,r),Zt({source:"[triggerView()]",view:n,options:r}),function(e){su.push(e),0!==uu&&fu()}(r)}fs("cache-updated-event",lu),fs("no-offers-event",lu),fs("redirect-offer-event",
lu);const pu="function has been deprecated. Please use getOffer() and applyOffer() functions instead.",hu="adobe.target.registerExtension() function has been deprecated. Please review the documentation for alternatives.",mu="mboxCreate() "+pu,gu="mboxDefine() "+pu,vu="mboxUpdate() "+pu;function yu(){Bt(hu,arguments)}function bu(){Bt(mu,arguments)}function xu(){Bt(gu,arguments)}function wu(){Bt(vu,arguments)}const Su=/^tgt:.+/i,Eu=(e)=>Su.test(e);function Tu(e,t){try{localStorage.setItem(e,JSON.stringify(t))}catch(e){Object.keys(localStorage).filter(Eu).forEach((e)=>
localStorage.removeItem(e))}}function Cu(){function e(e){return"tgt:tlm:"+e}function t(e){const t=localStorage.getItem(e);let n=parseInt(t,10);return Number.isNaN(n)&&(n=-1),n}function n(e,t){localStorage.setItem(e,t)}function r(t){const n=e(t),r=localStorage.getItem(n);return localStorage.removeItem(n),r}return{addEntry:function(r){!function(t,n){Tu(e(t),n)}(function(){const e=t("tgt:tlm:upper")+1;return n("tgt:tlm:upper",e),e}(),r)},getAndClearEntries:function(){return function(){const e=[],o=t("tgt:tlm:lower")||
-1,i=t("tgt:tlm:upper")||-1;for(let t=i;t>o;t-=1){const n=r(t);n&&e.push(JSON.parse(n))}return n("tgt:tlm:lower",i),e}()},hasEntries:function(){const n=e(t("tgt:tlm:upper"));return!!localStorage.getItem(n)}}}return{init:function(e,t,n){if(e.adobe&&e.adobe.target&&void 0!==e.adobe.target.getOffer)return void Bt("Adobe Target has already been initialized.");ot(n);const r=it(),o=r.version;if(e.adobe.target.VERSION=o,e.adobe.target.event={LIBRARY_LOADED:"at-library-loaded",REQUEST_START:"at-request-start",
REQUEST_SUCCEEDED:"at-request-succeeded",REQUEST_FAILED:"at-request-failed",CONTENT_RENDERING_START:"at-content-rendering-start",CONTENT_RENDERING_SUCCEEDED:"at-content-rendering-succeeded",CONTENT_RENDERING_FAILED:"at-content-rendering-failed",CONTENT_RENDERING_NO_OFFERS:"at-content-rendering-no-offers",CONTENT_RENDERING_REDIRECT:"at-content-rendering-redirect"},!r.enabled)return function(e){e.adobe=e.adobe||{},e.adobe.target={VERSION:"",event:{},getOffer:ye,getOffers:be,applyOffer:ye,applyOffers:be,
sendNotifications:ye,trackEvent:ye,triggerView:ye,registerExtension:ye,init:ye},e.mboxCreate=ye,e.mboxDefine=ye,e.mboxUpdate=ye}(e),void Bt(Ue);Ft(Ye,it(),Dt()),Xn(),function(e){const t=nr(e.location.search);if(m(t))return;const n=new Date(re()+186E4),r=it().secureOnly,o=h({expires:n,secure:r},r?{sameSite:"None"}:{});Tt("at_qa_mode",JSON.stringify(t),o)}(e),rr(e),Hs(),e.adobe.target.getOffer=Xs,e.adobe.target.getOffers=Ws,e.adobe.target.applyOffer=eu,e.adobe.target.applyOffers=tu,e.adobe.target.sendNotifications=
nu,e.adobe.target.trackEvent=cu,e.adobe.target.triggerView=du,e.adobe.target.registerExtension=yu,e.mboxCreate=bu,e.mboxDefine=xu,e.mboxUpdate=wu,e.__target_telemetry=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:pe,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ke();function r(e,t){return 200!==e||t!==de&&t!==he?me:ge}function o(e){const t={},n=xe(e),r=we(e),o=Se(e),i=Ee(e),c=Te(e);return n&&(t.executePageLoad=
n),r&&(t.executeMboxCount=r),o&&(t.prefetchPageLoad=o),i&&(t.prefetchMboxCount=i),c&&(t.prefetchViewCount=c),t}function i(e){const t={};return e.dns&&(t.dns=Ce(e.dns)),e.tls&&(t.tls=Ce(e.tls)),e.timeToFirstByte&&(t.timeToFirstByte=Ce(e.timeToFirstByte)),e.download&&(t.download=Ce(e.download)),e.responseSize&&(t.responseSize=Ce(e.responseSize)),t}function c(e){const t={};return e.execution&&(t.execution=Ce(e.execution)),e.parsing&&(t.parsing=Ce(e.parsing)),e.request&&(t.request=i(e.request)),h(e,t)}
function s(e){n.addEntry(c(e))}function u(t){e&&s({requestId:t.requestId,timestamp:re()})}function a(t,n){e&&s({requestId:t,timestamp:re(),execution:n})}function f(e,t){s(h(t,{requestId:e,timestamp:re()}))}function l(t,n){e&&n&&f(t,n)}function d(n,i,c){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t;if(!e||!i)return;const {requestId:u}=n,a=h(o(n),{decisioningMethod:s}),l={mode:r(c,s),features:a},d=h(i,l);f(u,d)}function p(){return n.getAndClearEntries()}function m(){return n.hasEntries()}
function g(e){return m()?h(e,{telemetry:{entries:p()}}):e}return{addDeliveryRequestEntry:d,addArtifactRequestEntry:l,addRenderEntry:a,addServerStateEntry:u,getAndClearEntries:p,hasEntries:m,addTelemetryToDeliveryRequest:g}}(r.telemetryEnabled&&function(){try{const e=window.localStorage,t="__storage_test__";return e.setItem(t,t),e.removeItem(t),!0}catch(e){return!1}}(),r.decisioningMethod,Cu()),function(){const e=On("at-library-loaded",{});Nn(Ye,Xe,"at-library-loaded",e)}()}}}(),window.adobe.target.init(window,
document,{clientCode:"citicorpcreditservic",imsOrgId:"61834D9B5228A7430A490D45@AdobeOrg",serverDomain:"citicorpcreditservic.tt.omtrdc.net",timeout:Number("18000"),globalMboxName:"target-global-mbox",version:"2.8.1",defaultContentHiddenStyle:"visibility: hidden;",defaultContentVisibleStyle:"visibility: visible;",bodyHiddenStyle:"body {opacity: 0 !important}",bodyHidingEnabled:!0,deviceIdLifetime:632448E5,sessionIdLifetime:186E4,selectorsPollingTimeout:8E3,visitorApiTimeout:5E3,overrideMboxEdgeServer:!0,
overrideMboxEdgeServerTimeout:186E4,optoutEnabled:!1,optinEnabled:!1,secureOnly:!1,supplementalDataIdParamTimeout:30,authoringScriptUrl:"//cdn.tt.omtrdc.net/cdn/target-vec.js",urlSizeLimit:2048,endpoint:"/rest/v1/delivery",pageLoadEnabled:"true"===String("true"),viewsEnabled:!0,analyticsLogging:"server_side",serverState:{},decisioningMethod:"server-side",legacyBrowserSupport:!1});document.addEventListener(adobe.target.event.REQUEST_SUCCEEDED,function(e){window.ttMETA=typeof window.ttMETA!="undefined"?
window.ttMETA:[];var tokens=e.detail.responseTokens;if(isEmpty(tokens))return;var uniqueTokens=distinct(tokens);uniqueTokens.forEach(function(token){window.ttMETA.push({"CampaignName":token["activity.name"],"CampaignId":token["activity.id"],"RecipeName":token["experience.name"],"RecipeId":token["experience.id"],"OfferId":token["offer.id"],"OfferName":token["offer.name"],"MboxName":e.detail.mbox})})});function isEmpty(val){return val===undefined||val==null||val.length<=0?true:false}function key(obj){return Object.keys(obj).map(function(k){return k+
""+obj[k]}).join("")}function distinct(arr){var result=arr.reduce(function(acc,e){acc[key(e)]=e;return acc},{});return Object.keys(result).map(function(k){return result[k]})}document.documentElement.style.opacity="1";console.timeEnd("AT.js Time to Load");console.log("AT.js Loaded for "+publisher+" Version: "+adobe.target.VERSION);var ATPreviousUrl=window.location.href;setInterval(()=>{if(document.location.href!==ATPreviousUrl){console.log("AT.js Changed detected: ",window.location.href);ATPreviousUrl=
document.location.href;if(publisher.indexOf("Sapient")===-1){GetTNTData("URL Changed",digitalData,pageID,publisher,pageDef,client,pageInstanceID,pagename,language,app_hierarchy,authentication_status,responsive_design_data,site_hierarchy,spa_page,domain);adobe.target.getOffers({request:{execute:{pageLoad:{parameters:{}}}}}).then((response)=>adobe.target.applyOffers({response:response})).then(()=>console.log("AT.js Success "+publisher)).catch((aterror)=>console.log("AT.js Error",aterror))}}},300);console.time("AT.js Wait");
document.addEventListener(adobe.target.event.REQUEST_SUCCEEDED,function(e){if(hostname!="Prod")console.log("AT.js SUCCESS Request",e.detail)});document.addEventListener(adobe.target.event.REQUEST_FAILED,function(e){console.log("AT.js FAILED Request",e.detail)});document.addEventListener(adobe.target.event.CONTENT_RENDERING_SUCCEEDED,function(e){if(hostname!="Prod")console.log("AT.js SUCCESS Content rendering ",e.detail)});document.addEventListener(adobe.target.event.CONTENT_RENDERING_FAILED,function(e){console.log("AT.js FAILED Content rendering",
e.detail)});document.addEventListener("readystatechange",(event)=>{if(event.target.readyState==="complete"){console.timeEnd("AT.js Wait");console.time("AT.js Pageload");if(publisher.indexOf("Sapient")===-1){GetTNTData("Page Loaded",digitalData,pageID,publisher,pageDef,client,pageInstanceID,pagename,language,app_hierarchy,authentication_status,responsive_design_data,site_hierarchy,spa_page,domain);adobe.target.getOffers({request:{execute:{pageLoad:{parameters:{}}}}}).then((response)=>adobe.target.applyOffers({response:response})).then(()=>
console.log("AT.js Success "+publisher)).catch((aterror)=>console.log("AT.js Error",aterror));console.timeEnd("AT.js Pageload");document.documentElement.style.opacity="1"}}})}}catch(tnt_error){console.log("AT.js Error: "+tnt_error.message)}},tntwaittimer)},3703723,[3039001],552021,[578278]);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.registerDataDefinition(function(){Bootstrapper.data.define({extract:function(){try{return citiData.serverSideBullseye}catch(e){return""}},transform:function(val){return val?val:""},load:"page",trigger:Bootstrapper.data.bottomOfBodyTrigger,dataDefName:"citiData_serverSideBullseye",collection:"DD_citiData",source:"Manage",priv:"false"},{id:"49823"})},49823)},
-1,-1);Bootstrapper.bindDependencyDOMParsed(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;console.log("AT.js Legacy Manual Mbox has been updated Contact Citi Target Team")},3649354,[3039001],677895,[578278]);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;if(typeof window._citiData!="undefined")Bootstrapper.getExtraParams=function(){var a={"page_def":window._citiData.pageDef};return a}},1124213,354602);
Bootstrapper.bindDependencyImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;console.log("AT.js Old Cards Mbox has been updated Contact Citi Target Team")},3649360,[3039001],624610,[578278]);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;!function e(t,i,n){function r(s,o){if(!i[s]){if(!t[s]){var l="function"==typeof require&&require;if(!o&&l)return l(s,!0);if(a)return a(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u;}var d=i[s]={exports:{}};t[s][0].call(d.exports,function(e){var i=t[s][1][e];return r(i?i:e)},d,d.exports,e,t,i,n)}return i[s].exports}for(var a="function"==
typeof require&&require,s=0;s<n.length;s++)r(n[s]);return r}({1:[function(e,t,i){(function(i){function n(){function e(){h.windowLoaded=!0}i.addEventListener?i.addEventListener("load",e):i.attachEvent&&i.attachEvent("onload",e),h.codeLoadEnd=(new Date).getTime()}var r=e("./child/ChildVisitor"),a=e("./child/Message"),s=e("./child/makeChildMessageListener"),o=e("./utils/asyncParallelApply"),l=e("./utils/enums"),u=e("./utils/utils"),d=e("./utils/getDomain"),c=e("./units/version"),f=e("./units/crossDomain"),
g=e("@adobe-mcid/visitor-js-shared/lib/ids/generateRandomID"),p=e("./units/makeCorsRequest"),m=e("./units/makeDestinationPublishing"),_=e("./utils/constants"),h=function(e,t,n){function r(e){var t=e;return function(e){var i=e||v.location.href;try{var n=S._extractParamFromUri(i,t);if(n)return H.parsePipeDelimetedKeyValues(n)}catch(e){}}}function h(e){function t(e,t){e&&e.match(_.VALID_VISITOR_ID_REGEX)&&t(e)}t(e[k],S.setMarketingCloudVisitorID),S._setFieldExpire(V,-1),t(e[R],S.setAnalyticsVisitorID)}
function C(e){e=e||{},S._supplementalDataIDCurrent=e.supplementalDataIDCurrent||"",S._supplementalDataIDCurrentConsumed=e.supplementalDataIDCurrentConsumed||{},S._supplementalDataIDLast=e.supplementalDataIDLast||"",S._supplementalDataIDLastConsumed=e.supplementalDataIDLastConsumed||{}}function D(e){function t(e,t,i){return i=i?i+="|":i,i+=e+"\x3d"+encodeURIComponent(t)}function i(e){var t=H.getTimestampInSeconds();return e=e?e+="|":e,e+="TS\x3d"+t}function n(e,i){var n=i[0],r=i[1];return null!=r&&
r!==N&&(e=t(n,r,e)),e}var r=e.reduce(n,"");return i(r)}function I(e){var t=20160,i=e.minutesToLive,n="";return(S.idSyncDisableSyncs||S.disableIdSyncs)&&(n=n?n:"Error: id syncs have been disabled"),"string"==typeof e.dpid&&e.dpid.length||(n=n?n:"Error: config.dpid is empty"),"string"==typeof e.url&&e.url.length||(n=n?n:"Error: config.url is empty"),"undefined"==typeof i?i=t:(i=parseInt(i,10),(isNaN(i)||i<=0)&&(n=n?n:"Error: config.minutesToLive needs to be a positive number")),{error:n,ttl:i}}if(!n||
n.split("").reverse().join("")!==e)throw new Error("Please use `Visitor.getInstance` to instantiate Visitor.");var S=this;S.version="3.1.2";var v=i,A=v.Visitor;A.version=S.version,A.AuthState=l.AUTH_STATE,A.OptOut=l.OPT_OUT,v.s_c_in||(v.s_c_il=[],v.s_c_in=0),S._c="Visitor",S._il=v.s_c_il,S._in=v.s_c_in,S._il[S._in]=S,v.s_c_in++,S._log={requests:[]},S.marketingCloudOrgID=e,S.cookieName="AMCV_"+e,S.sessionCookieName="AMCVS_"+e,S.cookieDomain=d(),S.cookieDomain===v.location.hostname&&(S.cookieDomain=
""),S.loadSSL=v.location.protocol.toLowerCase().indexOf("https")>=0,S.loadTimeout=3E4,S.CORSErrors=[],S.marketingCloudServer=S.audienceManagerServer="dpm.demdex.net",S.sdidParamExpiry=30;var y=v.document,M=null,b="MC",k="MCMID",E="MCORGID",T="MCCIDH",O="MCSYNCSOP",w="MCIDTS",L="MCOPTOUT",P="A",R="MCAID",F="AAM",x="MCAAMLH",V="MCAAMB",N="NONE",j=function(e){return!Object.prototype[e]},U=p(S,G);S.FIELDS=l.FIELDS,S.cookieRead=function(e){e=encodeURIComponent(e);var t=(";"+y.cookie).split(" ").join(";"),
i=t.indexOf(";"+e+"\x3d"),n=i<0?i:t.indexOf(";",i+1),r=i<0?"":decodeURIComponent(t.substring(i+2+e.length,n<0?t.length:n));return r},S.cookieWrite=function(e,t,i){var n,r=S.cookieLifetime;if(t=""+t,r=r?(""+r).toUpperCase():"",i&&"SESSION"!==r&&"NONE"!==r)if(n=""!==t?parseInt(r?r:0,10):-60)i=new Date,i.setTime(i.getTime()+1E3*n);else{if(1===i){i=new Date;var a=i.getYear();i.setYear(a+2+(a<1900?1900:0))}}else i=0;return e&&"NONE"!==r?(y.cookie=encodeURIComponent(e)+"\x3d"+encodeURIComponent(t)+"; path\x3d/;"+
(i?" expires\x3d"+i.toGMTString()+";":"")+(S.cookieDomain?" domain\x3d"+S.cookieDomain+";":""),S.cookieRead(e)===t):0},S.resetState=function(e){e?S._mergeServerState(e):C()},S._isAllowedDone=!1,S._isAllowedFlag=!1,S.isAllowed=function(){return S._isAllowedDone||(S._isAllowedDone=!0,(S.cookieRead(S.cookieName)||S.cookieWrite(S.cookieName,"T",1))&&(S._isAllowedFlag=!0)),S._isAllowedFlag},S.setMarketingCloudVisitorID=function(e){S._setMarketingCloudFields(e)},S._use1stPartyMarketingCloudServer=!1,S.getMarketingCloudVisitorID=
function(e,t){if(S.isAllowed()){S.marketingCloudServer&&S.marketingCloudServer.indexOf(".demdex.net")<0&&(S._use1stPartyMarketingCloudServer=!0);var i=S._getAudienceManagerURLData("_setMarketingCloudFields"),n=i.url;return S._getRemoteField(k,n,e,t,i)}return""},S.getVisitorValues=function(e,t){var i={MCMID:{fn:S.getMarketingCloudVisitorID,args:[!0],context:S},MCOPTOUT:{fn:S.isOptedOut,args:[void 0,!0],context:S},MCAID:{fn:S.getAnalyticsVisitorID,args:[!0],context:S},MCAAMLH:{fn:S.getAudienceManagerLocationHint,
args:[!0],context:S},MCAAMB:{fn:S.getAudienceManagerBlob,args:[!0],context:S}},n=t&&t.length?H.pluck(i,t):i;o(n,e)},S._currentCustomerIDs={},S._customerIDsHashChanged=!1,S._newCustomerIDsHash="",S.setCustomerIDs=function(e){function t(){S._customerIDsHashChanged=!1}if(S.isAllowed()&&e){S._readVisitor();var i,n;for(i in e)if(j(i)&&(n=e[i]))if("object"==typeof n){var r={};n.id&&(r.id=n.id),void 0!=n.authState&&(r.authState=n.authState),S._currentCustomerIDs[i]=r}else S._currentCustomerIDs[i]={id:n};
var a=S.getCustomerIDs(),s=S._getField(T),o="";s||(s=0);for(i in a)j(i)&&(n=a[i],o+=(o?"|":"")+i+"|"+(n.id?n.id:"")+(n.authState?n.authState:""));S._newCustomerIDsHash=S._hash(o),S._newCustomerIDsHash!==s&&(S._customerIDsHashChanged=!0,S._mapCustomerIDs(t))}},S.getCustomerIDs=function(){S._readVisitor();var e,t,i={};for(e in S._currentCustomerIDs)j(e)&&(t=S._currentCustomerIDs[e],i[e]||(i[e]={}),t.id&&(i[e].id=t.id),void 0!=t.authState?i[e].authState=t.authState:i[e].authState=A.AuthState.UNKNOWN);
return i},S.setAnalyticsVisitorID=function(e){S._setAnalyticsFields(e)},S.getAnalyticsVisitorID=function(e,t,i){if(!H.isTrackingServerPopulated()&&!i)return S._callCallback(e,[""]),"";if(S.isAllowed()){var n="";if(i||(n=S.getMarketingCloudVisitorID(function(t){S.getAnalyticsVisitorID(e,!0)})),n||i){var r=i?S.marketingCloudServer:S.trackingServer,a="";S.loadSSL&&(i?S.marketingCloudServerSecure&&(r=S.marketingCloudServerSecure):S.trackingServerSecure&&(r=S.trackingServerSecure));var s={};if(r){var o=
"http"+(S.loadSSL?"s":"")+"://"+r+"/id",l="d_visid_ver\x3d"+S.version+"\x26mcorgid\x3d"+encodeURIComponent(S.marketingCloudOrgID)+(n?"\x26mid\x3d"+encodeURIComponent(n):"")+(S.idSyncDisable3rdPartySyncing||S.disableThirdPartyCookies?"\x26d_coppa\x3dtrue":""),u=["s_c_il",S._in,"_set"+(i?"MarketingCloud":"Analytics")+"Fields"];a=o+"?"+l+"\x26callback\x3ds_c_il%5B"+S._in+"%5D._set"+(i?"MarketingCloud":"Analytics")+"Fields",s.corsUrl=o+"?"+l,s.callback=u}return s.url=a,S._getRemoteField(i?k:R,a,e,t,s)}}return""},
S.getAudienceManagerLocationHint=function(e,t){if(S.isAllowed()){var i=S.getMarketingCloudVisitorID(function(t){S.getAudienceManagerLocationHint(e,!0)});if(i){var n=S._getField(R);if(!n&&H.isTrackingServerPopulated()&&(n=S.getAnalyticsVisitorID(function(t){S.getAudienceManagerLocationHint(e,!0)})),n||!H.isTrackingServerPopulated()){var r=S._getAudienceManagerURLData(),a=r.url;return S._getRemoteField(x,a,e,t,r)}}}return""},S.getLocationHint=S.getAudienceManagerLocationHint,S.getAudienceManagerBlob=
function(e,t){if(S.isAllowed()){var i=S.getMarketingCloudVisitorID(function(t){S.getAudienceManagerBlob(e,!0)});if(i){var n=S._getField(R);if(!n&&H.isTrackingServerPopulated()&&(n=S.getAnalyticsVisitorID(function(t){S.getAudienceManagerBlob(e,!0)})),n||!H.isTrackingServerPopulated()){var r=S._getAudienceManagerURLData(),a=r.url;return S._customerIDsHashChanged&&S._setFieldExpire(V,-1),S._getRemoteField(V,a,e,t,r)}}}return""},S._supplementalDataIDCurrent="",S._supplementalDataIDCurrentConsumed={},
S._supplementalDataIDLast="",S._supplementalDataIDLastConsumed={},S.getSupplementalDataID=function(e,t){S._supplementalDataIDCurrent||t||(S._supplementalDataIDCurrent=S._generateID(1));var i=S._supplementalDataIDCurrent;return S._supplementalDataIDLast&&!S._supplementalDataIDLastConsumed[e]?(i=S._supplementalDataIDLast,S._supplementalDataIDLastConsumed[e]=!0):i&&(S._supplementalDataIDCurrentConsumed[e]&&(S._supplementalDataIDLast=S._supplementalDataIDCurrent,S._supplementalDataIDLastConsumed=S._supplementalDataIDCurrentConsumed,
S._supplementalDataIDCurrent=i=t?"":S._generateID(1),S._supplementalDataIDCurrentConsumed={}),i&&(S._supplementalDataIDCurrentConsumed[e]=!0)),i},S.getOptOut=function(e,t){if(S.isAllowed()){var i=S._getAudienceManagerURLData("_setMarketingCloudFields"),n=i.url;return S._getRemoteField(L,n,e,t,i)}return""},S.isOptedOut=function(e,t,i){if(S.isAllowed()){t||(t=A.OptOut.GLOBAL);var n=S.getOptOut(function(i){var n=i===A.OptOut.GLOBAL||i.indexOf(t)>=0;S._callCallback(e,[n])},i);return n?n===A.OptOut.GLOBAL||
n.indexOf(t)>=0:null}return!1},S._fields=null,S._fieldsExpired=null,S._hash=function(e){var t,i,n=0;if(e)for(t=0;t<e.length;t++)i=e.charCodeAt(t),n=(n<<5)-n+i,n&=n;return n},S._generateID=g,S._generateLocalMID=function(){var e=S._generateID(0);return q.isClientSideMarketingCloudVisitorID=!0,e},S._callbackList=null,S._callCallback=function(e,t){try{"function"==typeof e?e.apply(v,t):e[1].apply(e[0],t)}catch(e){}},S._registerCallback=function(e,t){t&&(null==S._callbackList&&(S._callbackList={}),void 0==
S._callbackList[e]&&(S._callbackList[e]=[]),S._callbackList[e].push(t))},S._callAllCallbacks=function(e,t){if(null!=S._callbackList){var i=S._callbackList[e];if(i)for(;i.length>0;)S._callCallback(i.shift(),t)}},S._addQuerystringParam=function(e,t,i,n){var r=encodeURIComponent(t)+"\x3d"+encodeURIComponent(i),a=H.parseHash(e),s=H.hashlessUrl(e),o=s.indexOf("?")===-1;if(o)return s+"?"+r+a;var l=s.split("?"),u=l[0]+"?",d=l[1],c=H.addQueryParamAtLocation(d,r,n);return u+c+a},S._extractParamFromUri=function(e,
t){var i=new RegExp("[\\?\x26#]"+t+"\x3d([^\x26#]*)"),n=i.exec(e);if(n&&n.length)return decodeURIComponent(n[1])},S._parseAdobeMcFromUrl=r(_.ADOBE_MC),S._parseAdobeMcSdidFromUrl=r(_.ADOBE_MC_SDID),S._attemptToPopulateSdidFromUrl=function(t){var i=S._parseAdobeMcSdidFromUrl(t),n=1E9;i&&i.TS&&(n=H.getTimestampInSeconds()-i.TS),i&&i.SDID&&i[E]===e&&n<S.sdidParamExpiry&&(S._supplementalDataIDCurrent=i.SDID,S._supplementalDataIDCurrentConsumed.SDID_URL_PARAM=!0)},S._attemptToPopulateIdsFromUrl=function(){var t=
S._parseAdobeMcFromUrl();if(t&&t.TS){var i=H.getTimestampInSeconds(),n=i-t.TS,r=Math.floor(n/60);if(r>_.ADOBE_MC_TTL_IN_MIN||t[E]!==e)return;h(t)}},S._mergeServerState=function(e){function t(e){H.isObject(e)&&S.setCustomerIDs(e)}function i(e){return H.isObject(e)?e:JSON.parse(e)}if(e)try{if(e=i(e),e[S.marketingCloudOrgID]){var n=e[S.marketingCloudOrgID];t(n.customerIDs),C(n.sdid)}}catch(e){throw new Error("`serverState` has an invalid format.");}},S._timeout=null,S._loadData=function(e,t,i,n){var r=
"d_fieldgroup";t=S._addQuerystringParam(t,r,e,1),n.url=S._addQuerystringParam(n.url,r,e,1),n.corsUrl=S._addQuerystringParam(n.corsUrl,r,e,1),q.fieldGroupObj[e]=!0,n===Object(n)&&n.corsUrl&&"XMLHttpRequest"===U.corsMetadata.corsType&&U.fireCORS(n,i,e)},S._clearTimeout=function(e){null!=S._timeout&&S._timeout[e]&&(clearTimeout(S._timeout[e]),S._timeout[e]=0)},S._settingsDigest=0,S._getSettingsDigest=function(){if(!S._settingsDigest){var e=S.version;S.audienceManagerServer&&(e+="|"+S.audienceManagerServer),
S.audienceManagerServerSecure&&(e+="|"+S.audienceManagerServerSecure),S._settingsDigest=S._hash(e)}return S._settingsDigest},S._readVisitorDone=!1,S._readVisitor=function(){if(!S._readVisitorDone){S._readVisitorDone=!0;var e,t,i,n,r,a,s=S._getSettingsDigest(),o=!1,l=S.cookieRead(S.cookieName),u=new Date;if(null==S._fields&&(S._fields={}),l&&"T"!==l)for(l=l.split("|"),l[0].match(/^[\-0-9]+$/)&&(parseInt(l[0],10)!==s&&(o=!0),l.shift()),l.length%2===1&&l.pop(),e=0;e<l.length;e+=2)t=l[e].split("-"),i=
t[0],n=l[e+1],t.length>1?(r=parseInt(t[1],10),a=t[1].indexOf("s")>0):(r=0,a=!1),o&&(i===T&&(n=""),r>0&&(r=u.getTime()/1E3-60)),i&&n&&(S._setField(i,n,1),r>0&&(S._fields["expire"+i]=r+(a?"s":""),(u.getTime()>=1E3*r||a&&!S.cookieRead(S.sessionCookieName))&&(S._fieldsExpired||(S._fieldsExpired={}),S._fieldsExpired[i]=!0)));!S._getField(R)&&H.isTrackingServerPopulated()&&(l=S.cookieRead("s_vi"),l&&(l=l.split("|"),l.length>1&&l[0].indexOf("v1")>=0&&(n=l[1],e=n.indexOf("["),e>=0&&(n=n.substring(0,e)),n&&
n.match(_.VALID_VISITOR_ID_REGEX)&&S._setField(R,n))))}},S._appendVersionTo=function(e){var t="vVersion|"+S.version,i=e?S._getCookieVersion(e):null;return i?c.areVersionsDifferent(i,S.version)&&(e=e.replace(_.VERSION_REGEX,t)):e+=(e?"|":"")+t,e},S._writeVisitor=function(){var e,t,i=S._getSettingsDigest();for(e in S._fields)j(e)&&S._fields[e]&&"expire"!==e.substring(0,6)&&(t=S._fields[e],i+=(i?"|":"")+e+(S._fields["expire"+e]?"-"+S._fields["expire"+e]:"")+"|"+t);i=S._appendVersionTo(i),S.cookieWrite(S.cookieName,
i,1)},S._getField=function(e,t){return null==S._fields||!t&&S._fieldsExpired&&S._fieldsExpired[e]?null:S._fields[e]},S._setField=function(e,t,i){null==S._fields&&(S._fields={}),S._fields[e]=t,i||S._writeVisitor()},S._getFieldList=function(e,t){var i=S._getField(e,t);return i?i.split("*"):null},S._setFieldList=function(e,t,i){S._setField(e,t?t.join("*"):"",i)},S._getFieldMap=function(e,t){var i=S._getFieldList(e,t);if(i){var n,r={};for(n=0;n<i.length;n+=2)r[i[n]]=i[n+1];return r}return null},S._setFieldMap=
function(e,t,i){var n,r=null;if(t){r=[];for(n in t)j(n)&&(r.push(n),r.push(t[n]))}S._setFieldList(e,r,i)},S._setFieldExpire=function(e,t,i){var n=new Date;n.setTime(n.getTime()+1E3*t),null==S._fields&&(S._fields={}),S._fields["expire"+e]=Math.floor(n.getTime()/1E3)+(i?"s":""),t<0?(S._fieldsExpired||(S._fieldsExpired={}),S._fieldsExpired[e]=!0):S._fieldsExpired&&(S._fieldsExpired[e]=!1),i&&(S.cookieRead(S.sessionCookieName)||S.cookieWrite(S.sessionCookieName,"1"))},S._findVisitorID=function(e){return e&&
("object"==typeof e&&(e=e.d_mid?e.d_mid:e.visitorID?e.visitorID:e.id?e.id:e.uuid?e.uuid:""+e),e&&(e=e.toUpperCase(),"NOTARGET"===e&&(e=N)),e&&(e===N||e.match(_.VALID_VISITOR_ID_REGEX))||(e="")),e},S._setFields=function(e,t){if(S._clearTimeout(e),null!=S._loading&&(S._loading[e]=!1),q.fieldGroupObj[e]&&q.setState(e,!1),e===b){q.isClientSideMarketingCloudVisitorID!==!0&&(q.isClientSideMarketingCloudVisitorID=!1);var i=S._getField(k);if(!i||S.overwriteCrossDomainMCIDAndAID){if(i="object"==typeof t&&
t.mid?t.mid:S._findVisitorID(t),!i){if(S._use1stPartyMarketingCloudServer&&!S.tried1stPartyMarketingCloudServer)return S.tried1stPartyMarketingCloudServer=!0,void S.getAnalyticsVisitorID(null,!1,!0);i=S._generateLocalMID()}S._setField(k,i)}i&&i!==N||(i=""),"object"==typeof t&&((t.d_region||t.dcs_region||t.d_blob||t.blob)&&S._setFields(F,t),S._use1stPartyMarketingCloudServer&&t.mid&&S._setFields(P,{id:t.id})),S._callAllCallbacks(k,[i])}if(e===F&&"object"==typeof t){var n=604800;void 0!=t.id_sync_ttl&&
t.id_sync_ttl&&(n=parseInt(t.id_sync_ttl,10));var r=B.getRegionAndCheckIfChanged(t,n);S._callAllCallbacks(x,[r]);var a=S._getField(V);(t.d_blob||t.blob)&&(a=t.d_blob,a||(a=t.blob),S._setFieldExpire(V,n),S._setField(V,a)),a||(a=""),S._callAllCallbacks(V,[a]),!t.error_msg&&S._newCustomerIDsHash&&S._setField(T,S._newCustomerIDsHash)}if(e===P){var s=S._getField(R);s&&!S.overwriteCrossDomainMCIDAndAID||(s=S._findVisitorID(t),s?s!==N&&S._setFieldExpire(V,-1):s=N,S._setField(R,s)),s&&s!==N||(s=""),S._callAllCallbacks(R,
[s])}if(S.idSyncDisableSyncs||S.disableIdSyncs)B.idCallNotProcesssed=!0;else{B.idCallNotProcesssed=!1;var o={};o.ibs=t.ibs,o.subdomain=t.subdomain,B.processIDCallData(o)}if(t===Object(t)){var l,u;S.isAllowed()&&(l=S._getField(L)),l||(l=N,t.d_optout&&t.d_optout instanceof Array&&(l=t.d_optout.join(",")),u=parseInt(t.d_ottl,10),isNaN(u)&&(u=7200),S._setFieldExpire(L,u,!0),S._setField(L,l)),S._callAllCallbacks(L,[l])}},S._loading=null,S._getRemoteField=function(e,t,i,n,r){var a,s="",o=H.isFirstPartyAnalyticsVisitorIDCall(e),
l={MCAAMLH:!0,MCAAMB:!0};if(S.isAllowed()){S._readVisitor(),s=S._getField(e,l[e]===!0);var u=function(){return(!s||S._fieldsExpired&&S._fieldsExpired[e])&&(!S.disableThirdPartyCalls||o)};if(u()){if(e===k||e===L?a=b:e===x||e===V?a=F:e===R&&(a=P),a)return!t||null!=S._loading&&S._loading[a]||(null==S._loading&&(S._loading={}),S._loading[a]=!0,S._loadData(a,t,function(t){if(!S._getField(e)){t&&q.setState(a,!0);var i="";e===k?i=S._generateLocalMID():a===F&&(i={error_msg:"timeout"}),S._setFields(a,i)}},
r)),S._registerCallback(e,i),s?s:(t||S._setFields(a,{id:N}),"")}else s||(e===k?(S._registerCallback(e,i),s=S._generateLocalMID(),S.setMarketingCloudVisitorID(s)):e===R?(S._registerCallback(e,i),s="",S.setAnalyticsVisitorID(s)):(s="",n=!0))}return e!==k&&e!==R||s!==N||(s="",n=!0),i&&n&&S._callCallback(i,[s]),s},S._setMarketingCloudFields=function(e){S._readVisitor(),S._setFields(b,e)},S._mapCustomerIDs=function(e){S.getAudienceManagerBlob(e,!0)},S._setAnalyticsFields=function(e){S._readVisitor(),S._setFields(P,
e)},S._setAudienceManagerFields=function(e){S._readVisitor(),S._setFields(F,e)},S._getAudienceManagerURLData=function(e){var t=S.audienceManagerServer,i="",n=S._getField(k),r=S._getField(V,!0),a=S._getField(R),s=a&&a!==N?"\x26d_cid_ic\x3dAVID%01"+encodeURIComponent(a):"";if(S.loadSSL&&S.audienceManagerServerSecure&&(t=S.audienceManagerServerSecure),t){var o,l,u=S.getCustomerIDs();if(u)for(o in u)j(o)&&(l=u[o],s+="\x26d_cid_ic\x3d"+encodeURIComponent(o)+"%01"+encodeURIComponent(l.id?l.id:"")+(l.authState?
"%01"+l.authState:""));e||(e="_setAudienceManagerFields");var d="http"+(S.loadSSL?"s":"")+"://"+t+"/id",c="d_visid_ver\x3d"+S.version+"\x26d_rtbd\x3djson\x26d_ver\x3d2"+(!n&&S._use1stPartyMarketingCloudServer?"\x26d_verify\x3d1":"")+"\x26d_orgid\x3d"+encodeURIComponent(S.marketingCloudOrgID)+"\x26d_nsid\x3d"+(S.idSyncContainerID||0)+(n?"\x26d_mid\x3d"+encodeURIComponent(n):"")+(S.idSyncDisable3rdPartySyncing||S.disableThirdPartyCookies?"\x26d_coppa\x3dtrue":"")+(M===!0?"\x26d_coop_safe\x3d1":M===
!1?"\x26d_coop_unsafe\x3d1":"")+(r?"\x26d_blob\x3d"+encodeURIComponent(r):"")+s,f=["s_c_il",S._in,e];return i=d+"?"+c+"\x26d_cb\x3ds_c_il%5B"+S._in+"%5D."+e,{url:i,corsUrl:d+"?"+c,callback:f}}return{url:i}},S.appendVisitorIDsTo=function(e){try{var t=[[k,S._getField(k)],[R,S._getField(R)],[E,S.marketingCloudOrgID]];return S._addQuerystringParam(e,_.ADOBE_MC,D(t))}catch(t){return e}},S.appendSupplementalDataIDTo=function(e,t){if(t=t||S.getSupplementalDataID(H.generateRandomString(),!0),!t)return e;
try{var i=D([["SDID",t],[E,S.marketingCloudOrgID]]);return S._addQuerystringParam(e,_.ADOBE_MC_SDID,i)}catch(t){return e}};var H={parseHash:function(e){var t=e.indexOf("#");return t>0?e.substr(t):""},hashlessUrl:function(e){var t=e.indexOf("#");return t>0?e.substr(0,t):e},addQueryParamAtLocation:function(e,t,i){var n=e.split("\x26");return i=null!=i?i:n.length,n.splice(i,0,t),n.join("\x26")},isFirstPartyAnalyticsVisitorIDCall:function(e,t,i){if(e!==R)return!1;var n;return t||(t=S.trackingServer),
i||(i=S.trackingServerSecure),n=S.loadSSL?i:t,!("string"!=typeof n||!n.length)&&(n.indexOf("2o7.net")<0&&n.indexOf("omtrdc.net")<0)},isObject:function(e){return Boolean(e&&e===Object(e))},removeCookie:function(e){document.cookie=encodeURIComponent(e)+"\x3d; Path\x3d/; Expires\x3dThu, 01 Jan 1970 00:00:01 GMT;"+(S.cookieDomain?" domain\x3d"+S.cookieDomain+";":"")},isTrackingServerPopulated:function(){return!!S.trackingServer||!!S.trackingServerSecure},getTimestampInSeconds:function(){return Math.round((new Date).getTime()/
1E3)},parsePipeDelimetedKeyValues:function(e){var t=e.split("|");return t.reduce(function(e,t){var i=t.split("\x3d");return e[i[0]]=decodeURIComponent(i[1]),e},{})},generateRandomString:function(e){e=e||5;for(var t="",i="abcdefghijklmnopqrstuvwxyz0123456789";e--;)t+=i[Math.floor(Math.random()*i.length)];return t},parseBoolean:function(e){return"true"===e||"false"!==e&&null},replaceMethodsWithFunction:function(e,t){for(var i in e)e.hasOwnProperty(i)&&"function"==typeof e[i]&&(e[i]=t);return e},pluck:function(e,
t){return t.reduce(function(t,i){return e[i]&&(t[i]=e[i]),t},Object.create(null))}};S._helpers=H;var B=m(S,A);S._destinationPublishing=B,S.timeoutMetricsLog=[];var G,q={isClientSideMarketingCloudVisitorID:null,MCIDCallTimedOut:null,AnalyticsIDCallTimedOut:null,AAMIDCallTimedOut:null,fieldGroupObj:{},setState:function(e,t){switch(e){case b:t===!1?this.MCIDCallTimedOut!==!0&&(this.MCIDCallTimedOut=!1):this.MCIDCallTimedOut=t;break;case P:t===!1?this.AnalyticsIDCallTimedOut!==!0&&(this.AnalyticsIDCallTimedOut=
!1):this.AnalyticsIDCallTimedOut=t;break;case F:t===!1?this.AAMIDCallTimedOut!==!0&&(this.AAMIDCallTimedOut=!1):this.AAMIDCallTimedOut=t}}};S.isClientSideMarketingCloudVisitorID=function(){return q.isClientSideMarketingCloudVisitorID},S.MCIDCallTimedOut=function(){return q.MCIDCallTimedOut},S.AnalyticsIDCallTimedOut=function(){return q.AnalyticsIDCallTimedOut},S.AAMIDCallTimedOut=function(){return q.AAMIDCallTimedOut},S.idSyncGetOnPageSyncInfo=function(){return S._readVisitor(),S._getField(O)},S.idSyncByURL=
function(e){var t=I(e||{});if(t.error)return t.error;var i,n,r=e.url,a=encodeURIComponent,s=B;return r=r.replace(/^https:/,"").replace(/^http:/,""),i=u.encodeAndBuildRequest(["",e.dpid,e.dpuuid||""],","),n=["ibs",a(e.dpid),"img",a(r),t.ttl,"",i],s.addMessage(n.join("|")),s.requestToProcess(),"Successfully queued"},S.idSyncByDataSource=function(e){return e===Object(e)&&"string"==typeof e.dpuuid&&e.dpuuid.length?(e.url="//dpm.demdex.net/ibs:dpid\x3d"+e.dpid+"\x26dpuuid\x3d"+e.dpuuid,S.idSyncByURL(e)):
"Error: config or config.dpuuid is empty"},S._getCookieVersion=function(e){e=e||S.cookieRead(S.cookieName);var t=_.VERSION_REGEX.exec(e),i=t&&t.length>1?t[1]:null;return i},S._resetAmcvCookie=function(e){var t=S._getCookieVersion();t&&!c.isLessThan(t,e)||H.removeCookie(S.cookieName)},S.setAsCoopSafe=function(){M=!0},S.setAsCoopUnsafe=function(){M=!1},S.init=function(){function i(){if(t&&"object"==typeof t){S.configs=Object.create(null);for(var e in t)j(e)&&(S[e]=t[e],S.configs[e]=t[e]);S.idSyncContainerID=
S.idSyncContainerID||0,M="boolean"==typeof S.isCoopSafe?S.isCoopSafe:H.parseBoolean(S.isCoopSafe),S.resetBeforeVersion&&S._resetAmcvCookie(S.resetBeforeVersion),S._attemptToPopulateIdsFromUrl(),S._attemptToPopulateSdidFromUrl(),S._readVisitor();var i=S._getField(w),n=Math.ceil((new Date).getTime()/_.MILLIS_PER_DAY);S.idSyncDisableSyncs||S.disableIdSyncs||!B.canMakeSyncIDCall(i,n)||(S._setFieldExpire(V,-1),S._setField(w,n)),S.getMarketingCloudVisitorID(),S.getAudienceManagerLocationHint(),S.getAudienceManagerBlob(),
S._mergeServerState(S.serverState)}else S._attemptToPopulateIdsFromUrl(),S._attemptToPopulateSdidFromUrl()}function n(){if(!S.idSyncDisableSyncs&&!S.disableIdSyncs){B.checkDPIframeSrc();var e=function(){var e=B;e.readyToAttachIframe()&&e.attachIframe()};v.addEventListener("load",function(){A.windowLoaded=!0,e()});try{f.receiveMessage(function(e){B.receiveMessage(e.data)},B.iframeHost)}catch(e){}}}function r(){S.whitelistIframeDomains&&_.POST_MESSAGE_ENABLED&&(S.whitelistIframeDomains=S.whitelistIframeDomains instanceof
Array?S.whitelistIframeDomains:[S.whitelistIframeDomains],S.whitelistIframeDomains.forEach(function(t){var i=new a(e,t),n=s(S,i);f.receiveMessage(n,t)}))}i(),n(),r()}};h.getInstance=function(e,t){function n(){var t=i.s_c_il;if(t)for(var n=0;n<t.length;n++){var r=t[n];if(r&&"Visitor"===r._c&&r.marketingCloudOrgID===e)return r}}function a(){try{return i.self!==i.parent}catch(e){return!0}}function s(){i.s_c_il.splice(--i.s_c_in,1)}function o(e){var t="TEST_AMCV_COOKIE";return e.cookieWrite(t,"T",1),
"T"===e.cookieRead(t)&&(e._helpers.removeCookie(t),!0)}if(!e)throw new Error("Visitor requires Adobe Marketing Cloud Org ID.");e.indexOf("@")<0&&(e+="@AdobeOrg");var l=n();if(l)return l;var d=e,c=d.split("").reverse().join(""),f=new h(e,null,c);s();var g=u.getIeVersion(),p="number"==typeof g&&g<10;if(p)return f._helpers.replaceMethodsWithFunction(f,function(){});var m=a()&&!o(f)&&i.parent?new r(e,t,f,i.parent):new h(e,t,c);return f=null,m.init(),m},n(),i.Visitor=h,t.exports=h}).call(this,"undefined"!=
typeof window&&"undefined"!=typeof global&&window.global===global?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./child/ChildVisitor":2,"./child/Message":3,"./child/makeChildMessageListener":4,"./units/crossDomain":8,"./units/makeCorsRequest":9,"./units/makeDestinationPublishing":10,"./units/version":11,"./utils/asyncParallelApply":12,"./utils/constants":14,"./utils/enums":15,"./utils/getDomain":16,"./utils/utils":18,"@adobe-mcid/visitor-js-shared/lib/ids/generateRandomID":19}],
2:[function(e,t,i){(function(i){e("../utils/polyfills");var n=e("./strategies/LocalVisitor"),r=e("./strategies/ProxyVisitor"),a=e("./strategies/PlaceholderVisitor"),s=e("../utils/callbackRegistryFactory"),o=e("./Message"),l=e("../utils/enums"),u=l.MESSAGES;t.exports=function(e,t,l,d){function c(e){Object.assign(I,e)}function f(e){Object.assign(I.state,e),I.callbackRegistry.executeAll(I.state)}function g(e){if(!A.isInvalid(e)){v=!1;var t=A.parse(e);I.setStateAndPublish(t.state)}}function p(e){!v&&
S&&(v=!0,A.send(d,e))}function m(){var e=!0;c(new n(l._generateID)),I.getMarketingCloudVisitorID(),I.callbackRegistry.executeAll(I.state,e),i.removeEventListener("message",_)}function _(e){if(!A.isInvalid(e)){var t=A.parse(e);v=!1,i.clearTimeout(this.timeout),i.removeEventListener("message",_),c(new r(I)),i.addEventListener("message",g),I.setStateAndPublish(t.state),I.callbackRegistry.hasCallbacks()&&p(u.GETSTATE)}}function h(){var e=250;S&&postMessage?(i.addEventListener("message",_),p(u.HANDSHAKE),
this.timeout=setTimeout(m,e)):m()}function C(){i.s_c_in||(i.s_c_il=[],i.s_c_in=0),I._c="Visitor",I._il=i.s_c_il,I._in=i.s_c_in,I._il[I._in]=I,i.s_c_in++}function D(){function e(e){0!==e.indexOf("_")&&"function"==typeof l[e]&&(I[e]=function(){})}Object.keys(l).forEach(e),I.getSupplementalDataID=l.getSupplementalDataID}var I=this,S=t.whitelistParentDomain;I.state={},I.version=l.version,I.marketingCloudOrgID=e;var v=!1,A=new o(e,S);I.callbackRegistry=s(),I.init=function(){C(),D(),c(new a(I)),h()},I.findField=
function(e,t){if(I.state[e])return t(I.state[e]),I.state[e]},I.messageParent=p,I.setStateAndPublish=f}}).call(this,"undefined"!=typeof window&&"undefined"!=typeof global&&window.global===global?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../utils/callbackRegistryFactory":13,"../utils/enums":15,"../utils/polyfills":17,"./Message":3,"./strategies/LocalVisitor":5,"./strategies/PlaceholderVisitor":6,"./strategies/ProxyVisitor":7}],3:[function(e,
t,i){var n=e("../utils/enums"),r=n.MESSAGES,a={0:"prefix",1:"orgID",2:"state"};t.exports=function(e,t){this.parse=function(e){try{var t={},i=e.data.split("|");return i.forEach(function(e,i){if(void 0!==e){var n=a[i];t[n]=2!==i?e:JSON.parse(e)}}),t}catch(e){}},this.isInvalid=function(i){var n=this.parse(i);if(!n||Object.keys(n).length<2)return!0;var a=e!==n.orgID,s=!t||i.origin!==t,o=Object.keys(r).indexOf(n.prefix)===-1;return a||s||o},this.send=function(i,n,r){var a=n+"|"+e;r&&r===Object(r)&&(a+=
"|"+JSON.stringify(r));try{i.postMessage(a,t)}catch(e){}}}},{"../utils/enums":15}],4:[function(e,t,i){var n=e("../utils/enums"),r=e("../utils/utils"),a=n.MESSAGES,s=n.ALL_APIS,o=n.ASYNC_API_MAP,l=n.FIELDGROUP_TO_FIELD;t.exports=function(e,t){function i(){var t={};return Object.keys(s).forEach(function(i){var n=s[i],a=e[n]();r.isValueEmpty(a)||(t[i]=a)}),t}function n(){var t=[];return e._loading&&Object.keys(e._loading).forEach(function(i){if(e._loading[i]){var n=l[i];t.push(n)}}),t.length?t:null}
function u(t){return function i(r){var a=n();if(a){var s=o[a[0]];e[s](i,!0)}else t()}}function d(e,n){var r=i();t.send(e,n,r)}function c(e){g(e),d(e,a.HANDSHAKE)}function f(e){var t=u(function(){d(e,a.PARENTSTATE)});t()}function g(i){function n(n){r.call(e,n),t.send(i,a.PARENTSTATE,{CUSTOMERIDS:e.getCustomerIDs()})}var r=e.setCustomerIDs;e.setCustomerIDs=n}return function(e){if(!t.isInvalid(e)){var i=t.parse(e).prefix,n=i===a.HANDSHAKE?c:f;n(e.source)}}}},{"../utils/enums":15,"../utils/utils":18}],
5:[function(e,t,i){var n=e("../../utils/enums"),r=n.STATE_KEYS_MAP;t.exports=function(e){function t(){}function i(t,i){var n=this;return function(){var t=e(0,r.MCMID),a={};return a[r.MCMID]=t,n.setStateAndPublish(a),i(t),t}}this.getMarketingCloudVisitorID=function(e){e=e||t;var n=this.findField(r.MCMID,e),a=i.call(this,r.MCMID,e);return"undefined"!=typeof n?n:a()}}},{"../../utils/enums":15}],6:[function(e,t,i){var n=e("../../utils/enums"),r=n.ASYNC_API_MAP;t.exports=function(){Object.keys(r).forEach(function(e){var t=
r[e];this[t]=function(t){this.callbackRegistry.add(e,t)}},this)}},{"../../utils/enums":15}],7:[function(e,t,i){var n=e("../../utils/enums"),r=n.MESSAGES,a=n.ASYNC_API_MAP,s=n.SYNC_API_MAP;t.exports=function(){function e(){}function t(e,t){var i=this;return function(){return i.callbackRegistry.add(e,t),i.messageParent(r.GETSTATE),""}}function i(i){var n=a[i];this[n]=function(n){n=n||e;var r=this.findField(i,n),a=t.call(this,i,n);return"undefined"!=typeof r?r:a()}}function n(t){var i=s[t];this[i]=function(){var i=
this.findField(t,e);return i||{}}}Object.keys(a).forEach(i,this),Object.keys(s).forEach(n,this)}},{"../../utils/enums":15}],8:[function(e,t,i){(function(e){var i=!!e.postMessage;t.exports={postMessage:function(e,t,n){var r=1;t&&(i?n.postMessage(e,t.replace(/([^:]+:\/\/[^\/]+).*/,"$1")):t&&(n.location=t.replace(/#.*$/,"")+"#"+ +new Date+r++ +"\x26"+e))},receiveMessage:function(t,n){var r;try{i&&(t&&(r=function(e){return!("string"==typeof n&&e.origin!==n||"[object Function]"===Object.prototype.toString.call(n)&&
n(e.origin)===!1)&&void t(e)}),e.addEventListener?e[t?"addEventListener":"removeEventListener"]("message",r):e[t?"attachEvent":"detachEvent"]("onmessage",r))}catch(e){}}}}).call(this,"undefined"!=typeof window&&"undefined"!=typeof global&&window.global===global?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],9:[function(e,t,i){(function(e){t.exports=function(t,i){return{corsMetadata:function(){var t="none",i=!0;return"undefined"!=typeof XMLHttpRequest&&
XMLHttpRequest===Object(XMLHttpRequest)&&("withCredentials"in new XMLHttpRequest?t="XMLHttpRequest":"undefined"!=typeof XDomainRequest&&XDomainRequest===Object(XDomainRequest)&&(i=!1),Object.prototype.toString.call(e.HTMLElement).indexOf("Constructor")>0&&(i=!1)),{corsType:t,corsCookiesEnabled:i}}(),getCORSInstance:function(){return"none"===this.corsMetadata.corsType?null:new e[this.corsMetadata.corsType]},fireCORS:function(i,n,r){function a(t){var n;try{if(n=JSON.parse(t),n!==Object(n))return void s.handleCORSError(i,
null,"Response is not JSON")}catch(e){return void s.handleCORSError(i,e,"Error parsing response as JSON")}try{for(var r=i.callback,a=e,o=0;o<r.length;o++)a=a[r[o]];a(n)}catch(e){s.handleCORSError(i,e,"Error forming callback function")}}var s=this;n&&(i.loadErrorHandler=n);try{var o=this.getCORSInstance();o.open("get",i.corsUrl+"\x26ts\x3d"+(new Date).getTime(),!0),"XMLHttpRequest"===this.corsMetadata.corsType&&(o.withCredentials=!0,o.timeout=t.loadTimeout,o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),
o.onreadystatechange=function(){4===this.readyState&&200===this.status&&a(this.responseText)}),o.onerror=function(e){s.handleCORSError(i,e,"onerror")},o.ontimeout=function(e){s.handleCORSError(i,e,"ontimeout")},o.send(),t._log.requests.push(i.corsUrl)}catch(e){this.handleCORSError(i,e,"try-catch")}},handleCORSError:function(e,i,n){t.CORSErrors.push({corsData:e,error:i,description:n}),e.loadErrorHandler&&("ontimeout"===n?e.loadErrorHandler(!0):e.loadErrorHandler(!1))}}}}).call(this,"undefined"!=typeof window&&
"undefined"!=typeof global&&window.global===global?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],10:[function(e,t,i){(function(i){var n=e("../utils/constants"),r=e("./crossDomain"),a=e("../utils/utils"),s="MCSYNCSOP",o="MCSYNCS",l="MCAAMLH";t.exports=function(e,t){var u=i.document;return{THROTTLE_START:3E4,MAX_SYNCS_LENGTH:649,throttleTimerSet:!1,id:null,onPagePixels:[],iframeHost:null,getIframeHost:function(e){if("string"==typeof e){var t=
e.split("/");return t[0]+"//"+t[2]}},subdomain:null,url:null,getUrl:function(){var t,i="http://fast.",n="?d_nsid\x3d"+e.idSyncContainerID+"#"+encodeURIComponent(u.location.href);return this.subdomain||(this.subdomain="nosubdomainreturned"),e.loadSSL&&(i=e.idSyncSSLUseAkamai?"https://fast.":"https://"),t=i+this.subdomain+".demdex.net/dest5.html"+n,this.iframeHost=this.getIframeHost(t),this.id="destination_publishing_iframe_"+this.subdomain+"_"+e.idSyncContainerID,t},checkDPIframeSrc:function(){var t=
"?d_nsid\x3d"+e.idSyncContainerID+"#"+encodeURIComponent(u.location.href);"string"==typeof e.dpIframeSrc&&e.dpIframeSrc.length&&(this.id="destination_publishing_iframe_"+(e._subdomain||this.subdomain||(new Date).getTime())+"_"+e.idSyncContainerID,this.iframeHost=this.getIframeHost(e.dpIframeSrc),this.url=e.dpIframeSrc+t)},idCallNotProcesssed:null,doAttachIframe:!1,startedAttachingIframe:!1,iframeHasLoaded:null,iframeIdChanged:null,newIframeCreated:null,originalIframeHasLoadedAlready:null,regionChanged:!1,
timesRegionChanged:0,sendingMessages:!1,messages:[],messagesPosted:[],messagesReceived:[],messageSendingInterval:n.POST_MESSAGE_ENABLED?null:100,jsonForComparison:[],jsonDuplicates:[],jsonWaiting:[],jsonProcessed:[],canSetThirdPartyCookies:!0,receivedThirdPartyCookiesNotification:!1,readyToAttachIframe:function(){return!e.idSyncDisable3rdPartySyncing&&(this.doAttachIframe||e._doAttachIframe)&&(this.subdomain&&"nosubdomainreturned"!==this.subdomain||e._subdomain)&&this.url&&!this.startedAttachingIframe},
attachIframe:function(){function e(){n=u.createElement("iframe"),n.sandbox="allow-scripts allow-same-origin",n.title="Adobe ID Syncing iFrame",n.id=i.id,n.name=i.id+"_name",n.style.cssText="display: none; width: 0; height: 0;",n.src=i.url,i.newIframeCreated=!0,t(),u.body.appendChild(n)}function t(){n.addEventListener("load",function(){n.className="aamIframeLoaded",i.iframeHasLoaded=!0,i.requestToProcess()})}this.startedAttachingIframe=!0;var i=this,n=u.getElementById(this.id);n?"IFRAME"!==n.nodeName?
(this.id+="_2",this.iframeIdChanged=!0,e()):(this.newIframeCreated=!1,"aamIframeLoaded"!==n.className?(this.originalIframeHasLoadedAlready=!1,t()):(this.originalIframeHasLoadedAlready=!0,this.iframeHasLoaded=!0,this.iframe=n,this.requestToProcess())):e(),this.iframe=n},requestToProcess:function(t){function i(){a.jsonForComparison.push(t),a.jsonWaiting.push(t),a.processSyncOnPage(t)}var r,a=this;if(t===Object(t)&&t.ibs)if(r=JSON.stringify(t.ibs||[]),this.jsonForComparison.length){var s,o,l,u=!1;for(s=
0,o=this.jsonForComparison.length;s<o;s++)if(l=this.jsonForComparison[s],r===JSON.stringify(l.ibs||[])){u=!0;break}u?this.jsonDuplicates.push(t):i()}else i();if((this.receivedThirdPartyCookiesNotification||!n.POST_MESSAGE_ENABLED||this.iframeHasLoaded)&&this.jsonWaiting.length){var d=this.jsonWaiting.shift();this.process(d),this.requestToProcess()}!e.idSyncDisableSyncs&&this.iframeHasLoaded&&this.messages.length&&!this.sendingMessages&&(this.throttleTimerSet||(this.throttleTimerSet=!0,setTimeout(function(){a.messageSendingInterval=
n.POST_MESSAGE_ENABLED?null:150},this.THROTTLE_START)),this.sendingMessages=!0,this.sendMessages())},getRegionAndCheckIfChanged:function(t,i){var n=e._getField(l),r=t.d_region||t.dcs_region;return n?r&&(e._setFieldExpire(l,i),e._setField(l,r),parseInt(n,10)!==r&&(this.regionChanged=!0,this.timesRegionChanged++,e._setField(s,""),e._setField(o,""),n=r)):(n=r,n&&(e._setFieldExpire(l,i),e._setField(l,n))),n||(n=""),n},processSyncOnPage:function(e){var t,i,n,r;if((t=e.ibs)&&t instanceof Array&&(i=t.length))for(n=
0;n<i;n++)r=t[n],r.syncOnPage&&this.checkFirstPartyCookie(r,"","syncOnPage")},process:function(e){var t,i,n,r,s,o=encodeURIComponent,l="",u=!1;if((t=e.ibs)&&t instanceof Array&&(i=t.length))for(u=!0,n=0;n<i;n++)r=t[n],s=[o("ibs"),o(r.id||""),o(r.tag||""),a.encodeAndBuildRequest(r.url||[],","),o(r.ttl||""),"",l,r.fireURLSync?"true":"false"],r.syncOnPage||(this.canSetThirdPartyCookies?this.addMessage(s.join("|")):r.fireURLSync&&this.checkFirstPartyCookie(r,s.join("|")));u&&this.jsonProcessed.push(e)},
checkFirstPartyCookie:function(t,i,r){var a="syncOnPage"===r,l=a?s:o;e._readVisitor();var u,d,c=e._getField(l),f=!1,g=!1,p=Math.ceil((new Date).getTime()/n.MILLIS_PER_DAY);c?(u=c.split("*"),d=this.pruneSyncData(u,t.id,p),f=d.dataPresent,g=d.dataValid,f&&g||this.fireSync(a,t,i,u,l,p)):(u=[],this.fireSync(a,t,i,u,l,p))},pruneSyncData:function(e,t,i){var n,r,a,s=!1,o=!1;for(r=0;r<e.length;r++)n=e[r],a=parseInt(n.split("-")[1],10),n.match("^"+t+"-")?(s=!0,i<a?o=!0:(e.splice(r,1),r--)):i>=a&&(e.splice(r,
1),r--);return{dataPresent:s,dataValid:o}},manageSyncsSize:function(e){if(e.join("*").length>this.MAX_SYNCS_LENGTH)for(e.sort(function(e,t){return parseInt(e.split("-")[1],10)-parseInt(t.split("-")[1],10)});e.join("*").length>this.MAX_SYNCS_LENGTH;)e.shift()},fireSync:function(t,i,n,r,a,s){var o=this;if(t){if("img"===i.tag){var l,u,d,c,f=i.url,g=e.loadSSL?"https:":"http:";for(l=0,u=f.length;l<u;l++){d=f[l],c=/^\/\//.test(d);var p=new Image;p.addEventListener("load",function(t,i,n,r){return function(){o.onPagePixels[t]=
null,e._readVisitor();var s,l=e._getField(a),u=[];if(l){s=l.split("*");var d,c,f;for(d=0,c=s.length;d<c;d++)f=s[d],f.match("^"+i.id+"-")||u.push(f)}o.setSyncTrackingData(u,i,n,r)}}(this.onPagePixels.length,i,a,s)),p.src=(c?g:"")+d,this.onPagePixels.push(p)}}}else this.addMessage(n),this.setSyncTrackingData(r,i,a,s)},addMessage:function(t){var i=encodeURIComponent,r=i(e._enableErrorReporting?"---destpub-debug---":"---destpub---");this.messages.push((n.POST_MESSAGE_ENABLED?"":r)+t)},setSyncTrackingData:function(t,
i,n,r){t.push(i.id+"-"+(r+Math.ceil(i.ttl/60/24))),this.manageSyncsSize(t),e._setField(n,t.join("*"))},sendMessages:function(){var e,t=this,i="",r=encodeURIComponent;this.regionChanged&&(i=r("---destpub-clear-dextp---"),this.regionChanged=!1),this.messages.length?n.POST_MESSAGE_ENABLED?(e=i+r("---destpub-combined---")+this.messages.join("%01"),this.postMessage(e),this.messages=[],this.sendingMessages=!1):(e=this.messages.shift(),this.postMessage(i+e),setTimeout(function(){t.sendMessages()},this.messageSendingInterval)):
this.sendingMessages=!1},postMessage:function(e){r.postMessage(e,this.url,this.iframe.contentWindow),this.messagesPosted.push(e)},receiveMessage:function(e){var t,i=/^---destpub-to-parent---/;"string"==typeof e&&i.test(e)&&(t=e.replace(i,"").split("|"),"canSetThirdPartyCookies"===t[0]&&(this.canSetThirdPartyCookies="true"===t[1],this.receivedThirdPartyCookiesNotification=!0,this.requestToProcess()),this.messagesReceived.push(e))},processIDCallData:function(i){(null==this.url||i.subdomain&&"nosubdomainreturned"===
this.subdomain)&&("string"==typeof e._subdomain&&e._subdomain.length?this.subdomain=e._subdomain:this.subdomain=i.subdomain||"",this.url=this.getUrl()),i.ibs instanceof Array&&i.ibs.length&&(this.doAttachIframe=!0),this.readyToAttachIframe()&&(e.idSyncAttachIframeOnWindowLoad?(t.windowLoaded||"complete"===u.readyState||"loaded"===u.readyState)&&this.attachIframe():this.attachIframeASAP()),"function"==typeof e.idSyncIDCallResult?e.idSyncIDCallResult(i):this.requestToProcess(i),"function"==typeof e.idSyncAfterIDCallResult&&
e.idSyncAfterIDCallResult(i)},canMakeSyncIDCall:function(t,i){return e._forceSyncIDCall||!t||i-t>n.DAYS_BETWEEN_SYNC_ID_CALLS},attachIframeASAP:function(){function e(){t.startedAttachingIframe||(u.body?t.attachIframe():setTimeout(e,30))}var t=this;e()}}}}).call(this,"undefined"!=typeof window&&"undefined"!=typeof global&&window.global===global?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../utils/constants":14,"../utils/utils":18,
"./crossDomain":8}],11:[function(e,t,i){function n(e){for(var t=/^\d+$/,i=0,n=e.length;i<n;i++)if(!t.test(e[i]))return!1;return!0}function r(e,t){for(;e.length<t.length;)e.push("0");for(;t.length<e.length;)t.push("0")}function a(e,t){for(var i=0;i<e.length;i++){var n=parseInt(e[i],10),r=parseInt(t[i],10);if(n>r)return 1;if(r>n)return-1}return 0}function s(e,t){if(e===t)return 0;var i=e.toString().split("."),s=t.toString().split(".");return n(i.concat(s))?(r(i,s),a(i,s)):NaN}t.exports={compare:s,isLessThan:function(e,
t){return s(e,t)<0},areVersionsDifferent:function(e,t){return 0!==s(e,t)},isGreaterThan:function(e,t){return s(e,t)>0},isEqual:function(e,t){return 0===s(e,t)}}},{}],12:[function(e,t,i){t.exports=function(e,t){function i(e){return function(i){n[e]=i,r++;var s=r===a;s&&t(n)}}var n={},r=0,a=Object.keys(e).length;Object.keys(e).forEach(function(t){var n=e[t];if(n.fn){var r=n.args||[];r.unshift(i(t)),n.fn.apply(n.context||null,r)}})}},{}],13:[function(e,t,i){function n(){return{callbacks:{},add:function(e,
t){this.callbacks[e]=this.callbacks[e]||[];var i=this.callbacks[e].push(t)-1;return function(){this.callbacks[e].splice(i,1)}},execute:function(e,t){if(this.callbacks[e]){t="undefined"==typeof t?[]:t,t=t instanceof Array?t:[t];try{for(;this.callbacks[e].length;){var i=this.callbacks[e].shift();"function"==typeof i?i.apply(null,t):i instanceof Array&&i[1].apply(i[0],t)}delete this.callbacks[e]}catch(e){}}},executeAll:function(e,t){(t||e&&!r.isObjectEmpty(e))&&Object.keys(this.callbacks).forEach(function(t){var i=
void 0!==e[t]?e[t]:"";this.execute(t,i)},this)},hasCallbacks:function(){return Boolean(Object.keys(this.callbacks).length)}}}var r=e("./utils");t.exports=n},{"./utils":18}],14:[function(e,t,i){(function(e){t.exports={POST_MESSAGE_ENABLED:!!e.postMessage,DAYS_BETWEEN_SYNC_ID_CALLS:1,MILLIS_PER_DAY:864E5,ADOBE_MC:"adobe_mc",ADOBE_MC_SDID:"adobe_mc_sdid",VALID_VISITOR_ID_REGEX:/^[0-9a-fA-F\-]+$/,ADOBE_MC_TTL_IN_MIN:5,VERSION_REGEX:/vVersion\|((\d+\.)?(\d+\.)?(\*|\d+))(?=$|\|)/}}).call(this,"undefined"!=
typeof window&&"undefined"!=typeof global&&window.global===global?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],15:[function(e,t,i){i.MESSAGES={HANDSHAKE:"HANDSHAKE",GETSTATE:"GETSTATE",PARENTSTATE:"PARENTSTATE"},i.STATE_KEYS_MAP={MCMID:"MCMID",MCAID:"MCAID",MCAAMB:"MCAAMB",MCAAMLH:"MCAAMLH",MCOPTOUT:"MCOPTOUT",CUSTOMERIDS:"CUSTOMERIDS"},i.ASYNC_API_MAP={MCMID:"getMarketingCloudVisitorID",MCAID:"getAnalyticsVisitorID",MCAAMB:"getAudienceManagerBlob",
MCAAMLH:"getAudienceManagerLocationHint",MCOPTOUT:"getOptOut"},i.SYNC_API_MAP={CUSTOMERIDS:"getCustomerIDs"},i.ALL_APIS={MCMID:"getMarketingCloudVisitorID",MCAAMB:"getAudienceManagerBlob",MCAAMLH:"getAudienceManagerLocationHint",MCOPTOUT:"getOptOut",MCAID:"getAnalyticsVisitorID",CUSTOMERIDS:"getCustomerIDs"},i.FIELDGROUP_TO_FIELD={MC:"MCMID",A:"MCAID",AAM:"MCAAMB"},i.FIELDS={MCMID:"MCMID",MCOPTOUT:"MCOPTOUT",MCAID:"MCAID",MCAAMLH:"MCAAMLH",MCAAMB:"MCAAMB"},i.AUTH_STATE={UNKNOWN:0,AUTHENTICATED:1,
LOGGED_OUT:2},i.OPT_OUT={GLOBAL:"global"}},{}],16:[function(e,t,i){(function(e){t.exports=function(t){var i;if(!t&&e.location&&(t=e.location.hostname),i=t)if(/^[0-9.]+$/.test(i))i="";else{var n=",ac,ad,ae,af,ag,ai,al,am,an,ao,aq,ar,as,at,au,aw,ax,az,ba,bb,be,bf,bg,bh,bi,bj,bm,bo,br,bs,bt,bv,bw,by,bz,ca,cc,cd,cf,cg,ch,ci,cl,cm,cn,co,cr,cu,cv,cw,cx,cz,de,dj,dk,dm,do,dz,ec,ee,eg,es,et,eu,fi,fm,fo,fr,ga,gb,gd,ge,gf,gg,gh,gi,gl,gm,gn,gp,gq,gr,gs,gt,gw,gy,hk,hm,hn,hr,ht,hu,id,ie,im,in,io,iq,ir,is,it,je,jo,jp,kg,ki,km,kn,kp,kr,ky,kz,la,lb,lc,li,lk,lr,ls,lt,lu,lv,ly,ma,mc,md,me,mg,mh,mk,ml,mn,mo,mp,mq,mr,ms,mt,mu,mv,mw,mx,my,na,nc,ne,nf,ng,nl,no,nr,nu,nz,om,pa,pe,pf,ph,pk,pl,pm,pn,pr,ps,pt,pw,py,qa,re,ro,rs,ru,rw,sa,sb,sc,sd,se,sg,sh,si,sj,sk,sl,sm,sn,so,sr,st,su,sv,sx,sy,sz,tc,td,tf,tg,th,tj,tk,tl,tm,tn,to,tp,tr,tt,tv,tw,tz,ua,ug,uk,us,uy,uz,va,vc,ve,vg,vi,vn,vu,wf,ws,yt,",
r=i.split("."),a=r.length-1,s=a-1;if(a>1&&r[a].length<=2&&(2===r[a-1].length||n.indexOf(","+r[a]+",")<0)&&s--,s>0)for(i="";a>=s;)i=r[a]+(i?".":"")+i,a--}return i}}).call(this,"undefined"!=typeof window&&"undefined"!=typeof global&&window.global===global?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],17:[function(e,t,i){Object.assign=Object.assign||function(e){for(var t,i,n=1;n<arguments.length;++n){i=arguments[n];for(t in i)Object.prototype.hasOwnProperty.call(i,
t)&&(e[t]=i[t])}return e}},{}],18:[function(e,t,i){i.isObjectEmpty=function(e){return e===Object(e)&&0===Object.keys(e).length},i.isValueEmpty=function(e){return""===e||i.isObjectEmpty(e)},i.getIeVersion=function(){if(document.documentMode)return document.documentMode;for(var e=7;e>4;e--){var t=document.createElement("div");if(t.innerHTML="\x3c!--[if IE "+e+"]\x3e\x3cspan\x3e\x3c/span\x3e\x3c![endif]--\x3e",t.getElementsByTagName("span").length)return t=null,e;t=null}return null},i.encodeAndBuildRequest=
function(e,t){return e.map(encodeURIComponent).join(t)}},{}],19:[function(e,t,i){t.exports=function(e){var t,i,n="0123456789",r="",a="",s=8,o=10,l=10;if(1==e){for(n+="ABCDEF",t=0;16>t;t++)i=Math.floor(Math.random()*s),r+=n.substring(i,i+1),i=Math.floor(Math.random()*s),a+=n.substring(i,i+1),s=16;return r+"-"+a}for(t=0;19>t;t++)i=Math.floor(Math.random()*o),r+=n.substring(i,i+1),0===t&&9==i?o=3:(1==t||2==t)&&10!=o&&2>i?o=10:2<t&&(o=10),i=Math.floor(Math.random()*l),a+=n.substring(i,i+1),0===t&&9==
i?l=3:(1==t||2==t)&&10!=l&&2>i?l=10:2<t&&(l=10);return r+a}},{}]},{},[1]);window.adobe_visitor=Visitor.getInstance("61834D9B5228A7430A490D45@AdobeOrg",{trackingServer:"metrics.citi.com",trackingServerSecure:"metrics1.citi.com",marketingCloudServer:"metrics.citi.com",marketingCloudServerSecure:"metrics1.citi.com"})},3039001,578278);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.propertyWatcher=function(options){var _private={watchers:[]},_public={};_private.options=options||{};_private.options.interval=_private.options.interval||50;_private.Watcher=function(propertyFn,options){var _public={};_public.propertyFn=propertyFn;_public.lastValue=undefined;_public.options=options;_public.change=function(oldVal,newVal){};return _public};_private.doChecks=
function(){for(var i=0;i<_private.watchers.length;i++){var w=_private.watchers[i],p=w.propertyFn?w.propertyFn():null;if(w.lastValue!=p){w.change(w.lastValue,p);w.lastValue=p}}_private.resetTimer()};_private.resetTimer=function(){window.setTimeout(function(){_private.doChecks()},_private.options.interval)};_private.addWatcher=function(fn,options){var w=_private.Watcher(fn,options);_private.watchers.push(w);return w};_public={create:_private.addWatcher};_private.doChecks();return _public}()},1482837,
373773);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;function uuidv4(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(c){var r=Math.random()*16|0,v=c=="x"?r:r&3|8;return v.toString(16)})}function setGUID(){var _dl=window._dl||{};_dl.guid=uuidv4();var citiData=window.citiData||{};citiData.guid=_dl.guid}var citiData=window.citiData||{};var dl=window._dl||{};var ispageangular=false;if(citiData.pageDef)if(citiData.pageDef.indexOf("angular")>-1)ispageangular=
true;if(citiData.pageName=="Homepage"||_dl.spa_page=="true"||_dl.spa_page==true)ispageangular=true;if(ispageangular)Bootstrapper.ensEvent.add("naAnalyticsPageView",setGUID);else setGUID()},3092996,622672);Bootstrapper.getServerComponent(Bootstrapper.getExtraParams ? Bootstrapper.getExtraParams() : undefined);}})();