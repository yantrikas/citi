!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).xmui={})}(this,(function(e){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function o(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?u(e):t}function _(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=r(e)););return e}function h(e,t,n){return(h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=_(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function d(e,t,n,i){return(d="undefined"!=typeof Reflect&&Reflect.set?Reflect.set:function(e,t,n,i){var o,s=_(e,t);if(s){if((o=Object.getOwnPropertyDescriptor(s,t)).set)return o.set.call(i,n),!0;if(!o.writable)return!1}if(o=Object.getOwnPropertyDescriptor(i,t)){if(!o.writable)return!1;o.value=n,Object.defineProperty(i,t,o)}else a(i,t,n);return!0})(e,t,n,i)}function p(e,t,n,i,o){if(!d(e,t,n,i||e)&&o)throw new Error("failed to set property");return n}function m(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var g,f,v,y=/^\s*<[\S\s]*$/,C=function(){function e(){n(this,e),this._elements=new Array}return o(e,[{key:"append",value:function(e){var t=k(e);return this._elements.forEach((function(e,n){t.forEach((function(t){var i=0!==n?t.cloneNode():t;e.appendChild(i)}))})),this}},{key:"remove",value:function(){this._elements.forEach((function(e){e.parentNode.removeChild(e)}))}},{key:"prepend",value:function(e){var t=k(e);return this._elements.forEach((function(e,n){var i=e.firstChild;t.forEach((function(t){var o=0!==n?t.cloneNode():t;e.insertBefore(o,i)}))})),this}},{key:"content",value:function(e){return this.empty().append(e)}},{key:"disable",value:function(){return this.disabled(!0)}},{key:"enable",value:function(){return this.disabled(!1)}},{key:"attr",value:function(e){return this._elements.forEach((function(t){!function(e,t){Object.keys(t).forEach((function(n){t.hasOwnProperty(n)&&e.setAttribute(n,t[n])}))}(t,e)})),this}},{key:"focus",value:function(){return this._elements.forEach((function(e){e.focus()})),this}},{key:"addClass",value:function(e){return this._elements.forEach((function(t){!function(e,t){S(e,t)||(e.className+=" "+t,e.className=e.className.replace(/  +/g," "))}(t,e)})),this}},{key:"removeClass",value:function(e){return this._elements.forEach((function(t){!function(e,t){if(S(e,t)){var n=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(n," ").replace(/  +/g," ")}}(t,e)})),this}},{key:"setClass",value:function(e){return this._elements.forEach((function(t){t.className=e})),this}},{key:"find",value:function(t){var n=new e;return this._elements.forEach((function(e){w(e,t).forEach((function(e){n.push(e)}))})),n}},{key:"hide",value:function(){return this._elements.forEach((function(e){e.style.display="none"})),this}},{key:"show",value:function(){return this._elements.forEach((function(e){e.style.display=""})),this}},{key:"empty",value:function(){return this._elements.forEach((function(e){e.innerHTML=""})),this}},{key:"text",value:function(e){return this._elements.forEach((function(t){t.textContent=e})),this}},{key:"on",value:function(e,t){var n=this;return e.trim().split(" ").forEach((function(e){n._elements.forEach((function(n){n.addEventListener(e,t)}))})),this}},{key:"hover",value:function(e,t){return this._elements.forEach((function(n){n.addEventListener("mouseover",e),n.addEventListener("mouseout",t)})),this}},{key:"first",value:function(){var t=new e;return this._elements.length?t.push(this._elements[0]):t}},{key:"get",value:function(e){return this._elements[e]}},{key:"disabled",value:function(e){return this._elements.forEach((function(t){t.disabled!=e&&(t.disabled=e)})),this}},{key:"blockInteraction",value:function(){var e=this;return this._elements.forEach((function(t){t.style.pointerEvents="none",t.addEventListener("keydown",e.keydownBlockEventHandler)})),this}},{key:"unblockInteraction",value:function(){var e=this;return this._elements.forEach((function(t){t.style.pointerEvents="auto",t.removeEventListener("keydown",e.keydownBlockEventHandler)})),this}},{key:"push",value:function(){var e;return(e=this._elements).push.apply(e,arguments),this}},{key:"keydownBlockEventHandler",value:function(e){e.preventDefault()}},{key:"length",get:function(){return this._elements.length}},{key:"elements",get:function(){return m(this._elements)}}],[{key:"createTSQueryElement",value:function(t){var n=k(t),i=new e;return i.push.apply(i,m(n)),i}}]),e}();function k(e){var t,n;return e instanceof C?e.elements:e instanceof Array?e:e instanceof HTMLElement?[e]:y.test(e)?(t=e,(n=document.createElement("div")).innerHTML=t,b(n.childNodes)):w(document,e)}function b(e){var t=[];return[].forEach.call(e,(function(e){e instanceof HTMLElement&&t.push(e)})),t}function w(e,t){return b(e.querySelectorAll(t))}function S(e,t){return!!e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))}function x(e){return C.createTSQueryElement(e)}!function(e){e.Mousedown="mousedown",e.Mouseup="mouseup",e.Mouseenter="mouseenter",e.Mouseleave="mouseleave",e.Click="click"}(g||(g={})),function(e){e.Keydown="keydown",e.Keypress="keypress"}(f||(f={})),function(e){e.Selected="xmui--selected",e.Disabled="xmui--disabled",e.Active="xmui--active",e.Error="xmui--error"}(v||(v={}));var I,E=function(){function e(){n(this,e),this._active=!1,this._selected=!1,this._disabled=!1,this._error=!1,this._key="",this.element=this.buildElement()}return o(e,[{key:"appendInto",value:function(e){e.append(this.element)}},{key:"prependInto",value:function(e){e.prepend(this.element)}},{key:"remove",value:function(){this.element.remove()}},{key:"onClick",value:function(e){this.onMouseEvent(g.Click,e)}},{key:"onMousedown",value:function(e){this.onMouseEvent(g.Mousedown,e)}},{key:"onMouseup",value:function(e){this.onMouseEvent(g.Mouseup,e)}},{key:"onMouseenter",value:function(e){this.onMouseEvent(g.Mouseenter,e)}},{key:"onMouseleave",value:function(e){this.onMouseEvent(g.Mouseleave,e)}},{key:"onMouseEvent",value:function(e,t){var n=this;this.element.on(e,(function(e){t(n,e)}))}},{key:"onKeydown",value:function(e){this.onKeyboardEvent(f.Keydown,e)}},{key:"onKeypress",value:function(e){this.onKeyboardEvent(f.Keypress,e)}},{key:"onKeyboardEvent",value:function(e,t){var n=this;this.element.on(e,(function(e){t(n,e)}))}},{key:"onPaste",value:function(e){this.element.on("paste",e)}},{key:"onCut",value:function(e){this.element.on("cut",e)}},{key:"onBlur",value:function(e){this.element.on("blur",e)}},{key:"onFocus",value:function(e){this.element.on("focus",e)}},{key:"onFocusIn",value:function(e){this.element.on("focusin",e)}},{key:"onFocusOut",value:function(e){this.element.on("focusout",e)}},{key:"onHover",value:function(e,t){this.element.hover(e,t)}},{key:"addClass",value:function(e){this.element.addClass(e)}},{key:"removeClass",value:function(e){this.element.removeClass(e)}},{key:"focus",value:function(){var e=this;setTimeout((function(){e.element.focus()}))}},{key:"scrollIntoView",value:function(){var e=this;setTimeout((function(){e.htmlElement.scrollIntoView()}))}},{key:"show",set:function(e){e?this.element.show():this.element.hide()}},{key:"id",set:function(e){this.htmlElement.id=e},get:function(){return this.htmlElement.id}},{key:"value",set:function(e){this._value=e},get:function(){return this._value}},{key:"className",set:function(e){this.element.setClass(e)}},{key:"ariaRole",set:function(e){this.attr={"aria-role":e}}},{key:"role",set:function(e){this.attr={role:e}}},{key:"ariaLabel",set:function(e){this.attr={"aria-label":e}}},{key:"ariaLabeledBy",set:function(e){this.attr={"aria-labelledby":e}}},{key:"ariaDescribedBy",set:function(e){this.attr={"aria-describedby":e}}},{key:"ariaMultiselectable",set:function(e){this.attr={"aria-multiselectable":e.toString()}}},{key:"ariaActiveDescendant",set:function(e){this.attr={"aria-activedescendant":e}}},{key:"ariaLive",set:function(e){this.attr={"aria-live":e}}},{key:"ariaSelected",set:function(e){this.attr={"aria-selected":e.toString()}}},{key:"ariaDisabled",set:function(e){this.attr={"aria-disabled":e.toString()}}},{key:"automationId",set:function(e){this.attr={"tsc-name":e}}},{key:"tabindex",set:function(e){this.attr={tabindex:e.toString()}}},{key:"spellcheck",set:function(e){this.attr={spellcheck:e?"true":"false"}}},{key:"attr",set:function(e){this.element.attr(e)}},{key:"htmlElement",get:function(){return this.element.get(0)}},{key:"active",set:function(e){e!==this._active&&e?this.addClass(v.Active):this.removeClass(v.Active),this._active=e},get:function(){return this._active}},{key:"selected",set:function(e){e!==this._selected&&e?this.addClass(v.Selected):this.removeClass(v.Selected),this._selected=e,this.ariaSelected=e},get:function(){return this._selected}},{key:"disabled",set:function(e){e!==this._disabled&&e?this.addClass(v.Disabled):this.removeClass(v.Disabled),this._disabled=e,this.ariaDisabled=e},get:function(){return this._disabled}},{key:"key",get:function(){return this._key},set:function(e){this._key=e}},{key:"error",set:function(e){this._error=e,e?this.addClass(v.Error):this.removeClass(v.Error)},get:function(){return this._error}}]),e}(),A=function(e){function t(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return n(this,t),(e=l(this,r(t).call(this))).setText(i),e}return s(t,e),o(t,[{key:"buildElement",value:function(){return x("<span></span>")}},{key:"setText",value:function(e){this.element.text(null==e?"":e)}}]),t}(E),P=function(e){function t(){var e;return n(this,t),(e=l(this,r(t).apply(this,arguments))).children=[],e}return s(t,e),o(t,[{key:"prependChild",value:function(e){e.prependInto(this.element),this.children.push(e)}},{key:"prependChildren",value:function(){for(var e=this,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];n.forEach((function(t){e.prependChild(t)}))}},{key:"appendChild",value:function(e){e.appendInto(this.element),this.children.push(e)}},{key:"appendChildren",value:function(){for(var e=this,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];n.forEach((function(t){e.appendChild(t)}))}},{key:"removeChild",value:function(e){this.children=this.children.filter((function(t){return t!==e})),e.remove()}},{key:"setContent",value:function(e){this.empty(),this.appendChild(e)}},{key:"empty",value:function(){this.element.empty(),this.children=[]}},{key:"getNextChild",value:function(e){var t=this.getChildren().length,n=(this.getChildIndex(e)+1)%t;return this.getChildByIndex(n)}},{key:"getPrevChild",value:function(e){var t=this.getChildren().length,n=(this.getChildIndex(e)+t-1)%t;return this.getChildByIndex(n)}},{key:"getChildByIndex",value:function(e){return this.children[e]}},{key:"getChildren",value:function(){return this.children}},{key:"getChildIndex",value:function(e){return this.children.indexOf(e)}}]),t}(E),T=function(e){function t(){return n(this,t),l(this,r(t).apply(this,arguments))}return s(t,e),o(t,[{key:"buildElement",value:function(){return x("<div></div>")}}]),t}(P),R="xmui-info-panel",M="xmui-info-panel-title",B="xmui-info-panel-instructions",N=function(e){function t(){var e;n(this,t),(e=l(this,r(t).call(this))).className=R,e.titleComponent=new A,e.titleComponent.className="".concat(R,"_title"),e.titleComponent.automationId=M,e.instructionsComponent=new A,e.instructionsComponent.className="".concat(R,"_instructions"),e.instructionsComponent.automationId=B,e.instructionsComponent.show=!1;var i=new T;return i.className="".concat(R,"_container"),i.appendChildren(e.titleComponent,e.instructionsComponent),e.appendChild(i),e}return s(t,e),o(t,[{key:"setTitle",value:function(e){this.titleComponent.setText(e)}},{key:"setInstructions",value:function(e){var t=e?e.trim():"";this.instructionsComponent.setText(t),this.instructionsComponent.show=!!t}}]),t}(T),D="xmui-header-panel",q=function(e){function t(){var e,i=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return n(this,t),(e=l(this,r(t).call(this))).className=D,e.addClass("".concat(D,i?"--short":"--normal")),e.iconComp=new T,e.iconComp.className="".concat(D,"_icon"),e.iconComp.show=!1,e.textComp=new A,e.textComp.className="".concat(D,"_text"),e.appendChildren(e.iconComp,e.textComp),e}return s(t,e),o(t,[{key:"setText",value:function(e){this.textComp.setText(e)}},{key:"setIcon",value:function(e){this.iconComp.className="".concat(D,"_icon ").concat(e),this.iconComp.show=!0}}]),t}(T),F="xmui-action-panel",L=function(e){function t(){var e,i=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return n(this,t),(e=l(this,r(t).call(this))).className=F,e.addClass("".concat(F,i?"--short":"--normal")),e.leftButtonsContainer=new T,e.leftButtonsContainer.className="".concat(F,"_left"),e.rightButtonsContainer=new T,e.rightButtonsContainer.className="".concat(F,"_right"),e.appendChildren(e.leftButtonsContainer,e.rightButtonsContainer),e}return s(t,e),o(t,[{key:"addLeftButton",value:function(e){this.leftButtonsContainer.appendChild(e)}},{key:"addRightButton",value:function(e){this.rightButtonsContainer.appendChildren(e)}}]),t}(T),O="xmui-busy-indicator",j=function(e){function t(){var e;n(this,t),(e=l(this,r(t).call(this))).className=O;var i=new T;return i.className="".concat(O,"_animation"),e.appendChild(i),e}return s(t,e),t}(T);!function(e){e.User="xmui-icon-user",e.Remove="xmui-icon-remove",e.Rename="xmui-icon-rename",e.More="xmui-icon-more",e.CircledMore="xmui-icon-circled-more",e.PasswordVisible="xmui-icon-password-input-visible",e.PasswordHidden="xmui-icon-password-input-hidden",e.Device="xmui-icon-device",e.Registered="xmui-icon-registered",e.WebBrowser="xmui-icon-web-browser",e.Expand="xmui-icon-expand",e.LockedState="xmui-icon-locked-state",e.MobileApproveWaiting="xmui-icon-mobile-approve-waiting",e.WaitForTicket="xmui-icon-wait-for-ticket",e.Checked="xmui-icon-checked",e.Unchecked="xmui-icon-unchecked",e.Checkmark="xmui-icon-checkmark",e.Cancellation="xmui-icon-cancellation",e.Expiration="xmui-icon-expired",e.Information="xmui-icon-information",e.Confirmation="xmui-icon-confirmation",e.Rejection="xmui-icon-rejection",e.AuthLocked="xmui-icon-locked",e.Error="xmui-icon-error",e.Unregister="xmui-icon-unregister",e.Fallback="xmui-icon-fallback",e.Promotion="xmui-icon-promotion",e.PasswordAuth="xmui-icon-password-auth",e.PincodeAuth="xmui-icon-pincode-auth",e.PatternAuth="xmui-icon-pattern-auth",e.OtpAuth="xmui-icon-otp-auth",e.VoiceAuth="xmui-icon-voice-auth",e.QuestionsAuth="xmui-icon-questions-auth",e.TotpAuth="xmui-icon-totp-auth",e.MobileApproveAuth="xmui-icon-mobile-approve-auth",e.GenericAuth="xmui-icon-generic-auth",e.SmsChannel="xmui-icon-sms-channel",e.EmailChannel="xmui-icon-email-channel",e.PushChannel="xmui-icon-push-channel",e.VoiceChannel="xmui-icon-voice-channel"}(I||(I={}));var U="xmui-page",Q=function(e){function t(e,i){var o,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return n(this,t),(o=l(this,r(t).call(this))).forceShowHeader=a,o.className=U,o.role="dialog",o.headerPanel=new q,o.headerPanel.show=o.forceShowHeader||!1,o.infoPanel=new N,o.infoPanel.show=!1,o.contentContainer=new T,o.contentContainer.className="".concat(U,"_content"),o.busyIndicator=new j,o.contentContainer.appendChild(o.busyIndicator),o.busy=!1,o.actionPanel=new L,o.appendChildren(o.headerPanel,o.infoPanel,o.contentContainer,o.actionPanel),o.automationId=e,o.addClass(i),o}return s(t,e),o(t,[{key:"setInstructions",value:function(e){this.infoPanel.setInstructions(e),this.infoPanel.show=!0}},{key:"setUserName",value:function(e){e?(this.headerPanel.setText(e),this.headerPanel.setIcon(I.User),this.headerPanel.show=!0):this.headerPanel.show=this.forceShowHeader||!1}},{key:"blockInteraction",value:function(){this.element.blockInteraction()}},{key:"unblockInteraction",value:function(){this.element.unblockInteraction()}},{key:"setContent",value:function(e){this.contentContainer.appendChild(e)}},{key:"setTitle",value:function(e){this.infoPanel.setTitle(e),this.infoPanel.show=!0}},{key:"addLeftButton",value:function(e){this.actionPanel.addLeftButton(e)}},{key:"addRightButton",value:function(e){this.actionPanel.addRightButton(e)}},{key:"busy",set:function(e){this.busyIndicator.show=e}},{key:"error",set:function(e){this.infoPanel.error=e}}]),t}(T),V=function e(){n(this,e)};V.button_cancel="xmui-button-cancel",V.button_back="xmui-button-back",V.button_abort="xmui-button-abort",V.button_retry="xmui-button-retry",V.button_continue="xmui-button-continue",V.button_reset="xmui-button-reset",V.button_change_method="xmui-button-change-method",V.button_select_method="xmui-button-select-method",V.button_send_to_all="xmui-button-send-to-all",V.button_actions_list="xmui-button-actions-list",V.button_skip="xmui-button-skip",V.button_rename="xmui-button-rename",V.button_identify="xmui-button-identify",V.button_remove="xmui-button-remove",V.button_escape="xmui-button-escape",V.button_recovery="xmui-button-recovery",V.button_dynamic="xmui-button-dynamic",V.button_add_question="xmui-button-add-question",V.list_actions="xmui-list-actions",V.list_item_text_state="xmui-list-item-text-state",V.list_item_icon_state="xmui-list-item-icon-state",V.dialog_recovery="xmui-dialog-recovery",V.dialog_cancellation="xmui-dialog-cancellation",V.dialog_confirm="xmui-dialog-confirm",V.dialog_information="xmui-dialog-information",V.dialog_title="xmui-dialog-title",V.dialog_message="xmui-dialog-message",V.dialog_fallback="xmui-dialog-fallback",V.dialog_registration_promotion_intro="xmui-dialog-registration-promotion-intro",V.popup_dialog_confirm="xmui-popup-dialog-confirm",V.popup_dialog_input="xmui-popup-dialog-input",V.input_password="xmui-input-password",V.input_repeat_password="xmui-input-repeat-password",V.input_fido2="xmui-input-fido2",V.input_repeat_fido2="xmui-input-repeat-fido2",V.input_pin_code="xmui-input-pin-code",V.input_pattern_lock="xmui-input-pattern-lock",V.input_otp_code="xmui-input-otp-code",V.input_totp_code="xmui-input-totp-code",V.input_text="xmui-input-text",V.input_email="xmui-input-email",V.input_security_question="xmui-input-security-question",V.input_mobile_phone_number="xmui-input-mobile-phone-number",V.input_mobile_phone_coutry_code="xmui-input-mobile-phone-country-code",V.page_password_auth="xmui-page-password-auth",V.page_password_reg="xmui-page-password-reg",V.page_fido2_auth="xmui-page-fido2-auth",V.page_fido2_reg="xmui-page-fido2-reg",V.page_pin_auth="xmui-page-pin-auth",V.page_pin_reg="xmui-page-pin-reg",V.page_pattern_auth="xmui-page-pattern-auth",V.page_pattern_reg="xmui-page-pattern-reg",V.page_otp_auth="xmui-page-otp-auth",V.page_totp_auth="xmui-page-totp-auth",V.page_ticket_wait="xmui-page-ticket-wait",V.page_mobile_approve="xmui-page-mobile-approve",V.page_select_device="xmui-page-select-device",V.page_otp_select_channel="xmui-page_otp_select_channel",V.page_configure_authenticators="xmui-page-configure-authenticators",V.page_manage_devices="xmui-page-manage-devices",V.page_select_device_to_manage="xmui-page-select-managed-device",V.page_select_authenticator="xmui-page-select-authenticator",V.page_manage_user_details="xmui-page-manage-user-details",V.page_dynamic_form="xmui-page-dynamic-form",V.page_security_questions_auth="xmui-page-security-questions-auth",V.page_security_questions_reg="xmui-page-security-questions-reg";var H,K="xmui-dialog-content",z=function(e){function t(){var e;return n(this,t),(e=l(this,r(t).call(this))).className=K,e.ariaRole="dialog",e.ariaLabeledBy="".concat(K,"_title"),e.ariaDescribedBy="".concat(K,"_message"),e.createContent(),e}return s(t,e),o(t,[{key:"setDialogTitle",value:function(e){this.titleComp.setText(e)}},{key:"setDialogMessage",value:function(e){this.messageComp.setText(e)}},{key:"setDialogIconClass",value:function(e){this.iconComp.className="".concat(K,"_icon ").concat(e)}},{key:"createContent",value:function(){this.iconComp=new T,this.iconComp.className="".concat(K,"_icon"),this.titleComp=new A,this.titleComp.className="".concat(K,"_title"),this.titleComp.automationId=V.dialog_title,this.messageComp=new A,this.messageComp.className="".concat(K,"_message"),this.messageComp.automationId=V.dialog_message,this.appendChildren(this.iconComp,this.titleComp,this.messageComp)}}]),t}(T),W=function(e){function t(e,i){var o;return n(this,t),(o=l(this,r(t).call(this,e,i))).handleClick=o.handleClick.bind(u(o)),o.dialogContent=new z,o.setContent(o.dialogContent),o}return s(t,e),o(t,[{key:"addLeftButton",value:function(e){e.onClick(this.handleClick),h(r(t.prototype),"addLeftButton",this).call(this,e)}},{key:"addRightButton",value:function(e){e.onClick(this.handleClick),h(r(t.prototype),"addRightButton",this).call(this,e)}},{key:"setDialogTitle",value:function(e){this.dialogContent.setDialogTitle(e)}},{key:"setDialogMessage",value:function(e){this.dialogContent.setDialogMessage(e)}},{key:"setDialogIconClass",value:function(e){this.dialogContent.setDialogIconClass(e)}},{key:"onSelect",value:function(e){this.onSelectCB=e}},{key:"handleClick",value:function(e){this.onSelectCB(e.value)}}]),t}(Q),G={ts_gen_back:"ts_gen_back",ts_gen_skip:"ts_gen_skip",ts_gen_continue:"ts_gen_continue",ts_gen_cancel:"ts_gen_cancel",ts_gen_close:"ts_gen_close",ts_gen_ok:"ts_gen_ok",ts_gen_default:"ts_gen_default",ts_gen_restart:"ts_gen_restart",ts_gen_expired:"ts_gen_expired",ts_gen_cancel_authentication:"ts_gen_cancel_authentication",ts_gen_change_authenticator:"ts_gen_change_authenticator",ts_gen_select_authenticator:"ts_gen_select_authenticator",ts_gen_retry_authenticator:"ts_gen_retry_authenticator",ts_gen_dismiss:"ts_gen_dismiss",ts_authenticator_device_biometrics:"ts_authenticator_device_biometrics",ts_authenticator_password:"ts_authenticator_password",ts_authenticator_pin:"ts_authenticator_pin",ts_authenticator_pattern:"ts_authenticator_pattern",ts_authenticator_otp:"ts_authenticator_otp",ts_authenticator_fingerprint:"ts_authenticator_fingerprint",ts_authenticator_question:"ts_authenticator_question",ts_authenticator_face_id:"ts_authenticator_face_id",ts_authenticator_touch_id:"ts_authenticator_touch_id",ts_authenticator_totp:"ts_authenticator_totp",ts_authenticator_pattern_centralized:"ts_authenticator_pattern_centralized",ts_authenticator_pin_centralized:"ts_authenticator_pin_centralized",ts_authenticator_voice_server:"ts_authenticator_voice_server",ts_authenticator_fido2:"ts_authenticator_fido2",ts_authenticator_mobile_approve:"ts_authenticator_mobile_approve",ts_authenticator_face_server:"ts_authenticator_face_server",ts_authenticator_fido_fidopin:"ts_authenticator_fido_fidopin",ts_authenticator_fido_fidoface:"ts_authenticator_fido_fidoface",ts_authenticator_fido_fidofp:"ts_authenticator_fido_fidofp",ts_authenticator_device_biometrics_description:"ts_authenticator_device_biometrics_description",ts_authenticator_password_description:"ts_authenticator_password_description",ts_authenticator_pin_description:"ts_authenticator_pin_description",ts_authenticator_pin_centralized_description:"ts_authenticator_pin_centralized_description",ts_authenticator_pattern_description:"ts_authenticator_pattern_description",ts_authenticator_pattern_centralized_description:"ts_authenticator_pattern_centralized_description",ts_authenticator_otp_description:"ts_authenticator_otp_description",ts_authenticator_voice_description:"ts_authenticator_voice_description",ts_authenticator_voice_server_description:"ts_authenticator_voice_server_description",ts_authenticator_questions_description:"ts_authenticator_questions_description",ts_authenticator_face_description:"ts_authenticator_face_description",ts_authenticator_fingerprint_description:"ts_authenticator_fingerprint_description",ts_authenticator_face_id_description:"ts_authenticator_face_id_description",ts_authenticator_touch_id_description:"ts_authenticator_touch_id_description",ts_authenticator_totp_description:"ts_authenticator_totp_description",ts_authenticator_mobile_approve_description:"ts_authenticator_mobile_approve_description",ts_authenticator_fido2_description:"ts_authenticator_fido2_description",ts_authenticator_password_title_auth:"ts_authenticator_password_title_auth",ts_authenticator_password_title_reg:"ts_authenticator_password_title_reg",ts_authenticator_password_intro_auth:"ts_authenticator_password_intro_auth",ts_authenticator_password_intro_reg:"ts_authenticator_password_intro_reg",ts_authenticator_password_field_hint:"ts_authenticator_password_field_hint",ts_authenticator_password_reg_field_hint:"ts_authenticator_password_reg_field_hint",ts_authenticator_password_cta_positive:"ts_authenticator_password_cta_positive",ts_authenticator_password_error_too_short:"ts_authenticator_password_error_too_short",ts_authenticator_password_error_reg_no_match:"ts_authenticator_password_error_reg_no_match",ts_authenticator_password_error_reg_strength_validation_failed:"ts_authenticator_password_error_reg_strength_validation_failed",ts_authenticator_pin_title_auth:"ts_authenticator_pin_title_auth",ts_authenticator_pin_title_reg:"ts_authenticator_pin_title_reg",ts_authenticator_pin_intro_auth:"ts_authenticator_pin_intro_auth",ts_authenticator_pin_intro_reg:"ts_authenticator_pin_intro_reg",ts_authenticator_pin_intro_repeat:"ts_authenticator_pin_intro_repeat",ts_authenticator_pin_error_reg_no_match:"ts_authenticator_pin_error_reg_no_match",ts_authenticator_pin_code_length:"ts_authenticator_pin_code_length",ts_authenticator_otp_title_auth:"ts_authenticator_otp_title_auth",ts_authenticator_otp_qr_title:"ts_authenticator_otp_qr_title",ts_authenticator_otp_targets_intro:"ts_authenticator_otp_targets_intro",ts_authenticator_otp_sms_title:"ts_authenticator_otp_sms_title",ts_authenticator_otp_email_title:"ts_authenticator_otp_email_title",ts_authenticator_otp_voice_title:"ts_authenticator_otp_voice_title",ts_authenticator_otp_push_title:"ts_authenticator_otp_push_title",ts_authenticator_otp_unknown_title:"ts_authenticator_otp_unknown_title",ts_authenticator_otp_sms_sent:"ts_authenticator_otp_sms_sent",ts_authenticator_otp_email_sent:"ts_authenticator_otp_email_sent",ts_authenticator_otp_push_sent:"ts_authenticator_otp_push_sent",ts_authenticator_otp_voice_sent:"ts_authenticator_otp_voice_sent",ts_authenticator_otp_qr_sent:"ts_authenticator_otp_qr_sent",ts_authenticator_otp_external_numeric_sent:"ts_authenticator_otp_external_numeric_sent",ts_authenticator_otp_external_qr_sent:"ts_authenticator_otp_external_qr_sent",ts_authenticator_otp_resend:"ts_authenticator_otp_resend",ts_authenticator_otp_resend_message:"ts_authenticator_otp_resend_message",ts_authenticator_otp_resend_intro:"ts_authenticator_otp_resend_intro",ts_authenticator_otp_error_qr_permission:"ts_authenticator_otp_error_qr_permission",ts_authenticator_otp_error_code_expired:"ts_authenticator_otp_error_code_expired",ts_authenticator_otp_code_length:"ts_authenticator_otp_code_length",ts_authenticator_pattern_title_auth:"ts_authenticator_pattern_title_auth",ts_authenticator_pattern_title_reg:"ts_authenticator_pattern_title_reg",ts_authenticator_pattern_intro_auth:"ts_authenticator_pattern_intro_auth",ts_authenticator_pattern_intro_reg:"ts_authenticator_pattern_intro_reg",ts_authenticator_pattern_mismatch:"ts_authenticator_pattern_mismatch",ts_authenticator_pattern_error_min_points:"ts_authenticator_pattern_error_min_points",ts_authenticator_pattern_intro_repeat:"ts_authenticator_pattern_intro_repeat",ts_authenticator_pattern_cta_reset:"ts_authenticator_pattern_cta_reset",ts_authenticator_fingerprint_title_auth:"ts_authenticator_fingerprint_title_auth",ts_authenticator_fingerprint_title_reg:"ts_authenticator_fingerprint_title_reg",ts_authenticator_fingerprint_status_hint:"ts_authenticator_fingerprint_status_hint",ts_authenticator_faceid_title_auth:"ts_authenticator_faceid_title_auth",ts_authenticator_faceid_title_reg:"ts_authenticator_faceid_title_reg",ts_authenticator_touchid_title_reg:"ts_authenticator_touchid_title_reg",ts_authenticator_touchid_title_auth:"ts_authenticator_touchid_title_auth",ts_authenticator_device_biometrics_title_auth:"ts_authenticator_device_biometrics_title_auth",ts_authenticator_device_biometrics_title_reg:"ts_authenticator_device_biometrics_title_reg",ts_authenticator_device_biometrics_intro_auth:"ts_authenticator_device_biometrics_intro_auth",ts_authenticator_device_biometrics_intro_reg:"ts_authenticator_device_biometrics_intro_reg",ts_authenticator_device_biometrics_prompt:"ts_authenticator_device_biometrics_prompt",ts_authenticator_device_biometrics_cancel_cta:"ts_authenticator_device_biometrics_cancel_cta",ts_authenticator_questions_title_auth:"ts_authenticator_questions_title_auth",ts_authenticator_questions_title_reg:"ts_authenticator_questions_title_reg",ts_authenticator_questions_intro_auth:"ts_authenticator_questions_intro_auth",ts_authenticator_questions_intro_reg:"ts_authenticator_questions_intro_reg",ts_authenticator_questions_error_answer_range:"ts_authenticator_questions_error_answer_range",ts_authenticator_questions_left:"ts_authenticator_questions_left",ts_authenticator_questions_error_answer_empty:"ts_authenticator_questions_error_answer_empty",ts_authenticator_questions_remove_this_question_cta:"ts_authenticator_questions_remove_this_question_cta",ts_authenticator_questions_add_question_cta:"ts_authenticator_questions_add_question_cta",ts_authenticator_questions_reg_select_question:"ts_authenticator_questions_reg_select_question",ts_authenticator_questions_reg_select_question_cta:"ts_authenticator_questions_reg_select_question_cta",ts_authenticator_questions_reg_default_answer_placeholder:"ts_authenticator_questions_reg_default_answer_placeholder",ts_authenticator_voice_title_auth:"ts_authenticator_voice_title_auth",ts_authenticator_voice_title_reg:"ts_authenticator_voice_title_reg",ts_authenticator_voice_intro_auth:"ts_authenticator_voice_intro_auth",ts_authenticator_voice_intro_reg:"ts_authenticator_voice_intro_reg",ts_authenticator_voice_passphrase:"ts_authenticator_voice_passphrase",ts_authenticator_voice_passphrase_subtitle:"ts_authenticator_voice_passphrase_subtitle",ts_authenticator_voice_instructions:"ts_authenticator_voice_instructions",ts_authenticator_voice_record_start:"ts_authenticator_voice_record_start",ts_authenticator_voice_record_stop:"ts_authenticator_voice_record_stop",ts_authenticator_voice_request_audio_permission:"ts_authenticator_voice_request_audio_permission",ts_authenticator_voice_error_too_long:"ts_authenticator_voice_error_too_long",ts_authenticator_voice_error_too_short:"ts_authenticator_voice_error_too_short",ts_authenticator_voice_error_too_loud:"ts_authenticator_voice_error_too_loud",ts_authenticator_voice_error_too_weak:"ts_authenticator_voice_error_too_weak",ts_authenticator_voice_error_too_noisy:"ts_authenticator_voice_error_too_noisy",ts_authenticator_voice_error_invalid:"ts_authenticator_voice_error_invalid",ts_authenticator_face_title_auth:"ts_authenticator_face_title_auth",ts_authenticator_face_title_reg:"ts_authenticator_face_title_reg",ts_authenticator_face_intro_auth:"ts_authenticator_face_intro_auth",ts_authenticator_face_intro_reg:"ts_authenticator_face_intro_reg",ts_authenticator_face_error_invalid:"ts_authenticator_face_error_invalid",ts_authenticator_totp_title:"ts_authenticator_totp_title",ts_authenticator_totp_targets_intro:"ts_authenticator_totp_targets_intro",ts_authenticator_totp_input_intro:"ts_authenticator_totp_input_intro",ts_authenticator_totp_input_with_challenge_intro:"ts_authenticator_totp_input_with_challenge_intro",ts_authenticator_totp_input_with_qr_challenge_intro:"ts_authenticator_totp_input_with_qr_challenge_intro",ts_authenticator_totp_qrcode_challenge_step1_message:"ts_authenticator_totp_qrcode_challenge_step1_message",ts_authenticator_totp_qrcode_challenge_step2_message:"ts_authenticator_totp_qrcode_challenge_step2_message",ts_authenticator_totp_code_challenge_step1_message:"ts_authenticator_totp_code_challenge_step1_message",ts_authenticator_totp_code_challenge_step2_message:"ts_authenticator_totp_code_challenge_step2_message",ts_authenticator_totp_input_hint:"ts_authenticator_totp_input_hint",ts_authenticator_totp_targets_recently_used:"ts_authenticator_totp_targets_recently_used",ts_authenticator_totp_targets_current_device:"ts_authenticator_totp_targets_current_device",ts_authenticator_mobile_approve_title:"ts_authenticator_mobile_approve_title",ts_authenticator_mobile_approve_fetching_data:"ts_authenticator_mobile_approve_fetching_data",ts_authenticator_mobile_approve_send:"ts_authenticator_mobile_approve_send",ts_authenticator_mobile_approve_send_to_all:"ts_authenticator_mobile_approve_send_to_all",ts_authenticator_mobile_approve_targets_intro:"ts_authenticator_mobile_approve_targets_intro",ts_authenticator_mobile_approve_targets_recently_used:"ts_authenticator_mobile_approve_targets_recently_used",ts_authenticator_mobile_approve_targets_current_device:"ts_authenticator_mobile_approve_targets_current_device",ts_authenticator_mobile_approve_resend_message:"ts_authenticator_mobile_approve_resend_message",ts_authenticator_mobile_approve_resend_cta:"ts_authenticator_mobile_approve_resend_cta",ts_session_config_title:"ts_session_config_title",ts_session_config_intro:"ts_session_config_intro",ts_session_config_item_action_register:"ts_session_config_item_action_register",ts_session_config_item_action_unregister:"ts_session_config_item_action_unregister",ts_session_config_item_action_reregister:"ts_session_config_item_action_reregister",ts_session_config_item_action_set_as_default:"ts_session_config_item_action_set_as_default",ts_session_config_item_register_result:"ts_session_config_item_register_result",ts_session_config_item_reregister_result:"ts_session_config_item_reregister_result",ts_session_config_item_unregister_result:"ts_session_config_item_unregister_result",ts_session_config_item_default_result:"ts_session_config_item_default_result",ts_session_config_item_register_failed:"ts_session_config_item_register_failed",ts_session_config_item_reregister_failed:"ts_session_config_item_reregister_failed",ts_session_config_item_unregister_failed:"ts_session_config_item_unregister_failed",ts_session_config_item_default_failed:"ts_session_config_item_default_failed",ts_session_config_item_unregister_dialog_title:"ts_session_config_item_unregister_dialog_title",ts_session_config_item_unregister_dialog_message:"ts_session_config_item_unregister_dialog_message",ts_session_config_item_unregister_dialog_cta:"ts_session_config_item_unregister_dialog_cta",ts_session_config_error_dialog_title:"ts_session_config_error_dialog_title",ts_session_totp_title:"ts_session_totp_title",ts_session_totp_content:"ts_session_totp_content",ts_session_totp_unbound_title:"ts_session_totp_unbound_title",ts_session_totp_unbound_content:"ts_session_totp_unbound_content",ts_session_totp_unbound_code:"ts_session_totp_unbound_code",ts_session_totp_nottl_content:"ts_session_totp_nottl_content",ts_session_totp_provision_sa_title:"ts_session_totp_provision_sa_title",ts_session_totp_provision_password_title:"ts_session_totp_provision_password_title",ts_session_totp_provision_pattern_title:"ts_session_totp_provision_pattern_title",ts_session_totp_provision_pin_title:"ts_session_totp_provision_pin_title",ts_session_totp_generation_sa_title:"ts_session_totp_generation_sa_title",ts_session_totp_generation_password_title:"ts_session_totp_generation_password_title",ts_session_totp_generation_pattern_title:"ts_session_totp_generation_pattern_title",ts_session_totp_generation_pin_title:"ts_session_totp_generation_pin_title",ts_session_totp_generation_fingerprint_title:"ts_session_totp_generation_fingerprint_title",ts_session_totp_generation_device_biometrics_title:"ts_session_totp_generation_device_biometrics_title",ts_session_totp_challenge_title_list:"ts_session_totp_challenge_title_list",ts_session_totp_challenge_intro_list:"ts_session_totp_challenge_intro_list",ts_session_totp_challenge_title_textual:"ts_session_totp_challenge_title_textual",ts_session_totp_challenge_intro_textual:"ts_session_totp_challenge_intro_textual",ts_session_totp_challenge_title_qr:"ts_session_totp_challenge_title_qr",ts_session_totp_challenge_intro_qr:"ts_session_totp_challenge_intro_qr",ts_session_approval_approve:"ts_session_approval_approve",ts_session_approval_deny:"ts_session_approval_deny",ts_session_approval_completed_title:"ts_session_approval_completed_title",ts_session_approval_completed_subtitle:"ts_session_approval_completed_subtitle",ts_session_approval_completed_denied_subtitle:"ts_session_approval_completed_denied_subtitle",ts_session_approval_dialog_title:"ts_session_approval_dialog_title",ts_session_approval_dialog_message:"ts_session_approval_dialog_message",ts_session_approval_dialog_cta:"ts_session_approval_dialog_cta",ts_session_approval_approve_failed:"ts_session_approval_approve_failed",ts_session_approval_deny_failed:"ts_session_approval_deny_failed",ts_session_approval_approve_failed_title:"ts_session_approval_approve_failed_title",ts_session_approval_deny_failed_title:"ts_session_approval_deny_failed_title",ts_session_approval_approve_failed_cta:"ts_session_approval_approve_failed_cta",ts_session_approval_deny_failed_cta:"ts_session_approval_deny_failed_cta",ts_session_approval_username:"ts_session_approval_username",ts_session_approval_service:"ts_session_approval_service",ts_session_approval_description:"ts_session_approval_description",ts_session_approval_requested_device:"ts_session_approval_requested_device",ts_session_approval_expiry:"ts_session_approval_expiry",ts_session_approval_requested_location:"ts_session_approval_requested_location",ts_session_approval_request_expires_time:"ts_session_approval_request_expires_time",ts_session_approval_request_has_expired:"ts_session_approval_request_has_expired",ts_session_dm_title:"ts_session_dm_title",ts_session_dm_intro:"ts_session_dm_intro",ts_session_dm_section_current:"ts_session_dm_section_current",ts_session_dm_section_others:"ts_session_dm_section_others",ts_session_dm_last_used_date:"ts_session_dm_last_used_date",ts_session_dm_last_used_location:"ts_session_dm_last_used_location",ts_session_dm_details_title:"ts_session_dm_details_title",ts_session_dm_details_subtitle:"ts_session_dm_details_subtitle",ts_session_dm_details_current_device:"ts_session_dm_details_current_device",ts_session_dm_details_rename_action:"ts_session_dm_details_rename_action",ts_session_dm_details_remove_subtitle:"ts_session_dm_details_remove_subtitle",ts_session_dm_details_remove_action:"ts_session_dm_details_remove_action",ts_session_dm_details_no_other_devices_available:"ts_session_dm_details_no_other_devices_available",ts_session_dm_item_action_dialog_remove_title:"ts_session_dm_item_action_dialog_remove_title",ts_session_dm_item_action_dialog_remove_message:"ts_session_dm_item_action_dialog_remove_message",ts_session_dm_item_action_dialog_remove_cta:"ts_session_dm_item_action_dialog_remove_cta",ts_session_dm_item_action_dialog_rename_title:"ts_session_dm_item_action_dialog_rename_title",ts_session_dm_item_action_dialog_rename_cta:"ts_session_dm_item_action_dialog_rename_cta",ts_session_dm_details_rename_input_hint:"ts_session_dm_details_rename_input_hint",ts_session_dm_item_action_rename_result_positive:"ts_session_dm_item_action_rename_result_positive",ts_session_dm_item_action_rename_result_negative:"ts_session_dm_item_action_rename_result_negative",ts_session_dm_item_action_remove_result_positive:"ts_session_dm_item_action_remove_result_positive",ts_session_dm_item_action_remove_result_negative:"ts_session_dm_item_action_remove_result_negative",ts_session_dm_error_dialog_title:"ts_session_dm_error_dialog_title",ts_session_promotion_title:"ts_session_promotion_title",ts_session_promotion_intro:"ts_session_promotion_intro",ts_session_promotion_skip:"ts_session_promotion_skip",ts_session_promotion_abort:"ts_session_promotion_abort",ts_promise_sa_title:"ts_promise_sa_title",ts_promise_sa_content:"ts_promise_sa_content",ts_promise_co_title_auth:"ts_promise_co_title_auth",ts_promise_co_title_reg:"ts_promise_co_title_reg",ts_promise_fallback_title:"ts_promise_fallback_title",ts_promise_fallback_content:"ts_promise_fallback_content",ts_promise_fallback_action_fallback:"ts_promise_fallback_action_fallback",ts_promise_fallback_action_menu:"ts_promise_fallback_action_menu",ts_promise_fallback_action_retry:"ts_promise_fallback_action_retry",ts_promise_fallback_action_cancel:"ts_promise_fallback_action_cancel",ts_promise_co_content:"ts_promise_co_content",ts_promise_co_abort:"ts_promise_co_abort",ts_promise_co_select:"ts_promise_co_select",ts_promise_co_change:"ts_promise_co_change",ts_promise_co_retry:"ts_promise_co_retry",ts_promise_error_default_title_auth:"ts_promise_error_default_title_auth",ts_promise_error_default_title_reg:"ts_promise_error_default_title_reg",ts_promise_error_default_content_auth:"ts_promise_error_default_content_auth",ts_promise_error_default_content_reg:"ts_promise_error_default_content_reg",ts_promise_error_lock_title:"ts_promise_error_lock_title",ts_promise_error_lock_content:"ts_promise_error_lock_content",ts_promise_invalid_authenticator_title:"ts_promise_invalid_authenticator_title",ts_promise_invalid_authenticator_content:"ts_promise_invalid_authenticator_content",ts_promise_invalid_authenticator_cta:"ts_promise_invalid_authenticator_cta",ts_promise_rejection_policy_title:"ts_promise_rejection_policy_title",ts_promise_rejection_policy_content:"ts_promise_rejection_policy_content",ts_promise_rejection_policy_cta:"ts_promise_rejection_policy_cta",ts_promise_rejection_locked_user_title:"ts_promise_rejection_locked_user_title",ts_promise_rejection_locked_user_content:"ts_promise_rejection_locked_user_content",ts_promise_rejection_locked_user_cta:"ts_promise_rejection_locked_user_cta",ts_promise_rejection_locked_device_title:"ts_promise_rejection_locked_device_title",ts_promise_rejection_locked_device_content:"ts_promise_rejection_locked_device_content",ts_promise_rejection_locked_device_cta:"ts_promise_rejection_locked_device_cta",ts_promise_rejection_locked_application_title:"ts_promise_rejection_locked_application_title",ts_promise_rejection_locked_application_content:"ts_promise_rejection_locked_application_content",ts_promise_rejection_locked_application_cta:"ts_promise_rejection_locked_application_cta",ts_promise_rejection_approval_expired_title:"ts_promise_rejection_approval_expired_title",ts_promise_rejection_approval_expired_content:"ts_promise_rejection_approval_expired_content",ts_promise_rejection_approval_expired_cta:"ts_promise_rejection_approval_expired_cta",ts_session_authenticator_expired_title:"ts_session_authenticator_expired_title",ts_session_authenticator_expired_content:"ts_session_authenticator_expired_content",ts_promise_rejection_feature_not_supported_title:"ts_promise_rejection_feature_not_supported_title",ts_promise_rejection_feature_not_supported_content:"ts_promise_rejection_feature_not_supported_content",ts_promise_rejection_feature_not_supported_cta:"ts_promise_rejection_feature_not_supported_cta",ts_promise_rejection_cannot_consume_ticket_title:"ts_promise_rejection_cannot_consume_ticket_title",ts_promise_rejection_cannot_consume_ticket_content:"ts_promise_rejection_cannot_consume_ticket_content",ts_promise_rejection_cannot_consume_ticket_cta:"ts_promise_rejection_cannot_consume_ticket_cta",ts_promise_rejection_username_already_exists_title:"ts_promise_rejection_username_already_exists_title",ts_promise_rejection_username_already_exists_content:"ts_promise_rejection_username_already_exists_content",ts_promise_rejection_username_already_exists_cta:"ts_promise_rejection_username_already_exists_cta",ts_promise_rejection_authenticator_fatal_error_title:"ts_promise_rejection_authenticator_fatal_error_title",ts_promise_rejection_authenticator_fatal_error_content:"ts_promise_rejection_authenticator_fatal_error_content",ts_promise_rejection_authenticator_fatal_error_cta:"ts_promise_rejection_authenticator_fatal_error_cta",ts_accessibility_totp_reset:"ts_accessibility_totp_reset",ts_accessibility_totp_reader:"ts_accessibility_totp_reader",ts_accessibility_totp_no_ttl:"ts_accessibility_totp_no_ttl",ts_accessibility_configuration_cta_register:"ts_accessibility_configuration_cta_register",ts_accessibility_configuration_cta_unregister:"ts_accessibility_configuration_cta_unregister",ts_accessibility_configuration_cta_reregister:"ts_accessibility_configuration_cta_reregister",ts_accessibility_input_reader:"ts_accessibility_input_reader",ts_accessibility_input_pin_cell:"ts_accessibility_input_pin_cell",ts_accessibility_input_reset:"ts_accessibility_input_reset",ts_accessibility_authenticator_list_locked:"ts_accessibility_authenticator_list_locked",ts_accessibility_authenticator_list_disabled:"ts_accessibility_authenticator_list_disabled",ts_accessibility_authenticator_list_enabled:"ts_accessibility_authenticator_list_enabled",ts_accessibility_authenticator_list_default:"ts_accessibility_authenticator_list_default",ts_accessibility_hide_input_field:"ts_accessibility_hide_input_field",ts_accessibility_show_input_field:"ts_accessibility_show_input_field",ts_accessibility_back:"ts_accessibility_back",ts_accessibility_cancel:"ts_accessibility_cancel",ts_accessibility_password_enter_password:"ts_accessibility_password_enter_password",ts_accessibility_password_enter_password_again:"ts_accessibility_password_enter_password_again",ts_accessibility_password_error_reg_no_match:"ts_accessibility_password_error_reg_no_match",ts_plugin_dynamic_form_mandatory:"ts_plugin_dynamic_form_mandatory",ts_plugin_dynamic_form_error_mandatory:"ts_plugin_dynamic_form_error_mandatory",ts_plugin_dynamic_form_error_invalid:"ts_plugin_dynamic_form_error_invalid",ts_plugin_dynamic_form_error_too_long:"ts_plugin_dynamic_form_error_too_long",ts_plugin_dynamic_form_error_not_phone:"ts_plugin_dynamic_form_error_not_phone",ts_plugin_dynamic_form_error_not_email:"ts_plugin_dynamic_form_error_not_email",ts_plugin_dynamic_form_error_else:"ts_plugin_dynamic_form_error_else",ts_plugin_dynamic_form_table_title:"ts_plugin_dynamic_form_table_title",ts_plugin_dynamic_form_table_title_item:"ts_plugin_dynamic_form_table_title_item",ts_plugin_dynamic_form_error_general:"ts_plugin_dynamic_form_error_general",ts_plugin_dynamic_form_item_cta_positive:"ts_plugin_dynamic_form_item_cta_positive",ts_plugin_dynamic_form_item_cta_cancel:"ts_plugin_dynamic_form_item_cta_cancel",ts_plugin_dynamic_form_item_cta_select_all:"ts_plugin_dynamic_form_item_cta_select_all",ts_plugin_dynamic_form_item_cta_clear_all:"ts_plugin_dynamic_form_item_cta_clear_all",ts_plugin_dynamic_form_item_phone_prefix:"ts_plugin_dynamic_form_item_phone_prefix",ts_plugin_dynamic_form_item_phone_prefix_dialog_title:"ts_plugin_dynamic_form_item_phone_prefix_dialog_title",ts_session_scan_qr_title:"ts_session_scan_qr_title",ts_session_scan_qr_hint:"ts_session_scan_qr_hint",ts_gen_recovery:"ts_gen_recovery"},Z=0,Y={generate:function(){return"".concat("xmui-id-").concat((new Date).getTime().toString(),"-").concat(++Z)}},$="xmui-list-item",X=function(e){function t(e,i){var o,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];n(this,t),(o=l(this,r(t).call(this))).key=e,o.id=Y.generate(),o.className=$,a&&o.addClass("".concat($,"--section-start"));var s=new T;return s.className="".concat($,"_hover-indicator"),o.contentContainer=new T,o.contentContainer.className="".concat($,"_content-container"),o.appendChildren(s,o.contentContainer),i&&o.addCheckbox(),o.role="option",o}return s(t,e),o(t,[{key:"setContent",value:function(e){this.contentContainer.setContent(e)}},{key:"addCheckbox",value:function(){var e=new T;e.className="".concat($,"_checkbox"),this.appendChild(e)}}]),t}(T);!function(e){e[e.Backspace=8]="Backspace",e[e.Tab=9]="Tab",e[e.Enter=13]="Enter",e[e.Shift=16]="Shift",e[e.Ctrl=17]="Ctrl",e[e.Alt=18]="Alt",e[e.Escape=27]="Escape",e[e.Space=32]="Space",e[e.PageUp=33]="PageUp",e[e.PageDown=34]="PageDown",e[e.End=35]="End",e[e.Home=36]="Home",e[e.LeftArrow=37]="LeftArrow",e[e.UpArrow=38]="UpArrow",e[e.RightArrow=39]="RightArrow",e[e.DownArrow=40]="DownArrow",e[e.Zero=48]="Zero",e[e.One=49]="One",e[e.Two=50]="Two",e[e.Three=51]="Three",e[e.Four=52]="Four",e[e.Five=53]="Five",e[e.Six=54]="Six",e[e.Seven=55]="Seven",e[e.Eight=56]="Eight",e[e.Nine=57]="Nine"}(H||(H={}));var J,ee=function(){function e(t){n(this,e),this.container=t,this.container.ariaActiveDescendant="",this.container.onKeydown(this.handleNavigation.bind(this))}return o(e,[{key:"onSelect",value:function(e){this.selectCB=e}},{key:"activateItem",value:function(e){e&&e!==this.activeItem&&(this.deactivateItem(),this.activeItem=e,e.active=!0,this.container.ariaActiveDescendant=e.id,this.scrollToItem(e))}},{key:"deactivateItem",value:function(e){var t=null==e||e===this.activeItem?this.activeItem:null;t&&(this.activeItem=null,t.active=!1,this.container.ariaActiveDescendant="")}},{key:"handleNavigation",value:function(e,t){switch(t.keyCode){case H.DownArrow:this.handleDownArrow(),t.preventDefault(),t.stopPropagation();break;case H.UpArrow:this.handleUpArrow(),t.preventDefault(),t.stopPropagation();break;case H.Enter:case H.Space:this.handleEnter(),t.stopPropagation()}}},{key:"handleDownArrow",value:function(){var e=this.container.getNextChild(this.activeItem);this.activateItem(e)}},{key:"handleUpArrow",value:function(){var e=this.container.getPrevChild(this.activeItem);this.activateItem(e)}},{key:"handleEnter",value:function(){this.activeItem&&this.selectCB&&this.selectCB(this.activeItem)}},{key:"scrollToItem",value:function(e){var t=this.container.htmlElement,n=e.htmlElement;if(t.scrollHeight>t.clientHeight){var i=t.clientHeight+t.scrollTop,o=n.offsetTop+n.offsetHeight;o>i?t.scrollTop=o-t.clientHeight:n.offsetTop<t.scrollTop&&(t.scrollTop=n.offsetTop)}}}]),e}();!function(e){e[e.None=0]="None",e[e.Single=1]="Single",e[e.SingleMouseup=2]="SingleMouseup",e[e.Multiple=3]="Multiple"}(J||(J={}));var te,ne,ie,oe,ae=function(e){function t(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J.Single,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n(this,t),(e=l(this,r(t).call(this))).listSelectionMode=i,e.activateOnHover=o,e.selectionChangedCB=[],e.itemClickedCB=[],e.selectedItems=[],e.ariaMultiselectable=i===J.Multiple,e.handleItemClicked=e.handleItemClicked.bind(u(e)),e.handleMouseEvents=e.handleMouseEvents.bind(u(e)),e.handleItemMouseenter=e.handleItemMouseenter.bind(u(e)),e.handleItemMouseleave=e.handleItemMouseleave.bind(u(e)),e.keyboardNav=new ee(u(e)),e.keyboardNav.onSelect((function(t){t&&!t.disabled&&e.handleSelectionChanged(t)})),e.onMouseup(e.handleMouseEvents),e.onMousedown(e.handleMouseEvents),e.onClick(e.handleMouseEvents),e}return s(t,e),o(t,[{key:"onSelectionChanged",value:function(e){this.selectionChangedCB.push(e)}},{key:"onItemClicked",value:function(e){this.itemClickedCB.push(e)}},{key:"clearSelection",value:function(){this.selectedItems.forEach((function(e){e.selected=!1})),this.selectedItems=[]}},{key:"clearActive",value:function(){this.deactivateItem()}},{key:"activateItem",value:function(e){this.keyboardNav.activateItem(e)}},{key:"deactivateItem",value:function(e){this.keyboardNav.deactivateItem(e)}},{key:"addItem",value:function(e){this.selectionMode===J.SingleMouseup?e.onMouseup(this.handleItemClicked):e.onClick(this.handleItemClicked),this.activateOnHover&&this.activateItemOnHover(e),this.appendChild(e)}},{key:"activateItemOnHover",value:function(e){e.onMouseenter(this.handleItemMouseenter),e.onMouseleave(this.handleItemMouseenter)}},{key:"handleItemMouseenter",value:function(e){this.activateItem(e)}},{key:"handleItemMouseleave",value:function(e){this.deactivateItem(e)}},{key:"addToSelection",value:function(e){e.selected=!0,-1===this.selectedItems.indexOf(e)&&(this.selectedItems.push(e),this.notifySelectionChanged())}},{key:"removeFromSelection",value:function(e){e.selected=!1;var t=this.selectedItems.indexOf(e);t>-1&&(this.selectedItems.splice(t,1),this.notifySelectionChanged())}},{key:"handleMouseEvents",value:function(){event.stopPropagation()}},{key:"handleItemClicked",value:function(e){!e.disabled&&this.handleSelectionChanged(e),this.activateItem(e)}},{key:"handleSelectionChanged",value:function(e){switch(this.listSelectionMode){case J.Multiple:this.handleMultipleSelectionChanged(e);break;case J.Single:case J.SingleMouseup:this.handleSingleSelectionChanged(e);break;case J.None:this.itemClickedCB.forEach((function(t){t(e.key)}))}}},{key:"handleMultipleSelectionChanged",value:function(e){e.selected?this.removeFromSelection(e):this.addToSelection(e)}},{key:"handleSingleSelectionChanged",value:function(e){e.selected=!e.selected,this.clearSelection(),this.addToSelection(e)}},{key:"notifySelectionChanged",value:function(){var e=this.selectedItems.map((function(e){return e.key}));this.selectionChangedCB.forEach((function(t){t(e)}))}},{key:"selectionMode",get:function(){return this.listSelectionMode}}]),t}(T),se="xmui-list",re=function(e){function t(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J.Single;return n(this,t),(e=l(this,r(t).call(this,i))).shouldStartSection=!1,e.className=se,e.role="listbox",e.tabindex=0,e}return s(t,e),o(t,[{key:"addListItem",value:function(e,t,n){var i=new X(e,this.selectionMode===J.Multiple,this.shouldStartSection);i.setContent(n),i.disabled=t,i.selected=!1,this.shouldStartSection=!1,this.addItem(i)}},{key:"startSection",value:function(){this.shouldStartSection=!0}}]),t}(ae),ce="xmui-list-item-content",ue=function(e){function t(e){var i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;if(n(this,t),(i=l(this,r(t).call(this))).className=ce,a){var _=new T;_.className="".concat(ce,"_icon ").concat(a),i.appendChild(_)}var h=new T;if(h.className="".concat(ce,"_text-container"),e){var d=new A;d.setText(e),d.className="".concat(ce,"_title");var p=new T;p.className="".concat(ce,"_title-container"),p.appendChild(d),u&&u.forEach((function(e){var t=new T;t.className="".concat(ce,"_icon-state ").concat(e),t.automationId=V.list_item_icon_state,p.appendChild(t)})),c&&c.forEach((function(e){p.appendChild(e)})),h.appendChild(p)}if(o){var m=new A;m.setText(o),m.className="".concat(ce,"_info"),h.appendChild(m)}if(i.appendChild(h),s){var g=new T;g.className="".concat(ce,"_space"),i.appendChild(g),i.appendChild(s)}return i}return s(t,e),t}(T),le=function(){function e(){n(this,e)}return o(e,null,[{key:"getAuthenticatorIcon",value:function(e){if(!te){var t,n=com.ts.mobile.sdk.AuthenticatorType;a(t={},n.Password,I.PasswordAuth),a(t,n.Pincode,I.PincodeAuth),a(t,n.Pattern,I.PatternAuth),a(t,n.Otp,I.OtpAuth),a(t,n.Voice,I.VoiceAuth),a(t,n.Questions,I.QuestionsAuth),a(t,n.Totp,I.TotpAuth),a(t,n.MobileApprove,I.MobileApproveAuth),a(t,n.Generic,I.GenericAuth),te=t}return te[e]}},{key:"getChannelIcon",value:function(e){if(!ne){var t,n=com.ts.mobile.sdk.OtpChannel;a(t={},n.Sms,I.SmsChannel),a(t,n.Email,I.EmailChannel),a(t,n.PushNotification,I.PushChannel),a(t,n.VoiceCall,I.VoiceChannel),ne=t}return ne[e]}}]),e}();!function(e){e.Button="button",e.Submit="submit"}(ie||(ie={})),function(e){e.Normal="normal",e.Alert="alert",e.Recovery="recovery"}(oe||(oe={}));var _e,he="".concat("xmui-button","--"),de=function(e){function t(e){var i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:oe.Normal;n(this,t),(i=l(this,r(t).call(this))).buttonMode=o,i.automationId=e;var a=he+o;return i.addClass(a),i}return s(t,e),o(t,[{key:"buildElement",value:function(){return x('<button class="'.concat("xmui-button",'"></button>'))}},{key:"label",set:function(e){this.element.text(e)},get:function(){return this.htmlElement.innerText}},{key:"form",set:function(e){this.attr={form:e}}},{key:"type",set:function(e){this.attr={type:e}}},{key:"disabled",set:function(e){p(r(t.prototype),"disabled",e,this,!0),this.htmlElement.disabled=e}}]),t}(E),pe=function(e){function t(e,i,o){var a,s=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return n(this,t),(a=l(this,r(t).call(this,e,i))).actionContext=o,a.uiContext=o.getUiContext(),s&&(a._cancelButton=new de(V.button_cancel),a._cancelButton.label=a.uiContext.getString(G.ts_gen_cancel),a._cancelButton.onClick((function(){return a.handleCancelButtonClicked()})),a.addLeftButton(a.cancelButton)),a.addEscapeOptionButtons(o.getEscapeOptions()),a}return s(t,e),o(t,[{key:"addEscapeOptionButtons",value:function(e){var t=this;e.filter((function(e){return e.getPresentation()===com.ts.mobile.sdk.ActionEscapeOptionPresentation.Action})).forEach((function(e){var n=new de(V.button_escape);n.label=e.getDisplayName(),n.onClick((function(){return t.handleEscapeButtonClicked(e)})),t.addLeftButton(n)}))}},{key:"handleEscapeButtonClicked",value:function(e){this.onEscapeCB&&this.onEscapeCB(e)}},{key:"onCancel",value:function(e){this.onCancelCB=e}},{key:"onEscape",value:function(e){this.onEscapeCB=e}},{key:"handleCancelButtonClicked",value:function(){var e=this.actionContext.getEscapeOptions().filter((function(e){return e.getPresentation()===com.ts.mobile.sdk.ActionEscapeOptionPresentation.Cancel}));e.length?this.onEscapeCB&&this.onEscapeCB(e[0]):this.onCancelCB&&this.onCancelCB()}},{key:"cancelButton",get:function(){return this._cancelButton}}]),t}(Q),me="xmui-select-authenticator",ge=function(e){function t(e){var i;n(this,t);var o=(i=l(this,r(t).call(this,V.page_select_authenticator,me,e))).createContent();return i.setContent(o),i}return s(t,e),o(t,[{key:"createContent",value:function(){var e=this;return this.authList=new re,this.authList.onSelectionChanged((function(t){t.length&&e.onSubmitCB&&e.onSubmitCB(t[0])})),this.authList.focus(),this.authList}},{key:"addAuthenticator",value:function(e,t,n,i){var o=le.getAuthenticatorIcon(n)||le.getAuthenticatorIcon(com.ts.mobile.sdk.AuthenticatorType.Generic),a=new ue(t,null,o,null,null,i?[I.LockedState]:null);this.authList.addListItem(e,i,a)}},{key:"onSubmit",value:function(e){this.onSubmitCB=e}}]),t}(pe);!function(e){e[e.Resume=-1]="Resume",e[e.Continue=0]="Continue",e[e.Cancel=1]="Cancel"}(_e||(_e={}));var fe,ve,ye,Ce,ke=function(){function e(){n(this,e)}return o(e,null,[{key:"createContinueConfirmationInput",value:function(){return com.ts.mobile.sdk.ConfirmationInput.create(0)}},{key:"createCancelConfirmationInput",value:function(){return com.ts.mobile.sdk.ConfirmationInput.create(1)}},{key:"createResumeConfirmationInput",value:function(){return com.ts.mobile.sdk.ConfirmationInput.create(-1)}},{key:"createCancelAuthenticatorRequest",value:function(){var e=com.ts.mobile.sdk.ControlRequest.create(com.ts.mobile.sdk.ControlRequestType.CancelAuthenticator);return com.ts.mobile.sdk.InputOrControlResponse.createControlResponse(e)}},{key:"isContinueConfirmationInput",value:function(e){return 0===e}},{key:"isResumeConfirmationInput",value:function(e){return-1===e}},{key:"createTargetsSelectionResponse",value:function(e){var t=com.ts.mobile.sdk.TargetBasedAuthenticatorInput.createTargetsSelectionRequest(e);return com.ts.mobile.sdk.InputOrControlResponse.createInputResponse(t)}},{key:"createAbortControlResponse",value:function(){var e=com.ts.mobile.sdk.ControlRequest.create(com.ts.mobile.sdk.ControlRequestType.AbortAuthentication);return com.ts.mobile.sdk.InputOrControlResponse.createControlResponse(e)}},{key:"getDeviceNameFromDeviceDetails",value:function(t){var n=t.getAlias();return e.getDeviceName(n,t)}},{key:"getLastAccessedFromDeviceDetails",value:function(e,t){var n=new Date(t.getLastAccessed()).toLocaleString();return e.formatString(G.ts_authenticator_mobile_approve_targets_recently_used,[n])}},{key:"getDeviceName",value:function(e,t){var n=t.getModel(),i=t.getOsType(),o=t.getOsVersion();return e||"".concat(n," ").concat(i," ").concat(o)}}]),e}(),be="xmui-information-dialog-page",we=function(e){function t(e,i){var o;n(this,t),(o=l(this,r(t).call(this,V.dialog_information,be))).automationId=V.dialog_information;var a=new de(V.button_continue);return a.label=i||e.getString(G.ts_authenticator_password_cta_positive),a.value=!0,o.addRightButton(a),a.focus(),o}return s(t,e),t}(W),Se=function(){function e(){n(this,e)}return o(e,null,[{key:"getAuthenticatorNameKey",value:function(e){return"".concat("ts_authenticator_").concat(e)}},{key:"getAuthenticatorDescriptionKey",value:function(e){return"question"==e&&(e="questions"),"".concat("ts_authenticator_").concat(e,"_description")}}]),e}(),xe=new(function(){function e(){n(this,e),this._isLogEnabled=!0}return o(e,[{key:"init",value:function(){this.lastPage=null,this.isBusy=!1,this.isLogEnabled=!0}},{key:"lastPage",set:function(e){this._lastPage=e},get:function(){return this._lastPage}},{key:"isBusy",set:function(e){this._isBusy=e},get:function(){return this._isBusy}},{key:"isLogEnabled",set:function(e){this._isLogEnabled=e},get:function(){return this._isLogEnabled}}]),e}()),Ie=function(e){function t(){var e;n(this,t),(e=l(this,r(t).call(this))).className="xmui-busy-overlay";var i=new T;return i.className="xmui-busy-overlay_icon",e.appendChild(i),e}return s(t,e),t}(T),Ee=function(){function e(){n(this,e)}return o(e,null,[{key:"getContainer",value:function(e){var t;e&&e.uiContainer&&(t=x(e.uiContainer)),null!=t&&0!==t.length||0===(t=x("#transmitContainer")).length&&(t=x('<div                                             id="transmitContainer"                                             style="position: relative; width: 100%; height: 100%">'),x(document.documentElement).append(t));var n=t.find("#xmui-main-container");return 0===n.length&&(n=x('<div                                      id="xmui-main-container"                                      style="position:relative; width:100%; height:100%">'),t.content(n)),n}},{key:"clearContainer",value:function(t){xe.lastPage=null,e.getContainer(t).empty()}},{key:"getUsernameFromClientContext",value:function(e){return e&&e.username}},{key:"activityStarted",value:function(t){if(xe.lastPage)xe.lastPage.busy=!0;else{e.clearContainer(t);var n=e.getContainer(t);(new Ie).appendInto(n)}}},{key:"activityEnded",value:function(t){xe.lastPage?xe.lastPage.busy=!1:e.clearContainer(t)}},{key:"setLogEnabled",value:function(e){xe.isLogEnabled=e}},{key:"log",value:function(e){xe.isLogEnabled&&console.log(e)}},{key:"renderPage",value:function(t,n){this.clearContainer(n),t.appendInto(e.getContainer(n)),xe.lastPage=t}},{key:"presentUI",value:function(t,n){this.clearContainer(n),e.getContainer(n).append(t),xe.lastPage=null}},{key:"renderModal",value:function(t,n){t.appendInto(e.getContainer(n))}},{key:"getControlActionButtonsInfo",value:function(){var e;fe||(a(e={},com.ts.mobile.sdk.ControlRequestType.ChangeMethod,{automationId:V.button_change_method,label:G.ts_promise_co_change,positionLeft:!1}),a(e,com.ts.mobile.sdk.ControlRequestType.AbortAuthentication,{automationId:V.button_abort,label:G.ts_promise_co_abort,positionLeft:!0,isDefault:!0}),a(e,com.ts.mobile.sdk.ControlRequestType.RetryAuthenticator,{automationId:V.button_retry,label:G.ts_promise_co_retry,positionLeft:!1}),a(e,com.ts.mobile.sdk.ControlRequestType.SelectMethod,{automationId:V.button_select_method,label:G.ts_promise_co_select,positionLeft:!1}),a(e,com.ts.mobile.sdk.ControlRequestType.CancelAuthenticator,{automationId:V.button_cancel,label:G.ts_gen_cancel,positionLeft:!1,isDefault:!0}),fe=e);return fe}},{key:"getRecoveryActionButtonsInfo",value:function(){var e;ve||(a(e={},com.ts.mobile.sdk.AuthenticationErrorRecovery.ChangeAuthenticator,{automationId:V.button_change_method,label:G.ts_promise_co_change,positionLeft:!1}),a(e,com.ts.mobile.sdk.AuthenticationErrorRecovery.Fail,{automationId:V.button_abort,label:G.ts_promise_co_abort,positionLeft:!0,isDefault:!0}),a(e,com.ts.mobile.sdk.AuthenticationErrorRecovery.RetryAuthenticator,{automationId:V.button_retry,label:G.ts_promise_co_retry,positionLeft:!1}),a(e,com.ts.mobile.sdk.AuthenticationErrorRecovery.SelectAuthenticator,{automationId:V.button_select_method,label:G.ts_promise_co_select,positionLeft:!1}),ve=e);return ve}},{key:"getFallbackActionButtonsInfo",value:function(){var e;ye||(a(e={},com.ts.mobile.sdk.AuthenticatorFallbackAction.Fallback,{automationId:V.button_change_method,label:G.ts_promise_co_change,positionLeft:!1}),a(e,com.ts.mobile.sdk.AuthenticatorFallbackAction.Cancel,{automationId:V.button_abort,label:G.ts_promise_co_abort,positionLeft:!0,isDefault:!0}),a(e,com.ts.mobile.sdk.AuthenticatorFallbackAction.Retry,{automationId:V.button_retry,label:G.ts_promise_co_retry,positionLeft:!1}),a(e,com.ts.mobile.sdk.AuthenticatorFallbackAction.AuthMenu,{automationId:V.button_select_method,label:G.ts_promise_co_select,positionLeft:!1}),ye=e);return ye}},{key:"buildDialogButtons",value:function(e,t,n,i){n.forEach((function(n){var o=i[n];if(o){var a=new de(o.automationId);a.value=n.toString(),a.label=t.getString(o.label),o.positionLeft?e.addLeftButton(a):e.addRightButton(a)}}))}},{key:"failureDataToPolicyRejectionDialogParams",value:function(e,t){var n,i=null,o=t.getUiContext();if(e&&e.reason){var a=e.reason;switch(a.type){case"policy":i={title:G.ts_promise_rejection_policy_title,text:G.ts_promise_rejection_policy_content,buttonText:G.ts_promise_rejection_policy_cta};break;case"approval_expired":i={title:G.ts_promise_rejection_approval_expired_title,text:G.ts_promise_rejection_approval_expired_content,buttonText:G.ts_promise_rejection_approval_expired_cta};break;case"feature_not_supported":i={title:G.ts_promise_rejection_feature_not_supported_title,text:G.ts_promise_rejection_feature_not_supported_content,buttonText:G.ts_promise_rejection_feature_not_supported_cta};break;case"cannot_consume_ticket":i={title:G.ts_promise_rejection_cannot_consume_ticket_title,text:G.ts_promise_rejection_cannot_consume_ticket_content,buttonText:G.ts_promise_rejection_cannot_consume_ticket_cta};break;case"username_already_exists":n=[a.data&&a.data.username],i={title:G.ts_promise_rejection_username_already_exists_title,text:G.ts_promise_rejection_username_already_exists_content,buttonText:G.ts_promise_rejection_username_already_exists_cta};break;case"locked":switch(a.data&&a.data.lock_type){case"user":i={title:G.ts_promise_rejection_locked_user_title,text:G.ts_promise_rejection_locked_user_content,buttonText:G.ts_promise_rejection_locked_user_cta};break;case"device":i={title:G.ts_promise_rejection_locked_device_title,text:G.ts_promise_rejection_locked_device_content,buttonText:G.ts_promise_rejection_locked_device_cta};break;case"application":i={title:G.ts_promise_rejection_locked_application_title,text:G.ts_promise_rejection_locked_application_content,buttonText:G.ts_promise_rejection_locked_application_cta}}}}return i&&(i.title=o.getString(i.title),i.text=n?o.formatString(i.text,n):o.getString(i.text),i.buttonText=o.getString(i.buttonText)),i}}]),e}(),Ae=function(e){function t(e,i,o,a,s,c,u){var _;return n(this,t),(_=l(this,r(t).call(this,e,i,o,a))).dialogContent=new z,_.dialogContent.setDialogTitle(s),_.dialogContent.setDialogMessage(c),_.dialogContent.setDialogIconClass(u),_.setContent(_.dialogContent),_}return s(t,e),t}(pe),Pe="xmui-confirmation-action-dialog-page",Te=function(e){function t(e,i,o,a,s,c){var u;return n(this,t),(u=l(this,r(t).call(this,V.dialog_confirm,Pe,e,null!=c,i,o,a))).continueButton=new de(V.button_continue),u.continueButton.label=s,u.continueButton.onClick((function(){return u.onContinueCB&&u.onContinueCB()})),u.addRightButton(u.continueButton),c&&(u.cancelButton.label=c),u}return s(t,e),o(t,[{key:"onContinue",value:function(e){this.onContinueCB=e}}]),t}(Ae),Re=function(){function e(){n(this,e)}return o(e,null,[{key:"promiseCancelAction",value:function(e,t,n,i,o){var a,s=function(e){return e.indexOf(com.ts.mobile.sdk.ControlRequestType.SelectMethod)>-1?com.ts.mobile.sdk.ControlRequestType.SelectMethod:e.indexOf(com.ts.mobile.sdk.ControlRequestType.ChangeMethod)>-1?com.ts.mobile.sdk.ControlRequestType.ChangeMethod:com.ts.mobile.sdk.ControlRequestType.AbortAuthentication};return a=1==n.overrideAuthenticatorCancelBehavior?s(e):i==com.ts.mobile.sdk.AuthenticatorSessionMode.Authentication?s(e):com.ts.mobile.sdk.ControlRequestType.AbortAuthentication,new Promise((function(e,t){e(com.ts.mobile.sdk.ControlRequest.create(a))}))}},{key:"promiseCancelActionForNonBaseAuthenticatorSession",value:function(e){var t=com.ts.mobile.sdk.ControlRequestType.AbortAuthentication;return Promise.resolve(com.ts.mobile.sdk.ControlRequest.create(t))}},{key:"promiseRecoveryForError",value:function(e,t,n,i,o,a,s){var r=!1,c=e.getData();c&&c.additional_data&&c.additional_data.locked&&(r=!0);var u,l,_=t;return t.indexOf(com.ts.mobile.sdk.AuthenticationErrorRecovery.ChangeAuthenticator)>=0&&t.indexOf(com.ts.mobile.sdk.AuthenticationErrorRecovery.SelectAuthenticator)>=0&&(_=t.filter((function(e){return e!=com.ts.mobile.sdk.AuthenticationErrorRecovery.ChangeAuthenticator}))),r?(u=G.ts_promise_error_lock_title,l=i.getString(G.ts_promise_error_lock_content)):a===com.ts.mobile.sdk.AuthenticatorSessionMode.Authentication?(u=G.ts_promise_error_default_title_auth,l=i.formatString(G.ts_promise_error_default_content_auth,[e.getMessage()])):(u=G.ts_promise_error_default_title_reg,l=i.formatString(G.ts_promise_error_default_content_reg,[e.getMessage()])),this.createRecoveryFromErrorDialog(s,i.getString(u),l,r?I.AuthLocked:I.Error,i,o,_)}},{key:"createRecoveryFromErrorDialog",value:function(e,t,n,i,o,a,s){return new Promise((function(n,r){var c=new W(V.dialog_recovery,"xmui-error-recovery-dialog-page");c.setUserName(e),c.setDialogTitle(t),c.setDialogMessage(o.getString(G.ts_promise_co_content)),c.setDialogIconClass(i),c.onSelect((function(e){c.blockInteraction(),n(parseInt(e))}));var u=Ee.getRecoveryActionButtonsInfo();Ee.buildDialogButtons(c,o,s,u),Ee.renderPage(c,a)}))}},{key:"promiseAuthenticator",value:function(e,t,n){var i=t.getUiContext();return new Promise((function(o,a){var s={},r=new ge(t),c=Ee.getUsernameFromClientContext(n);c&&r.setUserName(c),r.setTitle(i.getString(G.ts_promise_sa_title)),r.setInstructions(i.getString(G.ts_promise_sa_content)),e.forEach((function(e){var t=e.getAuthenticator();if(t.getEnabled()&&!t.getLocked()&&t.getRegistered()){var n=t.getAuthenticatorId(),o=t.getType();s[n]=t;var a=i.getString(Se.getAuthenticatorNameKey(n));r.addAuthenticator(n,a,o,!1)}})),r.onSubmit((function(e){r.blockInteraction(),o(com.ts.mobile.sdk.AuthenticatorSelectionResult.createSelectionRequest(s[e]))})),r.onCancel((function(){r.blockInteraction(),o(com.ts.mobile.sdk.AuthenticatorSelectionResult.createAbortRequest())})),r.onEscape((function(e){r.blockInteraction(),o(com.ts.mobile.sdk.AuthenticatorSelectionResult.createEscapeRequest(e,{}))})),Ee.renderPage(r,n)}))}},{key:"promiseInformationInput",value:function(e,t,n,i,o,a,s){return new Promise((function(r,c){var u=new we(a,o);e&&u.setUserName(e),u.setDialogTitle(n),u.setDialogMessage(i),u.setDialogIconClass(t),u.onSelect((function(){u.blockInteraction(),r()})),Ee.renderPage(u,s)}))}},{key:"internalPromiseConfirmationOrInformationActionInput",value:function(e,t,n,i,o,a,s,r,c){return new Promise((function(u,l){var _=new Te(r,n,i,t,o,s);e&&_.setUserName(e),_.onContinue((function(){u(com.ts.mobile.sdk.ConfirmationInput.create(a))})),_.onCancel((function(){u(ke.createCancelConfirmationInput())})),_.onEscape((function(e){u(com.ts.mobile.sdk.ConfirmationInput.createEscapeRequest(e,{}))})),Ee.renderPage(_,c)}))}},{key:"promiseInformationActionInput",value:function(e,t,n,i,o,a,s){return this.internalPromiseConfirmationOrInformationActionInput(e,t,n,i,o,-1,null,a,s)}},{key:"promiseConfirmationActionInput",value:function(e,t,n,i,o,a,s,r){return this.internalPromiseConfirmationOrInformationActionInput(e,t,n,i,o,0,a,s,r)}},{key:"promiseAuthenticatorFallbackAction",value:function(e,t,n,i,o,a){return new Promise((function(n,s){var r=o.getUiContext(),c=i.description.getAuthenticatorId(),u=r.getString(Se.getAuthenticatorNameKey(c)),l=new W(V.dialog_fallback,"xmui-auth-fallback-dialog-page");e&&l.setUserName(e),l.setDialogTitle(r.formatString(G.ts_promise_fallback_title,[u])),l.setDialogMessage(r.getString(G.ts_promise_fallback_content)),l.setDialogIconClass(I.Fallback),l.onSelect((function(e){l.blockInteraction(),n(parseInt(e))}));var _=Ee.getFallbackActionButtonsInfo();Ee.buildDialogButtons(l,r,t,_),Ee.renderPage(l,a)}))}},{key:"promisePolicyRejectionInput",value:function(t,n,i,o,a,s){var r={title:t,text:n,buttonText:i};if(!(t&&n&&i||(r=Ee.failureDataToPolicyRejectionDialogParams(o,a))))return Promise.resolve(ke.createResumeConfirmationInput());var c=o,u=c&&c.reason&&c.reason.data&&c.reason.data.username||Ee.getUsernameFromClientContext(s);return e.promiseInformationInput(u,I.Rejection,r.title,r.text,r.buttonText,a.getUiContext(),s).then((function(){return ke.createResumeConfirmationInput()}))}}]),e}(),Me="xmui-confirmation-dialog-page",Be=function(e){function t(e,i,o){var a,s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];n(this,t),(a=l(this,r(t).call(this,V.dialog_confirm,Me))).automationId=V.dialog_confirm;var c=new de(V.button_cancel);c.label=o||e.getString(G.ts_gen_cancel),c.value=!1,a.addLeftButton(c);var u=new de(V.button_continue);return u.label=i||e.getString(G.ts_authenticator_password_cta_positive),u.value=!0,a.addRightButton(u),s?u.focus():c.focus(),a}return s(t,e),t}(W),Ne=function(){function e(t,i){n(this,e),this.showExpirationDialog=!1,this.supportsInlineError=!1,this.title=t,this.username=i,this.authId=t}return o(e,[{key:"startSession",value:function(e,t,n,i){this.description=e,this.mode=t,this.actionContext=n,this.clientContext=i,this.uiContext=n.getUiContext(),this.username=Ee.getUsernameFromClientContext(i)||this.username,Ee.log("Starting session; session mode: [".concat(this.mode,"], authenticator: [").concat(this.title,"]"))}},{key:"changeSessionModeToRegistrationAfterExpiration",value:function(){Ee.log("Changing session mode to registration after expiration; authenticator: [".concat(this.title,"]")),this.mode=com.ts.mobile.sdk.AuthenticatorSessionMode.Registration,this.clearError(),this.showExpirationDialog=!0}},{key:"promiseRecoveryForError",value:function(e,t,n){return Ee.log("Starting error recovery; session mode: [".concat(this.mode,"], authenticator: [").concat(this.title,"], error: [").concat(e,"]")),this.supportsInlineError&&n===com.ts.mobile.sdk.AuthenticationErrorRecovery.RetryAuthenticator?(this.setError(e),Promise.resolve(n)):n===com.ts.mobile.sdk.AuthenticationErrorRecovery.Fail?Promise.resolve(n):Re.promiseRecoveryForError(e,t,n,this.uiContext,this.clientContext,this.mode,this.username)}},{key:"endSession",value:function(){Ee.log("Ending session; session mode: [".concat(this.mode,"], authenticator: [").concat(this.title,"]"))}},{key:"promiseInput",value:function(){var e=this;return new Promise((function(t,n){switch(e.setInputResolver(t),e.mode){case com.ts.mobile.sdk.AuthenticatorSessionMode.Authentication:Ee.log("Fetching authentication input; authenticator: [".concat(e.title,"]")),e.showAuthUi();break;case com.ts.mobile.sdk.AuthenticatorSessionMode.Registration:Ee.log("Fetching registration input; authenticator: [".concat(e.title,"]")),e.showExpirationDialog?(e.showExpirationDialog=!1,e.showRegUiAfterExpiration()):e.showRegUi()}})).then((function(t){return e.clearError(),t}))}},{key:"promiseCancelAction",value:function(e){return Re.promiseCancelAction(e,this.actionContext,this.clientContext,this.mode,this.username)}},{key:"showRegUiAfterExpiration",value:function(){var e=this,t=this.uiContext,n=t.getString(Se.getAuthenticatorNameKey(this.title)),i=new Be(this.uiContext);i.setUserName(this.username),i.setDialogTitle(t.formatString(G.ts_session_authenticator_expired_title,[n])),i.setDialogIconClass(I.Expiration),i.setDialogMessage(t.getString(G.ts_session_authenticator_expired_content)),i.onSelect((function(t){i.blockInteraction(),t?e.showRegUi():e.onCancel()})),Ee.renderPage(i,this.clientContext)}},{key:"setInputResolver",value:function(e){this.currentInputResolveFn=e}},{key:"onCancel",value:function(){this.resolveInputPromise(ke.createCancelAuthenticatorRequest())}},{key:"onEscape",value:function(e){var t=com.ts.mobile.sdk.InputOrControlResponse.createEscapeResponse(e,{});this.resolveInputPromise(t)}},{key:"resolveInputPromise",value:function(e){if(this.currentInputResolveFn){var t=this.currentInputResolveFn;this.currentInputResolveFn=null,t(e)}}},{key:"showAuthenticatorPage",value:function(e){var t=this;e.setUserName(this.username),e.onCancel((function(){e.blockInteraction(),t.onCancel()})),e.onEscape((function(n){e.blockInteraction(),t.onEscape(n)})),Ee.renderPage(e,this.clientContext)}},{key:"setError",value:function(e){if(e){this.authError=e;var t=e.getMessage();this.authErrorMessage=this.mode===com.ts.mobile.sdk.AuthenticatorSessionMode.Authentication?this.uiContext.formatString(G.ts_promise_error_default_content_auth,[t]):this.uiContext.formatString(G.ts_promise_error_default_content_reg,[t])}else this.clearError()}},{key:"clearError",value:function(){this.authError=null,this.authErrorMessage=""}}]),e}(),De=function(e){function t(e,i){var o;return n(this,t),(o=l(this,r(t).call(this))).stateOnIcon=e,o.stateOffIcon=i,o.isOn=!1,o.setIconsClass(),o.onClick((function(){o.isOn=!o.isOn,o.setIconsClass(),o.onChangeCB&&o.onChangeCB(o.isOn)})),o}return s(t,e),o(t,[{key:"onChange",value:function(e){this.onChangeCB=e}},{key:"setIsOn",value:function(e){this.isOn=e,this.setIconsClass()}},{key:"setIconsClass",value:function(){var e="";e=this.isOn?this.stateOnIcon:this.stateOffIcon,this.element.setClass("".concat("xmui-toggle-icon"," ").concat(e))}}]),t}(T);function qe(e,t,n){var i;return function(){var o=this,a=arguments,s=function(){i=null,n||e.apply(o,a)},r=n&&!i;clearTimeout(i),i=setTimeout(s,t),r&&e.apply(o,a)}}!function(e){e.Numeric="numeric"}(Ce||(Ce={}));var Fe,Le=function(e){function t(e){var i;return n(this,t),(i=l(this,r(t).call(this))).automationId=e,i.inputHtmlElement=i.htmlElement,i}return s(t,e),o(t,[{key:"buildElement",value:function(){return x("<input>")}},{key:"onChange",value:function(e){this.element.on("input",this.createCB(e))}},{key:"createCB",value:function(e){return qe(e,100,!1)}},{key:"name",set:function(e){this.inputHtmlElement.name=e},get:function(){return this.inputHtmlElement.name}},{key:"type",set:function(e){this.attr={type:e},this.inputHtmlElement.type}},{key:"inputmode",set:function(e){this.attr={inputmode:e,"x-inputmode":e}}},{key:"placeholder",set:function(e){this.inputHtmlElement.placeholder=e}},{key:"minlength",set:function(e){this.attr={minlength:e.toString()}}},{key:"maxlength",set:function(e){this.attr={maxlength:e.toString()}}},{key:"autocomplete",set:function(e){this.attr={autocomplete:e}}},{key:"autocorrect",set:function(e){this.attr={autocorrect:e?"on":"off"}}},{key:"autocapitalize",set:function(e){this.attr={autocapitalize:e?"on":"off"}}},{key:"value",set:function(e){this.inputHtmlElement.value=e},get:function(){return this.inputHtmlElement.value}},{key:"disabled",set:function(e){p(r(t.prototype),"disabled",e,this,!0),this.inputHtmlElement.disabled=e}},{key:"required",set:function(e){this.inputHtmlElement.required=e},get:function(){return this.inputHtmlElement.required}}]),t}(E),Oe="xmui-form-field-message",je="".concat(Oe,"--center"),Ue="".concat(Oe,"--error"),Qe=function(e){function t(){var e,i=arguments.length>0&&void 0!==arguments[0]&&arguments[0],o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n(this,t),(e=l(this,r(t).call(this))).id=Y.generate(),e.className=Oe,i&&e.addClass(Ue),o&&e.addClass(je),e}return s(t,e),t}(A),Ve=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,He=function(){function e(){n(this,e)}return o(e,null,[{key:"email",value:function(e){return Ve.test(e)?void 0:"Invalid Email"}},{key:"required",value:function(e){return e?void 0:"Required"}},{key:"mobileNumber",value:function(e){var t=e.match(/^([0-9]{1,3})-([1-9][0-9]+)$/);return t?t[1].length+t[2].length>15?"Mobile Number exceeded 15 digits":void 0:"Invalid Mobile Number"}}]),e}(),Ke=function(){function e(){n(this,e)}return o(e,null,[{key:"positiveInteger",value:function(e){var t=e.keyCode;(t!==H.Enter&&t<H.Zero||t>H.Nine)&&e.preventDefault()}}]),e}(),ze=function(e){function t(){return n(this,t),l(this,r(t).apply(this,arguments))}return s(t,e),t}(T),We="xmui-input-field",Ge=/^[0-9]+$/,Ze="".concat(We,"--has-value"),Ye="".concat(We,"--has-focus");!function(e){e[e.Password=0]="Password",e[e.Text=1]="Text",e[e.Email=2]="Email",e[e.PositiveInteger=3]="PositiveInteger"}(Fe||(Fe={}));var $e,Xe=function(e){function t(e,i){var o;n(this,t),(o=l(this,r(t).call(this))).inputType=e,o.hasValue=!1,o.validators=[],o.icons=new Map,o.className=We,o.inputComponent=new Le(i),o.inputComponent.value="",o.inputComponent.autocapitalize=!1,o.inputComponent.autocorrect=!1,o.inputComponent.spellcheck=!1,o.inputComponent.onPaste(o.handlePaste.bind(u(o))),o.inputComponent.onChange(o.handleChange.bind(u(o)));var a=new T;a.className="".concat(We,"_row");var s=new T;s.className="".concat(We,"_container");var c=new T;c.className="".concat(We,"_input-and-label");var _=new T;_.className="".concat(We,"_label-container");var h=new A;switch(h.className="".concat(We,"_label"),o.inputLabel=h,_.appendChild(o.inputLabel),c.appendChildren(o.inputComponent,_),s.appendChild(c),a.appendChildren(s),a.onFocusIn((function(){o.addClass(Ye)})),a.onFocusOut((function(){o.removeClass(Ye)})),e){case Fe.Password:o.setupPasswordInput(s);break;case Fe.Text:o.inputComponent.type="text";break;case Fe.Email:o.setupEmailInput();break;case Fe.PositiveInteger:o.setupPositiveIntegerInput()}return o.messageComp=new Qe(!1),o.messageComp.show=!1,o.errorMessageComp=new Qe(!0),o.appendChildren(a,o.messageComp,o.errorMessageComp),o.inputComponent.ariaDescribedBy=o.messageComp.id,o.labelContainer=_,o.container=s,o.inputRow=a,o}return s(t,e),o(t,[{key:"addRightButton",value:function(e,t){var n=new A;return n.className="".concat(We,"_label_cta"),n.setText(e),n.onClick(t),this.container.appendChild(n),n}},{key:"addValidators",value:function(e){this.validators=this.validators.concat(e)}},{key:"addValidator",value:function(e){this.validators.push(e)}},{key:"focus",value:function(){this.inputComponent.focus()}},{key:"onBlur",value:function(e){this.inputComponent.onBlur(e)}},{key:"onFocus",value:function(e){this.inputComponent.onFocus(e)}},{key:"onChange",value:function(e){this.inputComponent.onChange(e)}},{key:"validateAndSetErrorMessage",value:function(){var e=this,t=!0,n=this.value.trim();return this.inputComponent.required?[this.getRequiredValidator()].concat(m(this.validators)):this.validators,!this.inputComponent.required&&this.isEmpty||(t=!this.validators.some((function(t){var i=t(n);return i&&e.setError(i),!!i}))),t&&this.clearError(),t}},{key:"setError",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.error=!0,this.errorMessage=e||"",t&&(this.value="")}},{key:"clearError",value:function(){this.error=!1,this.errorMessage=""}},{key:"getRequiredValidator",value:function(){return He.required}},{key:"addIcon",value:function(e){var t=new T;t.className="".concat(We,"_icon ").concat(e),this.container.appendChild(t),this.icons.set(e,t)}},{key:"removeIcon",value:function(e){var t=this.icons.get(e);t&&(this.container.removeChild(t),this.icons.delete(e))}},{key:"prependToInputRow",value:function(e){this.inputRow.prependChild(e)}},{key:"setupPasswordInput",value:function(e){var t=this;this.inputComponent.type="password";var n=new De(I.PasswordVisible,I.PasswordHidden);n.setIsOn(!1),n.onChange((function(e){t.inputComponent.type=e?"text":"password"})),e.appendChild(n)}},{key:"setupPositiveIntegerInput",value:function(){this.inputComponent.type="text",this.inputComponent.onKeypress((function(e,t){return Ke.positiveInteger(t)}))}},{key:"setupEmailInput",value:function(){this.inputComponent.type="email",this.addValidator(He.email)}},{key:"handlePaste",value:function(e){var t;this.inputType==Fe.PositiveInteger&&((t=e.clipboardData&&e.clipboardData.getData?e.clipboardData.getData("text/plain"):window.clipboardData.getData("Text"))&&!Ge.test(t)&&e.preventDefault())}},{key:"updateHasValue",value:function(e){e?this.addClass(Ze):this.removeClass(Ze),this.hasValue=e}},{key:"handleChange",value:function(){var e=this.checkHasValue();this.hasValue!==e&&this.updateHasValue(e)}},{key:"checkHasValue",value:function(){return!!this.value.length}},{key:"name",set:function(e){this.inputComponent.name=e},get:function(){return this.inputComponent.name}},{key:"disabled",set:function(e){this.inputComponent.disabled=e}},{key:"message",set:function(e){this.messageComp.setText(e),this.messageComp.show=!!e.length}},{key:"value",set:function(e){this.inputComponent.value=e,this.handleChange()},get:function(){return this.inputComponent.value}},{key:"type",get:function(){return this.inputType}},{key:"ariaRole",set:function(e){this.inputComponent.ariaRole=e}},{key:"ariaLabel",set:function(e){this.inputComponent.ariaLabel=e}},{key:"automationId",set:function(e){this.inputComponent.automationId=e}},{key:"autocomplete",set:function(e){this.inputComponent.autocomplete=e}},{key:"placeholder",set:function(e){this.placeholderText=e,this.inputLabel.setText(e)},get:function(){return this.placeholderText}},{key:"minlength",set:function(e){this.inputComponent.minlength=e}},{key:"maxlength",set:function(e){this.inputComponent.maxlength=e}},{key:"required",set:function(e){this.inputComponent.required=e},get:function(){return this.inputComponent.required}},{key:"isEmpty",get:function(){return!this.value.trim().length}},{key:"errorMessage",set:function(e){this.errorMessageComp.setText(e)}}]),t}(ze),Je="xmui-form",et="".concat(Je,"_hidden-submit-button"),tt=function(e){function t(e){var i;if(n(this,t),(i=l(this,r(t).call(this))).submitButton=e,i.externalValidations=function(){return!0},i.className=Je,i.submitButton){var o=new de("");o.addClass(et),o.type=ie.Submit,o.disabled=!0,o.onClick((function(){return i.handleSubmit()})),i.appendChild(o),i.hiddenSubmitButton=o,i.submitButton&&i.submitButton.onClick((function(){return i.handleSubmit()}))}return i.element.on("submit",(function(){return event.preventDefault()})),i.element.on("input",qe(i.handleInputEvent.bind(u(i)),100,!1)),i}return s(t,e),o(t,[{key:"buildElement",value:function(){return x("<form novalidate></form>")}},{key:"start",value:function(){this.updateSubmitButton()}},{key:"onSubmit",value:function(e){this.onSubmitCB=e}},{key:"onUserInput",value:function(e){this.onUserInputCB=e}},{key:"handleSubmit",value:function(){this.validate()&&this.onSubmitCB&&this.onSubmitCB(this.buildFormResult()),this.updateSubmitButton()}},{key:"updateSubmitButton",value:function(){if(this.submitButton){var e=this.isMandatoryEmpty();this.submitButton.disabled=this.hiddenSubmitButton.disabled=e}}},{key:"isMandatoryEmpty",value:function(){return this.getFormFields(this).some((function(e){return e.required&&e.isEmpty}))}},{key:"getFormFields",value:function(e){var t=this,n=[];return e.getChildren().forEach((function(e){e instanceof ze?n.push(e):e instanceof P&&(n=n.concat(t.getFormFields(e)))})),n}},{key:"validate",value:function(){var e=this.getFormFields(this).reduce((function(e,t){return t.validateAndSetErrorMessage()&&e}),!0),t=this.externalValidations();return e&&t}},{key:"buildFormResult",value:function(){return this.getFormFields(this).reduce((function(e,t){return e[t.name]="string"==typeof t.value?t.value.trim():t.value,e}),{})}},{key:"handleInputEvent",value:function(){this.updateSubmitButton(),this.onUserInputCB&&this.onUserInputCB()}},{key:"name",set:function(e){this.attr={name:e}}}]),t}(P);!function(e){e.Off="off",e.Username="username",e.NewPassword="new-password",e.CurrentPassword="current-password"}($e||($e={}));var nt,it=function(e){function t(e,i,o,a,s){var c;return n(this,t),(c=l(this,r(t).call(this,e,i,o))).recoveryAction=a,c.authenticatorId=s,c}return s(t,e),o(t,[{key:"addRecoveryButtonToForm",value:function(e){var t=this;if(this.recoveryAction&&this.authenticatorId){var n=new de(V.button_recovery,oe.Recovery);n.label=this.uiContext.formatString(G.ts_gen_recovery,[this.uiContext.getString(Se.getAuthenticatorNameKey(this.authenticatorId))]),n.onClick((function(){return t.handleEscapeButtonClicked(t.recoveryAction)})),e.appendChild(n)}}}]),t}(pe),ot="xmui-password-authentication",at="xmui-password-registration",st=function(e){function t(e,i,o,a){var s,c=arguments.length>4&&void 0!==arguments[4]&&arguments[4];n(this,t),(s=l(this,r(t).call(this,i?V.page_password_reg:V.page_password_auth,i?at:ot,e,o,a))).isRegistrationMode=i,s.disableAutocomplete=c,s.passwordInputRegex=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d]{6,}$/,s.setTitle(s.getTitle()),s.setInstructions(s.getInstructions());var u=new de(V.button_continue);u.label=s.uiContext.getString(G.ts_authenticator_password_cta_positive),s.addRightButton(u),s.continueButton=u;var _=s.createForm();return s.setContent(_),s}return s(t,e),o(t,[{key:"setError",value:function(e){this.error=!0,this.passwordInput.setError(e)}},{key:"clearError",value:function(){this.error=!1,this.passwordInput.clearError()}},{key:"reset",value:function(){this.unblockInteraction(),this.passwordInput.value="",this.passwordInput.focus(),this.repeatPasswordInput&&(this.repeatPasswordInput.value="")}},{key:"onSubmit",value:function(e){this.onSubmitCB=e}},{key:"getTitle",value:function(){var e=this.isRegistrationMode?G.ts_authenticator_password_title_reg:G.ts_authenticator_password_title_auth;return this.uiContext.getString(e)}},{key:"getInstructions",value:function(){var e;return e=this.isRegistrationMode?G.ts_authenticator_password_intro_reg:G.ts_authenticator_password_intro_auth,this.uiContext.getString(e)}},{key:"createForm",value:function(){var e=this,t=this.uiContext,n=new tt(this.continueButton);n.addClass("xmui-password-page-form"),n.id="xmui-password-form";var i=new Xe(Fe.Password,V.input_password),o=this.getAutocompleteValue();if(i.name="password",i.placeholder=t.getString(G.ts_authenticator_password_field_hint),i.disabled=!1,i.value="",i.required=!0,i.autocomplete=o,i.ariaLabel=t.getString(G.ts_accessibility_password_enter_password),i.focus(),this.passwordInput=i,n.appendChild(i),this.isRegistrationMode){var a=new T;a.className="".concat("xmui-password-page-form","_spacer"),n.appendChild(a);var s=new Xe(Fe.Password,V.input_repeat_password);s.name="repeat-password",s.placeholder=t.getString(G.ts_authenticator_password_reg_field_hint),s.disabled=!1,s.value="",s.required=!0,i.autocomplete=o,s.ariaLabel=t.getString(G.ts_accessibility_password_enter_password_again),this.repeatPasswordInput=s,n.appendChild(s)}return this.addRecoveryButtonToForm(n),n.externalValidations=function(){var t=!0;return e.isRegistrationMode&&(e.validatePasswordsMatch()||(e.repeatPasswordInput.setError(e.uiContext.getString(G.ts_authenticator_password_error_reg_no_match),!1),e.passwordInput.focus(),t=!1),e.isPasswordValid()||(e.passwordInput.setError(e.uiContext.getString(G.ts_authenticator_password_error_reg_strength_validation_failed),!1),e.repeatPasswordInput.setError(null,!0),e.passwordInput.focus(),t=!1),0==t&&(e.passwordInput.value="",e.repeatPasswordInput.value="")),t},n.onUserInput(this.handlePasswordChanged.bind(this)),n.onSubmit((function(t){e.blockInteraction(),e.onSubmitCB&&e.onSubmitCB(t.password)})),n.start(),n}},{key:"validatePasswordsMatch",value:function(){return this.passwordInput.value===this.repeatPasswordInput.value}},{key:"isPasswordValid",value:function(){return this.passwordInputRegex.test(this.passwordInput.value)}},{key:"getAutocompleteValue",value:function(){return this.disableAutocomplete?$e.Off:this.isRegistrationMode?$e.NewPassword:$e.CurrentPassword}},{key:"handlePasswordChanged",value:function(){this.passwordInput.error&&this.passwordInput.clearError(),this.repeatPasswordInput&&this.repeatPasswordInput.error&&this.repeatPasswordInput.clearError()}}]),t}(it),rt=function(e){function t(e,i){var o;return n(this,t),(o=l(this,r(t).call(this,e,i))).supportsInlineError=!0,o}return s(t,e),o(t,[{key:"showAuthUi",value:function(){this.showPasswordPage(!1)}},{key:"showRegUi",value:function(){this.showPasswordPage(!0)}},{key:"showPasswordPage",value:function(e){var t=this;if(this.authError&&this.passwordPage)this.passwordPage.reset(),this.passwordPage.setError(this.authErrorMessage);else{var n=!0===this.clientContext.disablePasswordAutocomplete,i=new st(this.actionContext,e,this.description.getCredentialRecoveryEscapeOption(),this.description.getAuthenticatorId(),n);this.showAuthenticatorPage(i),this.passwordPage=i}this.passwordPage.onSubmit((function(e){var n=com.ts.mobile.sdk.PasswordInput.create(e);t.resolveInputPromise(com.ts.mobile.sdk.InputOrControlResponse.createInputResponse(n))}))}}]),t}(Ne),ct="xmui-select-device-page",ut=function(e){function t(e){var i;n(this,t),(i=l(this,r(t).call(this,V.page_select_device,ct,e))).selectedDevices=[],i.deviceKeys=[];var o=new de(V.button_send_to_all);o.label=i.uiContext.getString(G.ts_authenticator_mobile_approve_send_to_all),o.onClick((function(){i.onSubmitCB&&i.onSubmitCB(i.deviceKeys)})),i.addRightButton(o);var a=new de(V.button_continue);a.label=i.uiContext.getString(G.ts_authenticator_password_cta_positive),a.disabled=!0,a.onClick((function(){i.onSubmitCB&&i.onSubmitCB(i.selectedDevices)})),i.addRightButton(a),i.confirmButton=a;var s=i.createContent();return i.setContent(s),i}return s(t,e),o(t,[{key:"createContent",value:function(){var e=this;return this.deviceList=new re(J.Multiple),this.deviceList.onSelectionChanged((function(t){e.selectedDevices=t,e.confirmButton.disabled=0===t.length})),this.deviceList.focus(),this.deviceList}},{key:"addDevice",value:function(e,t,n,i){var o=new ue(t,n,I.Device);this.deviceList.addListItem(e,i,o),this.deviceKeys.push(e)}},{key:"onSubmit",value:function(e){this.onSubmitCB=e}}]),t}(it),lt=function(e){function t(){return n(this,t),l(this,r(t).apply(this,arguments))}return s(t,e),o(t,[{key:"buildElement",value:function(){return x("<img></img>")}},{key:"src",set:function(e){this.attr={src:e}}}]),t}(E),_t="xmui-mobile-approve-pending",ht=function(e){function t(e,i,o,a){var s;n(this,t);var c=(s=l(this,r(t).call(this,V.page_mobile_approve,_t,e))).createContent(i,o,a);return s.setContent(c),p(r(t.prototype),"busy",!0,u(s),!0),s}return s(t,e),o(t,[{key:"createContent",value:function(e,t,n){var i=new T;return i.className="".concat(_t,"_container"),i.appendChild(this.createSpacer()),null==t?this.createNoCodeContent(e,i):t===com.ts.mobile.sdk.OtpFormatType.Numeric?this.createNumericCodeContent(n,e,i):t===com.ts.mobile.sdk.OtpFormatType.QrCode&&this.createQRCodeContent(n,e,i),i}},{key:"createMessage",value:function(e){var t=new A;return t.setText(e),t.className="".concat(_t,"_message"),t}},{key:"createSpacer",value:function(){var e=new T;return e.className="".concat(_t,"_spacer"),e}},{key:"createNoCodeContent",value:function(e,t){var n=new T;n.className="".concat(_t,"_icon ").concat(I.MobileApproveWaiting);var i=this.createMessage(e);t.appendChildren(n,this.createSpacer(),i,this.createSpacer())}},{key:"createNumericCodeContent",value:function(e,t,n){var i=this.createMessage(t),o=new A;return o.className="".concat(_t,"_numeric-code"),o.setText(e),n.appendChildren(i,this.createSpacer(),o,this.createSpacer()),n}},{key:"createQRCodeContent",value:function(e,t,n){var i=this.createMessage(t),o=new T;o.className="".concat(_t,"_qr-code-container");var a=new lt;return a.className="".concat(_t,"_qr-code"),a.src=e,o.appendChild(a),n.appendChildren(i,this.createSpacer(),o),n}},{key:"busy",set:function(e){}}]),t}(it);!function(e){e[e.TargetSelection=0]="TargetSelection",e[e.PollingRequested=1]="PollingRequested",e[e.PollingStarted=2]="PollingStarted"}(nt||(nt={}));var dt,pt=function(e){function t(e,i,o){var a;return n(this,t),(a=l(this,r(t).call(this,e,i))).state=nt.TargetSelection,a.pollingIntervalMillis=3e3,a.instructions=o,a}return s(t,e),o(t,[{key:"setPollingIntervalInMillis",value:function(e){this.pollingIntervalMillis=e}},{key:"setCreatedApprovalInfo",value:function(e,t){null!=e?(this.setupOtp(t),this.state=nt.PollingRequested):(this.setupOtp(null),this.state=nt.TargetSelection,clearTimeout(this.pollingTimer))}},{key:"setAvailableTargets",value:function(e){this.availableTargets=e}},{key:"endSession",value:function(){h(r(t.prototype),"endSession",this).call(this),clearTimeout(this.pollingTimer)}},{key:"promiseInput",value:function(){var e,t=this;switch(this.mode){case com.ts.mobile.sdk.AuthenticatorSessionMode.Authentication:switch(Ee.log("Fetching Mobile Approve authentication input;"),this.state){case nt.TargetSelection:e=this.promiseTargetSelectionInput();break;case nt.PollingRequested:this.state=nt.PollingStarted,this.showPendingUI(),e=this.startPolling();break;case nt.PollingStarted:e=this.startPolling()}break;case com.ts.mobile.sdk.AuthenticatorSessionMode.Registration:}return(e=e||Promise.reject("Illegal state")).then((function(e){return t.clearError(),e}))}},{key:"promiseTargetSelectionInput",value:function(){var e=this;return new Promise((function(t,n){e.setInputResolver(t);var i=new ut(e.actionContext);i.setTitle(e.uiContext.getString(G.ts_authenticator_mobile_approve)),i.setInstructions(e.uiContext.getString(G.ts_authenticator_mobile_approve_targets_intro));var o={};e.availableTargets.forEach((function(t){var n=t.getDeviceDetails(),a=n.getDeviceId(),s=ke.getDeviceNameFromDeviceDetails(n),r=ke.getLastAccessedFromDeviceDetails(e.uiContext,n);o[a]=t,i.addDevice(a,s,r,!1)})),i.onSubmit((function(t){i.blockInteraction();var n=t.map((function(e){return o[e]})),a=ke.createTargetsSelectionResponse(n);e.resolveInputPromise(a)})),e.showAuthenticatorPage(i)}))}},{key:"showPendingUI",value:function(){var e=new ht(this.actionContext,this.instructions,this.otpType,this.otpCode);e.setTitle(this.uiContext.getString(G.ts_authenticator_mobile_approve)),this.showAuthenticatorPage(e)}},{key:"onCancel",value:function(){this.currentInputResolveFn?(clearTimeout(this.pollingTimer),h(r(t.prototype),"onCancel",this).call(this)):this.pendingRequest=ke.createCancelAuthenticatorRequest()}},{key:"onEscape",value:function(e){clearTimeout(this.pollingTimer),h(r(t.prototype),"onEscape",this).call(this,e)}},{key:"setupOtp",value:function(e){if(e){var t=e.getFormat().getType();switch(this.otpType=t,t){case com.ts.mobile.sdk.OtpFormatType.Numeric:this.otpCode=e.getValue();break;case com.ts.mobile.sdk.OtpFormatType.QrCode:this.otpCode="data:image/jpeg;base64,"+e.getValue();break;default:throw Ee.log("Unsupported otp format"),new Error("Unsupported otp format")}}else this.otpType=null,this.otpCode=null}},{key:"startPolling",value:function(){var e=this;return new Promise((function(t,n){e.setInputResolver(t),e.pollingTimer=setTimeout((function(){if(e.pendingRequest)e.resolveInputPromise(e.pendingRequest),e.pendingRequest=null;else{var t=com.ts.mobile.sdk.MobileApproveInputRequestPolling.createRequestPollingInput(),n=com.ts.mobile.sdk.TargetBasedAuthenticatorInput.createAuthenticatorInput(t),i=com.ts.mobile.sdk.InputOrControlResponse.createInputResponse(n);e.resolveInputPromise(i)}}),e.pollingIntervalMillis)}))}},{key:"showAuthUi",value:function(){throw new Error("Method not implemented")}},{key:"showRegUi",value:function(){throw new Error("Method not implemented")}}]),t}(Ne),mt="xmui-pin-code",gt=function(e){function t(e,i){var o;n(this,t),(o=l(this,r(t).call(this))).digits=[],o.className=mt,o.mainInput=new Le(e),o.mainInput.className="".concat(mt,"_input");var a=new T;a.className="".concat(mt,"_container"),o.messageComp=new Qe(!0,!0),o.changeHandler=o.changeHandler.bind(u(o));for(var s=0;s<i;s++){var c=new Le(e+"_digit_"+s);c.className="".concat(mt,"_digit"),c.type="text",c.maxlength=1,c.autocomplete=$e.Off,c.inputmode=Ce.Numeric,c.ariaLabel="pin code digit ".concat(s+1),c.onKeydown(o.keydownHandler),c.onFocus(o.focusHandler),c.onChange(o.changeHandler),0===s?(c.tabindex=0,c.ariaDescribedBy=o.messageComp.id):c.tabindex=-1,o.digits.push(c),a.appendChild(c)}return o.appendChildren(o.mainInput,a,o.messageComp),o}return s(t,e),o(t,[{key:"focus",value:function(){var e=this.digits[0];e&&e.focus()}},{key:"onChange",value:function(e){this.changeCB=e}},{key:"setError",value:function(e){this.error=!0,this.errorMessage=e||""}},{key:"clearError",value:function(){this.error=!1,this.errorMessage=""}},{key:"keydownHandler",value:function(e,t){var n=t.target;"Backspace"===t.key&&0===n.selectionStart&&0===n.selectionEnd&&n.previousElementSibling instanceof HTMLInputElement&&n.previousElementSibling.className==="".concat(mt,"_digit")&&(n.previousElementSibling.value="",n.previousElementSibling.focus())}},{key:"focusHandler",value:function(e){var t=e.target;t.value.length&&(t.selectionStart=0,t.selectionEnd=t.value.length)}},{key:"changeHandler",value:function(e){var t=e.target;if(t.value=t.value.replace(/[^\d]/g,""),1===t.value.length&&t.nextElementSibling instanceof HTMLInputElement&&t.nextElementSibling.className==="".concat(mt,"_digit")){var n=t.nextElementSibling;n.focus(),n.selectionStart=0,n.selectionEnd=1}var i="";this.digits.forEach((function(e){i+=e.value})),this.mainInput.value=i,this.changeCB&&this.changeCB()}},{key:"name",set:function(e){this.mainInput.name=e}},{key:"value",set:function(e){this.mainInput.value=e,this.digits.forEach((function(t,n){t.value=e[n]||""}))},get:function(){return this.mainInput.value}},{key:"errorMessage",set:function(e){this.messageComp.setText(e)}}]),t}(T),ft="xmui-pin-code-authentication",vt="xmui-pin-code-registration";!function(e){e[e.Enter=0]="Enter",e[e.Repeat=1]="Repeat"}(dt||(dt={}));var yt=function(e){function t(e,i,o,a,s){var c;n(this,t),(c=l(this,r(t).call(this,o?V.page_pin_reg:V.page_pin_auth,o?vt:ft,e,a,s))).numDigits=i,c.isRegistrationMode=o,c.mode=dt.Enter,c.setTitle(c.getTitle()),c.setInstructions(c.getInstructions());var _=c.createForm();if(c.setContent(_),c.isRegistrationMode){var h=new de(V.button_reset);h.label=c.uiContext.getString(G.ts_gen_restart),h.disabled=!0,h.onClick(c.handleReset.bind(u(c))),c.resetButton=h,c.addRightButton(h)}return c}return s(t,e),o(t,[{key:"onSubmit",value:function(e){this.onSubmitCB=e}},{key:"setError",value:function(e){this.error=!0,this.pinCode.setError(e)}},{key:"clearError",value:function(){this.pinCode.clearError(),this.error=!1}},{key:"getTitle",value:function(){var e=this.isRegistrationMode?G.ts_authenticator_pin_title_reg:G.ts_authenticator_pin_title_auth;return this.uiContext.getString(e)}},{key:"getRegModeInstructions",value:function(){var e=this.mode===dt.Enter?G.ts_authenticator_pin_intro_reg:G.ts_authenticator_pin_intro_repeat;return this.uiContext.getString(e)}},{key:"getInstructions",value:function(){return this.isRegistrationMode?this.getRegModeInstructions():this.uiContext.getString(G.ts_authenticator_pin_intro_auth)}},{key:"handleReset",value:function(){this.mode=dt.Enter,this.pinCode.value="",this.pinCode.focus(),this.enteredPinCode=null,this.resetButton.disabled=!0,this.setInstructions(this.getInstructions())}},{key:"handleNoMatch",value:function(){this.pinCode.value="",this.pinCode.setError(this.uiContext.getString(G.ts_authenticator_pin_error_reg_no_match)),this.pinCode.focus()}},{key:"submitPinCode",value:function(e){this.onSubmitCB&&this.onSubmitCB(e)}},{key:"repeat",value:function(){this.mode=dt.Repeat,this.pinCode.value="",this.pinCode.focus(),this.resetButton.disabled=!1,this.setInstructions(this.getInstructions())}},{key:"handleRegPinCodeChanged",value:function(e){this.mode===dt.Enter?(this.enteredPinCode=e,this.repeat()):this.enteredPinCode===e?this.submitPinCode(e):this.handleNoMatch()}},{key:"handlePinCodeChanged",value:function(){this.clearError();var e=this.pinCode.value;e.length===this.numDigits&&(this.isRegistrationMode?this.handleRegPinCodeChanged(e):this.submitPinCode(e))}},{key:"createForm",value:function(){var e=new tt;e.addClass("xmui-pin-code-form");var t=new gt(V.input_pin_code,this.numDigits);return t.name="pin-code",t.value="",t.onChange(this.handlePinCodeChanged.bind(this)),t.focus(),this.pinCode=t,e.appendChild(t),this.addRecoveryButtonToForm(e),e}}]),t}(it),Ct=function(e){function t(e,i,o){var a;return n(this,t),(a=l(this,r(t).call(this,e,i))).supportsInlineError=!0,a.pinLength=o,a}return s(t,e),o(t,[{key:"showAuthUi",value:function(){this.showPinCodePage(!1)}},{key:"showRegUi",value:function(){this.showPinCodePage(!0)}},{key:"showPinCodePage",value:function(e){var t=this,n=new yt(this.actionContext,this.pinLength,e,this.description.getCredentialRecoveryEscapeOption(),this.description.getAuthenticatorId());this.authError&&n.setError(this.authErrorMessage),n.onSubmit((function(e){n.blockInteraction();var i=com.ts.mobile.sdk.PinInput.create(e);t.resolveInputPromise(com.ts.mobile.sdk.InputOrControlResponse.createInputResponse(i))})),this.showAuthenticatorPage(n)}}]),t}(Ne);function kt(){}function bt(e){return e instanceof NodeList||e instanceof HTMLCollection?Array.prototype.slice.call(e):[e]}function wt(e,t){if("string"==typeof t)return window.getComputedStyle(e)[t];Object.keys(t).forEach((function(n){var i=t[n];e.style[n]=i}))}function St(e,t){var n=t.split(" ");n.length>1?n.forEach((function(t){return St(e,t)})):e.classList?e.classList.add(t):e.className+=" ".concat(t)}function xt(e,t){var n=t.split(" ");n.length>1?n.forEach((function(t){return xt(e,t)})):e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)".concat(t.split(" ").join("|"),"(\\b|$)"),"gi")," ")}function It(e){bt(e).forEach((function(e){e.parentNode.removeChild(e)}))}function Et(e,t,n,i){var o=t-e,a=i-n;return{length:Math.ceil(Math.sqrt(o*o+a*a)),angle:Math.round(180*Math.atan2(a,o)/Math.PI)}}var At=new WeakMap,Pt=function(){function e(){n(this,e),this.holder=null,this.option=null,this.mapperFunc=kt,this.holderLeft=0,this.holderTop=0,this.disabled=!1,this.patternAry=[],this.lastPosObj=[],this.rightPattern=null,this.onSuccess=kt,this.onError=kt,this.pattCircle=null,this.lineX1=0,this.lineY1=0,this.line=null,this.lastPosObj=null,this.dotYOffest=null}return o(e,[{key:"getElementsFromPoint",value:function(e,t){if(document.elementsFromPoint)return document.elementsFromPoint(e,t);for(var n=[],i=document.msElementsFromPoint(e,t),o=i.length,a=0;a<o;a++)n.push(i.item(a));return n}},{key:"getIdxFromPoint",value:function(e,t){var n,i,o,a,s=e-this.holderLeft,r=t-this.holderTop;if(this.getElementsFromPoint(e,t).some((function(e){return-1!=e.className.indexOf("patt-circ")&&(n=e.firstElementChild,!0)})),n){var c=this.option.matrix,u=parseInt(n.getAttribute("patt-dots-index"));a=u+1,i=u%c[1]+1,o=Math.floor(u/c[1])+1}return{idx:a,i:i,j:o,x:s,y:r}}},{key:"markPoint",value:function(e,t){St(e,"hovered"),this.patternAry.push(t),this.lastElm=e}},{key:"addLine",value:function(e){var t=this.dotYOffest,n=this.pattCircle,i=this.patternAry,o=this.holderLeft,a=this.holderTop,s=this.holder,r=this.option.lineOnMove,c=n[e.idx-1].firstElementChild.getBoundingClientRect(),u=c.left+c.width/2-o,l=c.top+c.height/2-a;if(i.length>1){var _=Et(this.lineX1,u,this.lineY1,l),h=_.length,d=_.angle;wt(this.line,{width:"".concat(h,"px"),transform:"rotate(".concat(d,"deg)")}),r||wt(this.line,{display:"block"})}if(null==t){var p=document.createElement("div");p.className="patt-lines",p.style.width="0px",p.style.visibility="hidden",p.style.position="absolute",p.style.top="0px",p.style.left="0px",s.appendChild(p);var m=p.getBoundingClientRect();this.dotYOffest=m.height/2,s.removeChild(p)}var g,f,v=(g='<div class="patt-lines" style="top:'.concat(l-this.dotYOffest,"px; left: ").concat(u,'px;"></div>'),(f=document.createElement("div")).innerHTML=g,f.children[0]);this.line=v,this.lineX1=u,this.lineY1=l,this.holder.appendChild(v),r||wt(this.line,{display:"none"})}},{key:"addDirectionClass",value:function(e){var t=this.lastElm,n=this.line,i=this.lastPosObj,o=[];if(e.j-i.j>0?o.push("s"):e.j-i.j<0&&o.push("n"),e.i-i.i>0?o.push("e"):e.i-i.i<0&&o.push("w"),o=o.join("-")){var a="".concat(o," dir");St(t,a),St(n,a)}}}]),e}(),Tt=function(){function e(i){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n(this,e),this._onStart=this._onStart.bind(this),this._onMove=this._onMove.bind(this),this._onEnd=this._onEnd.bind(this),this._renderCircle=this._renderCircle.bind(this);var a=new Pt,s=i;if(s&&0!==s.length){var r={onDraw:kt,onStart:kt},c=o.matrix;c&&c[0]*c[1]>9&&(r.delimiter=","),a.option=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return n.forEach((function(t){Object.keys(t).forEach((function(n){e[n]=t[n]}))})),e}({},e.defaults,r,o),a.circContainerWidth=100/a.option.matrix[1],a.circContainerHeight=100/a.option.matrix[0];var u=a.option.mapper;"object"===t(u)?a.mapperFunc=function(e){return u[e]}:a.mapperFunc="function"==typeof u?u:kt,a.option.mapper=null,a.holder=s,At.set(this,a),this._render(),St(s,"patt-holder"),"static"===wt(s,"position")&&wt(s,{position:"relative"}),s.addEventListener("touchstart",this._onStart),s.addEventListener("mousedown",this._onStart)}}return o(e,[{key:"getPattern",value:function(){var e=At.get(this),t=e.patternAry,n=e.option;return(t||[]).join(n.delimiter)}},{key:"setPattern",value:function(e){var t=At.get(this),n=t.option,i=n.matrix,o=n.margin,a=n.radius,s=n.enableSetPattern,r=n.delimiter;if(s){var c="string"==typeof e?e.split(r):e;this.reset(),t.holderLeft=0,t.holderTop=0;for(var u=0;u<c.length;u+=1){var l=c[u]-1,_=l%i[1]*(2*o+2*a)+2*o+a,h=Math.floor(l/i[1])*(2*o+2*a)+2*o+a;this._onMove.call(null,{clientX:_,clientY:h,preventDefault:kt},this)}}}},{key:"enable",value:function(){At.get(this).disabled=!1}},{key:"disable",value:function(){At.get(this).disabled=!0}},{key:"reset",value:function(){var e=At.get(this);bt(e.pattCircle).forEach((function(e){return xt(e,"hovered dir s n w e s-w s-e n-w n-e")})),It(e.holder.querySelectorAll(".patt-lines")),e.patternAry=[],e.lastPosObj=null,xt(e.holder,"patt-error")}},{key:"setError",value:function(){St(At.get(this).holder,"patt-error")}},{key:"clearError",value:function(){xt(At.get(this).holder,"patt-error")}},{key:"checkForPattern",value:function(e,t,n){var i=At.get(this);i.rightPattern=e,i.onSuccess=t||kt,i.onError=n||kt}},{key:"_onStart",value:function(e){var t=At.get(this),n=t.holder,i=t.option;if(e.preventDefault(),!t.disabled){t.option.patternVisible||St(t.holder,"patt-hidden"),this.moveEvent="touchstart"===e.type?"touchmove":"mousemove",this.endEvent="touchstart"===e.type?"touchend":"mouseup",n.addEventListener(this.moveEvent,this._onMove),document.addEventListener(this.endEvent,this._onEnd);var o=t.holder.getBoundingClientRect();t.holderTop=o.top,t.holderLeft=o.left,this.reset(),i.onStart()}}},{key:"_onMove",value:function(e){e.preventDefault();var t=At.get(this),n=t.option,i=t.patternAry,o=e.clientX||e.touches[0].clientX,a=e.clientY||e.touches[0].clientY,s=t.pattCircle,r=t.getIdxFromPoint(o,a),c=r.idx,u=t.mapperFunc(c)||c;if(i.length>0){var l=Et(t.lineX1,r.x,t.lineY1,r.y),_=l.length,h=l.angle;wt(t.line,{width:"".concat(_+2,"px"),transform:"rotate(".concat(h,"deg)")})}if(c&&(n.allowRepeat&&i[i.length-1]!==u||-1===i.indexOf(u))){var d=s[c-1];if(t.lastPosObj)for(var p=t.lastPosObj,m=r.i-p.i>0?1:-1,g=r.j-p.j>0?1:-1,f=p.i,v=p.j,y=Math.abs(r.i-f),C=Math.abs(r.j-v);0===y&&C>1||0===C&&y>1||C===y&&C>1;){f=y?f+m:f,v=C?v+g:v,y=Math.abs(r.i-f),C=Math.abs(r.j-v);var k=(v-1)*n.matrix[1]+f,b=t.mapperFunc(k)||k;(n.allowRepeat||-1===i.indexOf(b))&&(t.addDirectionClass({i:f,j:v}),t.markPoint(s[b-1],b),t.addLine({idx:c,i:f,j:v}))}t.lastPosObj&&t.addDirectionClass(r),t.markPoint(d,u),t.addLine(r),t.lastPosObj=r}}},{key:"_onEnd",value:function(e){e.preventDefault();var t=At.get(this),n=t.option,i=t.patternAry.join(n.delimiter);t.holder.removeEventListener(this.moveEvent,this._onMove),document.removeEventListener(this.endEvent,this._onEnd),xt(t.holder,"patt-hidden"),i&&(It(t.line),n.onDraw(i),t.rightPattern&&(i===t.rightPattern?t.onSuccess():(t.onError(),this.error())))}},{key:"_renderCircle",value:function(e,t){var n=At.get(this),i=n.circContainerHeight,o=n.circContainerWidth;return'<div class="patt-circ-container" style="width: '.concat(o,"%; height: ").concat(i,"%; flex-basis: ").concat(o,'%;">\n                <div class="patt-circ">\n                  <div patt-dots-index=').concat(t,' class="patt-dots"></div>\n                </div>\n            </div>')}},{key:"_render",value:function(){var e=At.get(this),t=e.option,n=e.holder,i=t.matrix,o=(t.margin,t.radius,'<div class="patt-wrap">\n                    '.concat(function(e,t){for(var n=new Array(e),i=0;i<e;i++)n[i]=t;return n}(i[0]*i[1]).map(this._renderCircle).join(""),"\n                  </div>"));n.innerHTML=o,e.pattCircle=e.holder.querySelectorAll(".patt-circ")}},{key:"option",value:function(e,t){var n=At.get(this).option;return void 0===t?n[e]:(n[e]=t,"margin"!==e&&"matrix"!==e&&"radius"!==e||this._render(),this)}}]),e}();Tt.defaults={matrix:[3,3],margin:20,radius:25,patternVisible:!0,lineOnMove:!0,delimiter:"",enableSetPattern:!1,allowRepeat:!0};var Rt,Mt="xmui-pattern-lock",Bt="".concat(Mt,"_pattern"),Nt=function(e){function t(e,i,o){var a;n(this,t),(a=l(this,r(t).call(this))).className=Mt,a.tabindex=0,a.mainInput=new Le(e),a.mainInput.className="".concat(Mt,"_input"),a.appendChild(a.mainInput),a.handleSelectedPattern=a.handleSelectedPattern.bind(u(a)),a.handlePatternStarted=a.handlePatternStarted.bind(u(a));var s=new T;return s.className=Bt,a.patternLockExt=new Tt(s.htmlElement,{matrix:[o,i],onDraw:a.handleSelectedPattern,onStart:a.handlePatternStarted}),a.messageComp=new Qe(!0,!0),a.ariaDescribedBy=a.messageComp.id,a.appendChildren(s,a.messageComp),a}return s(t,e),o(t,[{key:"setError",value:function(e){this.error=!0,this.errorMessage=e||"",this.patternLockExt.setError()}},{key:"clearError",value:function(){this.error=!1,this.errorMessage="",this.patternLockExt.clearError()}},{key:"reset",value:function(){this.patternLockExt.reset()}},{key:"onChange",value:function(e){this.changeCB=e}},{key:"onStart",value:function(e){this.startCB=e}},{key:"handleSelectedPattern",value:function(e){this.mainInput.value=e,this.changeCB&&this.changeCB()}},{key:"handlePatternStarted",value:function(){this.startCB&&this.startCB()}},{key:"name",set:function(e){this.mainInput.name=e}},{key:"value",set:function(e){},get:function(){return this.mainInput.value}},{key:"errorMessage",set:function(e){this.messageComp.setText(e)}}]),t}(T),Dt="xmui-pattern-authentication",qt="xmui-pattern-registration";!function(e){e[e.Enter=0]="Enter",e[e.Repeat=1]="Repeat"}(Rt||(Rt={}));var Ft,Lt=function(e){function t(e,i,o,a,s,c){var _;n(this,t),(_=l(this,r(t).call(this,a?V.page_pattern_reg:V.page_pattern_auth,a?qt:Dt,e,s,c))).isRegistrationMode=a,_.mode=Rt.Enter,_._minPoints=4,_.setTitle(_.getTitle()),_.setInstructions(_.getInstructions());var h=_.createForm(i,o);if(_.setContent(h),_.isRegistrationMode){var d=new de(V.button_reset);d.label=_.uiContext.getString(G.ts_authenticator_pattern_cta_reset),d.disabled=!0,d.onClick(_.handleReset.bind(u(_))),_.resetButton=d,_.addRightButton(d)}return _}return s(t,e),o(t,[{key:"onSubmit",value:function(e){this.onSubmitCB=e}},{key:"setError",value:function(e){this.error=!0,this.patternLock.setError(e)}},{key:"clearError",value:function(){this.error=!1,this.patternLock.clearError()}},{key:"handleReset",value:function(){this.mode=Rt.Enter,this.patternLock.reset(),this.enteredPattern=null,this.resetButton.disabled=!0,this.setInstructions(this.getInstructions()),this.clearError()}},{key:"getTitle",value:function(){var e=this.isRegistrationMode?G.ts_authenticator_pattern_title_reg:G.ts_authenticator_pattern_title_auth;return this.uiContext.getString(e)}},{key:"getRegModeInstructions",value:function(){var e=this.mode===Rt.Enter?G.ts_authenticator_pattern_intro_reg:G.ts_authenticator_pattern_intro_repeat;return this.uiContext.getString(e)}},{key:"getInstructions",value:function(){return this.isRegistrationMode?this.getRegModeInstructions():this.uiContext.getString(G.ts_authenticator_pattern_intro_auth)}},{key:"handleNoMatch",value:function(){this.patternLock.setError(this.uiContext.getString(G.ts_authenticator_pattern_mismatch))}},{key:"submitPattern",value:function(e){this.onSubmitCB&&this.onSubmitCB(e)}},{key:"repeat",value:function(){this.patternLock.reset(),this.mode=Rt.Repeat,this.resetButton.disabled=!1,this.setInstructions(this.getInstructions())}},{key:"validateLength",value:function(e){return JSON.parse("["+e+"]").length>=this._minPoints}},{key:"handleRegPatternChangedEnterMode",value:function(e){this.validateLength(e)?(this.enteredPattern=e,this.repeat()):this.notifyShortPattern()}},{key:"notifyShortPattern",value:function(){this.patternLock.setError(this.uiContext.getString(G.ts_authenticator_pattern_error_min_points))}},{key:"handleRegPattrenChanged",value:function(e){this.mode===Rt.Enter?this.handleRegPatternChangedEnterMode(e):this.enteredPattern===e?this.submitPattern(e):this.handleNoMatch()}},{key:"handlePattrenChanged",value:function(){var e=this.patternLock.value;this.isRegistrationMode?this.handleRegPattrenChanged(e):this.submitPattern(e)}},{key:"handlePatternStarted",value:function(){this.clearError()}},{key:"createForm",value:function(e,t){var n=new tt;n.addClass("xmui-pattern-form");var i=new Nt(V.input_pattern_lock,e,t);return i.name="pattern",i.onChange(this.handlePattrenChanged.bind(this)),i.onStart(this.handlePatternStarted.bind(this)),i.focus(),this.patternLock=i,n.appendChild(i),this.addRecoveryButtonToForm(n),n}},{key:"minPoints",set:function(e){e>2&&(this._minPoints=e)}}]),t}(it),Ot=function(e){function t(e,i,o,a){var s;return n(this,t),(s=l(this,r(t).call(this,e,i))).gridWidth=o,s.gridHeight=a,s.supportsInlineError=!0,s}return s(t,e),o(t,[{key:"showAuthUi",value:function(){this.showPatternPage(!1)}},{key:"showRegUi",value:function(){this.showPatternPage(!0)}},{key:"showPatternPage",value:function(e){var t=this,n=new Lt(this.actionContext,this.gridWidth,this.gridHeight,e,this.description.getCredentialRecoveryEscapeOption(),this.description.getAuthenticatorId());this.authError&&n.setError(this.authErrorMessage),n.onSubmit((function(e){n.blockInteraction();var i=com.ts.mobile.sdk.PatternInput.create(t.createPatternInputString(e));t.resolveInputPromise(com.ts.mobile.sdk.InputOrControlResponse.createInputResponse(i))})),this.showAuthenticatorPage(n)}},{key:"pointsIndexToCoorinate",value:function(e){var t=this;return e.map((function(e){return{y:Math.floor((e-1)/t.gridWidth),x:(e-1)%t.gridWidth}}))}},{key:"createPatternInputString",value:function(e){var t=JSON.parse("[".concat(e,"]"));return this.pointsIndexToCoorinate(t).map((function(e){return"r:".concat(e.y,",c:").concat(e.x)})).join("")}}]),t}(Ne),jt="xmui-tabs",Ut=function(e){function t(){var e;return n(this,t),(e=l(this,r(t).call(this))).tabs=new Map,e.className=jt,e}return s(t,e),o(t,[{key:"addTab",value:function(e,t){var n=this,i=new T;i.className="".concat(jt,"_tab"),i.appendChild(t),this.tabs.set(e,i),this.appendChild(i),i.onClick((function(){i!==n.selectedTab&&(n.selectTab(i),n.selectionChangedCB&&n.selectionChangedCB(e))}))}},{key:"selectTabByKey",value:function(e){var t=this.tabs.get(e);this.selectTab(t)}},{key:"onSelectionChanged",value:function(e){this.selectionChangedCB=e}},{key:"selectTab",value:function(e){e&&(this.unselectCurrentTab(),e.selected=!0,this.selectedTab=e)}},{key:"unselectCurrentTab",value:function(){this.selectedTab&&(this.selectedTab.selected=!1,this.selectedTab=null)}}]),t}(T),Qt="xmui-tabbed-panels",Vt=function(e){function t(){var e;return n(this,t),(e=l(this,r(t).call(this))).keyToPanel=new Map,e.curKey=0,e.className=Qt,e.tabs=new Ut,e.tabs.onSelectionChanged(e.selectPanel.bind(u(e))),e.container=new T,e.container.className="".concat(Qt,"_container"),e.appendChildren(e.tabs,e.container),e}return s(t,e),o(t,[{key:"addPanel",value:function(e,t){var n=this.generateKey();this.tabs.addTab(n,e),t.show=!1,this.container.appendChild(t),this.keyToPanel.set(n,t),1===this.keyToPanel.size&&(this.tabs.selectTabByKey(n),this.selectPanel(n))}},{key:"generateKey",value:function(){return(++this.curKey).toString()}},{key:"selectPanel",value:function(e){var t=this.keyToPanel.get(e);t!==this.selectedPanel&&(t.show=!0,this.selectedPanel&&(this.selectedPanel.show=!1),this.selectedPanel=t)}}]),t}(T),Ht="xmui-tab-content",Kt="".concat(Ht,"_title"),zt="".concat(Ht,"_icon"),Wt=function(e){function t(){var e;return n(this,t),(e=l(this,r(t).call(this))).className=Ht,e.iconComp=new T,e.iconComp.className=zt,e.titleComp=new A,e.titleComp.className=Kt,e.appendChildren(e.iconComp,e.titleComp),e}return s(t,e),o(t,[{key:"title",set:function(e){this.titleComp.setText(e)}},{key:"icon",set:function(e){this.iconComp.className="".concat(zt," ").concat(e)}}]),t}(T),Gt="xmui-select-channel-page",Zt=function(e){function t(e){var i,o;n(this,t),(o=l(this,r(t).call(this,V.page_otp_select_channel,Gt,e))).typeToList=new Map,o.channelTypeToLocalizationKey=(a(i={},com.ts.mobile.sdk.OtpChannel.Sms,G.ts_authenticator_otp_sms_title),a(i,com.ts.mobile.sdk.OtpChannel.Email,G.ts_authenticator_otp_email_title),a(i,com.ts.mobile.sdk.OtpChannel.PushNotification,G.ts_authenticator_otp_push_title),a(i,com.ts.mobile.sdk.OtpChannel.VoiceCall,G.ts_authenticator_otp_voice_title),i);var s=o.createContent();return o.setContent(s),o.handleSelectionChanged=o.handleSelectionChanged.bind(u(o)),o}return s(t,e),o(t,[{key:"createContent",value:function(){return this.tabbedPanels=new Vt,this.tabbedPanels}},{key:"addChannelTarget",value:function(e){var t=this.typeToList.get(e.channel)||this.createTabbedList(e),n=new ue(e.targetName,e.targetInfo);t.addListItem(e.targetId,!1,n)}},{key:"onSubmit",value:function(e){this.onSubmitCB=e}},{key:"handleSelectionChanged",value:function(e){this.onSubmitCB&&this.onSubmitCB(e[0])}},{key:"createList",value:function(e){var t=new re;return this.typeToList.set(e,t),t.onSelectionChanged(this.handleSelectionChanged),t}},{key:"createTabbedList",value:function(e){var t=new Wt,n=this.channelTypeToLocalizationKey[e.channel]||"UNKNOWN";t.title=this.uiContext.getString(n),t.icon=le.getChannelIcon(e.channel);var i=this.createList(e.channel);return this.tabbedPanels.addPanel(t,i),i}}]),t}(it),Yt="xmui-message-with-action",$t=function(e){function t(){var e;return n(this,t),(e=l(this,r(t).call(this))).className=Yt,e.message=new A,e.message.className="".concat(Yt,"_message"),e.action=new A,e.action.className="".concat(Yt,"_action"),e.appendChildren(e.message,e.action),e}return s(t,e),o(t,[{key:"setMessage",value:function(e){this.message.setText(e)}},{key:"setAction",value:function(e,t){this.action.setText(e),this.onClick(t)}}]),t}(T),Xt="xmui-otp-page",Jt="".concat(Xt,"_content"),en="".concat(Xt,"_message-container"),tn=7,nn=function(e){function t(e,i,o){var a;n(this,t),(a=l(this,r(t).call(this,V.page_otp_auth,Xt,e))).numDigits=i,a.useBackButton=o,a.useNormalInput=a.numDigits>tn,a.setTitle(a.uiContext.getString(G.ts_authenticator_otp_title_auth));var s=a.createContent();if(a.setContent(s),o&&(a.cancelButton.automationId=V.button_back,a.cancelButton.label=a.uiContext.getString(G.ts_gen_back)),a.useNormalInput){var c=new de(V.button_continue);c.label=a.uiContext.getString(G.ts_gen_continue),c.disabled=!0,c.onClick((function(){a.submitOtpCode(a.otpCodeComp.value)})),a.continueButton=c,a.addRightButton(c)}return a}return s(t,e),o(t,[{key:"handleCancelButtonClicked",value:function(){this.useBackButton?this.onBackCB&&this.onBackCB():h(r(t.prototype),"handleCancelButtonClicked",this).call(this)}},{key:"onBack",value:function(e){this.onBackCB=e}},{key:"onSubmit",value:function(e){this.onSubmitCB=e}},{key:"onResend",value:function(e){this.onResendCB=e}},{key:"setError",value:function(e){this.error=!0,this.otpCodeComp.setError(e)}},{key:"clearError",value:function(){this.otpCodeComp.clearError(),this.error=!1}},{key:"submitOtpCode",value:function(e){this.onSubmitCB&&this.onSubmitCB(e)}},{key:"handleOtpCodeChanged",value:function(){this.clearError();var e=this.otpCodeComp.value;this.useNormalInput?this.continueButton.disabled=null==e||0===e.length:null!=e&&e.length===this.numDigits&&this.submitOtpCode(e)}},{key:"createForm",value:function(){var e=new tt;return this.useNormalInput?(this.otpCodeComp=new Xe(Fe.PositiveInteger,V.input_otp_code),this.otpCodeComp.autocomplete=$e.Off):this.otpCodeComp=new gt(V.input_otp_code,this.numDigits),this.otpCodeComp.name="otp-code",this.otpCodeComp.value="",this.otpCodeComp.focus(),this.otpCodeComp.onChange(this.handleOtpCodeChanged.bind(this)),e.appendChild(this.otpCodeComp),e}},{key:"createContent",value:function(){var e=this,t=new T;t.className=Jt;var n=this.createForm(),i=new T;i.className=en;var o=new $t;return o.setMessage(this.uiContext.getString(G.ts_authenticator_otp_resend_message)),o.setAction(this.uiContext.getString(G.ts_authenticator_otp_resend),(function(){e.onResendCB&&e.onResendCB()})),i.appendChild(o),t.appendChildren(n,i),t}}]),t}(it);!function(e){e[e.TargetSelection=0]="TargetSelection",e[e.Input=1]="Input"}(Ft||(Ft={}));var on,an,sn,rn=function(e){function t(e,i,o,s){var c,u;return n(this,t),(u=l(this,r(t).call(this,e,i))).autoExecedTarget=s,u.supportsInlineError=!0,u.channelTypeToInstruction=(a(c={},com.ts.mobile.sdk.OtpChannel.Sms,G.ts_authenticator_otp_sms_sent),a(c,com.ts.mobile.sdk.OtpChannel.Email,G.ts_authenticator_otp_email_sent),a(c,com.ts.mobile.sdk.OtpChannel.PushNotification,G.ts_authenticator_otp_push_sent),a(c,com.ts.mobile.sdk.OtpChannel.VoiceCall,G.ts_authenticator_otp_voice_sent),a(c,com.ts.mobile.sdk.OtpChannel.Unknown,G.ts_authenticator_otp_external_numeric_sent),c),u.possibleTargets=o,u.state=s?Ft.Input:Ft.TargetSelection,u.target=s,u}return s(t,e),o(t,[{key:"setAvailableTargets",value:function(e){this.possibleTargets=e}},{key:"setGeneratedOtp",value:function(e,t){t?(this.state=Ft.Input,e instanceof com.ts.mobile.sdk.OtpFormatNumericImpl?(this.codeLength=e.getOtpLength(),this.isSupportedFormat=!0):this.isSupportedFormat=!1):this.state=Ft.TargetSelection,this.target=t}},{key:"showOtpInput",value:function(){var e=this,t=new nn(this.actionContext,this.codeLength,this.possibleTargets.length>1);t.setTitle(this.uiContext.getString(G.ts_authenticator_otp_title_auth)),t.setInstructions(this.uiContext.getString(this.channelTypeToInstruction[this.target.getChannel()])),this.authError&&t.setError(this.authErrorMessage),t.onSubmit((function(n){e.clearError(),t.blockInteraction();var i=com.ts.mobile.sdk.OtpInputOtpSubmission.createOtpSubmission(n),o=com.ts.mobile.sdk.TargetBasedAuthenticatorInput.createAuthenticatorInput(i);e.resolveInputPromise(com.ts.mobile.sdk.InputOrControlResponse.createInputResponse(o))})),t.onBack((function(){e.clearError(),t.blockInteraction(),e.state=Ft.TargetSelection,e.showAuthUi()})),t.onResend((function(){e.clearError(),t.blockInteraction();var n=com.ts.mobile.sdk.OtpInputRequestResend.createOtpResendRequest(),i=com.ts.mobile.sdk.TargetBasedAuthenticatorInput.createAuthenticatorInput(n);e.resolveInputPromise(com.ts.mobile.sdk.InputOrControlResponse.createInputResponse(i))})),this.showAuthenticatorPage(t)}},{key:"showTargetSelectionInput",value:function(){var e=this,t=0,n={},i=new Zt(this.actionContext);i.error=!!this.authError,i.setTitle(this.uiContext.getString(G.ts_authenticator_otp_title_auth)),i.setInstructions(this.getTargetSelectionInstruction()),i.onSubmit((function(t){e.clearError(),i.blockInteraction();var o=com.ts.mobile.sdk.TargetBasedAuthenticatorInput.createTargetSelectionRequest(n[t]);e.resolveInputPromise(com.ts.mobile.sdk.InputOrControlResponse.createInputResponse(o))})),this.possibleTargets.forEach((function(o){var a=o.getDeviceDetails(),s=(++t).toString();n[s]=o,i.addChannelTarget({channel:o.getChannel(),targetId:s,targetName:a?ke.getDeviceNameFromDeviceDetails(a):o.getDescription(),targetInfo:a?ke.getLastAccessedFromDeviceDetails(e.uiContext,a):null})})),this.showAuthenticatorPage(i)}},{key:"onCancel",value:function(){this.clearError(),h(r(t.prototype),"onCancel",this).call(this)}},{key:"showAuthUi",value:function(){switch(this.state){case Ft.TargetSelection:this.showTargetSelectionInput();break;case Ft.Input:this.isSupportedFormat?this.showOtpInput():Promise.reject("Unsupported Otp code format")}}},{key:"showRegUi",value:function(){throw new Error("Otp registration unsupported")}},{key:"getTargetSelectionInstruction",value:function(){var e;return e=this.authError&&this.authError.getErrorCode()===com.ts.mobile.sdk.AuthenticationErrorCode.InvalidInput?G.ts_authenticator_otp_error_code_expired:G.ts_authenticator_otp_targets_intro,this.uiContext.getString(e)}}]),t}(Ne),cn="xmui-totp-page",un="xmui-totp-form",ln=function(e){function t(e,i,o){var s,c;n(this,t),(c=l(this,r(t).call(this,V.page_totp_auth,cn,e))).challengeType=i,c.challenge=o,c.channelTypeLocalizationKeys=(a(s={},com.ts.mobile.sdk.TotpChallengeFormatType.Numeric,G.ts_authenticator_totp_input_with_challenge_intro),a(s,com.ts.mobile.sdk.TotpChallengeFormatType.AlphaNumeric,G.ts_authenticator_totp_input_with_challenge_intro),a(s,com.ts.mobile.sdk.TotpChallengeFormatType.QrCode,G.ts_authenticator_totp_input_with_qr_challenge_intro),s),c.setTitle(c.uiContext.getString(G.ts_authenticator_totp_title)),c.setInstructions(c.uiContext.getString(c.channelTypeLocalizationKeys[c.challengeType]||G.ts_authenticator_totp_input_intro));var _=c.createForm();c.setContent(_);var h=new de(V.button_continue);return h.label=c.uiContext.getString(G.ts_authenticator_password_cta_positive),h.disabled=!0,h.type=ie.Submit,h.form=un,h.onClick(c.handleSend.bind(u(c))),c.sendButton=h,c.addRightButton(h),c}return s(t,e),o(t,[{key:"onSubmit",value:function(e){this.onSubmitCB=e}},{key:"setError",value:function(e){this.error=!0,this.totpCodeInput.setError(e)}},{key:"clearError",value:function(){this.error=!1,this.totpCodeInput.clearError()}},{key:"handleSend",value:function(){this.onSubmitCB&&this.onSubmitCB(this.totpCodeInput.value)}},{key:"handleTotpCodeChanged",value:function(){var e=this.totpCodeInput.value;this.sendButton.disabled=null==e||0===e.length}},{key:"createSpacer",value:function(){var e=new T;return e.className="".concat("xmui-totp-form","_spacer"),e}},{key:"createChallenge",value:function(){var e;switch(this.challengeType){case com.ts.mobile.sdk.TotpChallengeFormatType.QrCode:var t=new T;t.className="".concat("xmui-totp-form","_qr-code-container");var n=new lt;n.className="".concat("xmui-totp-form","_qr-code"),n.src=this.challenge,t.appendChild(n),e=t;break;case com.ts.mobile.sdk.TotpChallengeFormatType.Numeric:case com.ts.mobile.sdk.TotpChallengeFormatType.AlphaNumeric:var i=new A;i.className="".concat("xmui-totp-form","_alphanumeric-code"),i.setText(this.challenge),e=i}return e}},{key:"createStep1Title",value:function(){var e=new A;e.className="".concat("xmui-totp-form","_step");var t=this.challengeType===com.ts.mobile.sdk.TotpChallengeFormatType.QrCode?G.ts_authenticator_totp_qrcode_challenge_step1_message:G.ts_authenticator_totp_code_challenge_step1_message;return e.setText(this.uiContext.getString(t)),e}},{key:"createStep2Title",value:function(){var e=new A;e.className="".concat("xmui-totp-form","_step");var t=this.challengeType===com.ts.mobile.sdk.TotpChallengeFormatType.QrCode?G.ts_authenticator_totp_qrcode_challenge_step2_message:G.ts_authenticator_totp_code_challenge_step2_message;return e.setText(this.uiContext.getString(t)),e}},{key:"createForm",value:function(){var e=new tt;if(e.addClass("xmui-totp-form"),e.id=un,e.appendChild(this.createSpacer()),null!=this.challengeType){var t=this.createStep1Title(),n=this.createChallenge(),i=this.createStep2Title();e.appendChildren(t,this.createSpacer(),n,this.createSpacer(),i,this.createSpacer())}var o=new T;o.className="".concat("xmui-totp-form","_input");var a=new Xe(Fe.Text,V.input_totp_code);return a.name="totp-code",a.value="",a.placeholder=this.uiContext.getString(G.ts_authenticator_totp_input_hint),a.onChange(this.handleTotpCodeChanged.bind(this)),a.focus(),o.appendChild(a),this.totpCodeInput=a,e.appendChild(o),e.appendChild(this.createSpacer()),e}}]),t}(it),_n=function(e){function t(e,i){return n(this,t),l(this,r(t).call(this,e,i))}return s(t,e),o(t,[{key:"setAvailableTargets",value:function(e){this.availableTargets=e}},{key:"setTargetDevices",value:function(e){this.targetDevices=e}},{key:"setChallenge",value:function(e){this.challenge=this.getChallenge(e)}},{key:"showAuthUi",value:function(){this.availableTargets&&!this.targetDevices?this.showTargetSelectionUi():this.showCodeInputUi()}},{key:"promiseRecoveryForError",value:function(e,n,i){if(e.getErrorCode()==com.ts.mobile.sdk.AuthenticationErrorCode.InvalidInput&&n.indexOf(com.ts.mobile.sdk.AuthenticationErrorRecovery.RetryAuthenticator)>-1&&e.getPublicSymbolicProperty(com.ts.mobile.sdk.AuthenticationErrorProperty.AuthenticatorInvalidInputErrorDescription)==com.ts.mobile.sdk.AuthenticationErrorPropertySymbol.AuthenticatorInvalidInputErrorDescriptionTotpIncorrectCheckDigit)return Ee.log("Totp authentication failed due to invalid check-digit, starting recovery"),this.inputError="Typing error detected - retype code",Promise.resolve(com.ts.mobile.sdk.AuthenticationErrorRecovery.RetryAuthenticator);return h(r(t.prototype),"promiseRecoveryForError",this).call(this,e,n,i)}},{key:"showTargetSelectionUi",value:function(){var e=this,t=this.uiContext,n=new ut(this.actionContext);n.setTitle(t.getString(G.ts_authenticator_totp_title)),n.setInstructions(t.getString(G.ts_authenticator_totp_targets_intro));var i={};this.availableTargets.forEach((function(t){var o=t.getDeviceDetails(),a=o.getDeviceId(),s=ke.getDeviceNameFromDeviceDetails(o),r=ke.getLastAccessedFromDeviceDetails(e.uiContext,o);i[a]=t,n.addDevice(a,s,r,!1)})),n.onSubmit((function(t){n.blockInteraction();var o=t.map((function(e){return i[e]})),a=ke.createTargetsSelectionResponse(o);e.resolveInputPromise(a)})),this.showAuthenticatorPage(n)}},{key:"showCodeInputUi",value:function(){var e=this,t=new ln(this.actionContext,this.challenge.type,this.challenge.value);this.inputError&&t.setError(this.inputError),t.onSubmit((function(n){t.blockInteraction();var i=com.ts.mobile.sdk.impl.TotpInputCodeSubmissionImpl.createTotpCodeSubmission(n),o=com.ts.mobile.sdk.TargetBasedAuthenticatorInput.createAuthenticatorInput(i);e.resolveInputPromise(com.ts.mobile.sdk.InputOrControlResponse.createInputResponse(o))})),this.showAuthenticatorPage(t)}},{key:"showRegUi",value:function(){throw new Error("Method not implemented.")}},{key:"getChallenge",value:function(e){var t={type:null,value:null};if(e)switch(t.type=e.getFormat().getType(),t.type){case com.ts.mobile.sdk.TotpChallengeFormatType.AlphaNumeric:case com.ts.mobile.sdk.TotpChallengeFormatType.Numeric:t.value=e.getValue();break;case com.ts.mobile.sdk.TotpChallengeFormatType.QrCode:t.value="data:image/jpeg;base64,"+e.getValue()}return t}}]),t}(Ne),hn="xmui-fido2-authentication",dn="xmui-fido2-registration",pn=function(e){function t(e,i,o,a){var s,c=arguments.length>4&&void 0!==arguments[4]&&arguments[4];n(this,t),(s=l(this,r(t).call(this,i?V.page_fido2_reg:V.page_fido2_auth,i?dn:hn,e,o,a))).isRegistrationMode=i,s.disableAutocomplete=c,s.displayNameInputRegex=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d]{6,}$/,s.setTitle(s.getTitle()),s.setInstructions(s.getInstructions());var u=new de(V.button_continue);u.label=s.uiContext.getString(G.ts_authenticator_password_cta_positive),s.addRightButton(u),s.continueButton=u;var _=s.createForm();return s.setContent(_),s}return s(t,e),o(t,[{key:"setError",value:function(e){this.error=!0,this.displayNameInput.setError(e)}},{key:"clearError",value:function(){this.error=!1,this.displayNameInput.clearError()}},{key:"reset",value:function(){this.unblockInteraction(),this.displayNameInput.value="",this.displayNameInput.focus(),this.repeatDisplayNameInput&&(this.repeatDisplayNameInput.value="")}},{key:"onSubmit",value:function(e){this.onSubmitCB=e}},{key:"getTitle",value:function(){var e=this.isRegistrationMode?"ts_authenticator_fido2_title_reg":"ts_authenticator_fido2_title_auth";return this.uiContext.getString(e)}},{key:"getInstructions",value:function(){var e;return e=this.isRegistrationMode?"ts_authenticator_fido2_intro_reg":"ts_authenticator_fido2_intro_auth",this.uiContext.getString(e)}},{key:"createForm",value:function(){var e=this,t=this.uiContext,n=new tt(this.continueButton);n.addClass("xmui-fido2-page-form"),n.id="xmui-fido2-form";var i=new Xe(Fe.Text,V.input_text),o=this.getAutocompleteValue();if(i.name="displayName",i.placeholder=t.getString("ts_authenticator_fido2_field_hint"),i.disabled=!1,i.value="",i.required=!0,i.autocomplete=o,i.ariaLabel=t.getString("ts_accessibility_fido2_enter_name"),i.focus(),this.displayNameInput=i,n.appendChild(i),this.isRegistrationMode){var a=new T;a.className="".concat("xmui-fido2-page-form","_spacer"),n.appendChild(a);var s=new Xe(Fe.Text,V.input_repeat_fido2);s.name="repeat-displayName",s.placeholder=t.getString("ts_authenticator_fido2_reg_field_hint"),s.disabled=!1,s.value="",s.required=!0,i.autocomplete=o,s.ariaLabel=t.getString("ts_accessibility_fido2_enter_name_again"),this.repeatDisplayNameInput=s,n.appendChild(s)}return this.addRecoveryButtonToForm(n),n.externalValidations=function(){var t=!0;return e.isRegistrationMode&&(e.validateDisplayNameMatch()||(e.repeatDisplayNameInput.setError(e.uiContext.getString("ts_authenticator_fido2_error_reg_no_match"),!1),e.displayNameInput.focus(),t=!1),e.isDisplayNameValid()||(e.displayNameInput.setError(e.uiContext.getString("ts_authenticator_fido2_error_reg_strength_validation_failed"),!1),e.repeatDisplayNameInput.setError(null,!0),e.displayNameInput.focus(),t=!1),0==t&&(e.displayNameInput.value="",e.repeatDisplayNameInput.value="")),t},n.onUserInput(this.handleDisplayNameChanged.bind(this)),n.onSubmit((function(t){e.blockInteraction(),e.onSubmitCB&&e.onSubmitCB(t.displayName)})),n.start(),n}},{key:"validateDisplayNameMatch",value:function(){return this.displayNameInput.value===this.repeatDisplayNameInput.value}},{key:"isDisplayNameValid",value:function(){return!0}},{key:"getAutocompleteValue",value:function(){return this.disableAutocomplete?$e.Off:(this.isRegistrationMode,$e.Username)}},{key:"handleDisplayNameChanged",value:function(){this.displayNameInput.error&&this.displayNameInput.clearError(),this.repeatDisplayNameInput&&this.repeatDisplayNameInput.error&&this.repeatDisplayNameInput.clearError()}}]),t}(it),mn=function(e){function t(e,i){var o;return n(this,t),(o=l(this,r(t).call(this,e,i))).supportsInlineError=!0,o}return s(t,e),o(t,[{key:"showAuthUi",value:function(){this.showFido2Page(!1)}},{key:"showRegUi",value:function(){this.showFido2Page(!0)}},{key:"showFido2Page",value:function(e){var t=this;if(this.authError&&this.fido2Page)this.fido2Page.reset(),this.fido2Page.setError(this.authErrorMessage);else{var n=!0===this.clientContext.disableFido2Autocomplete,i=new pn(this.actionContext,e,this.description.getCredentialRecoveryEscapeOption(),this.description.getAuthenticatorId(),n);this.showAuthenticatorPage(i),this.fido2Page=i}this.fido2Page.onSubmit((function(e){var n=com.ts.mobile.sdk.Fido2InputResponse.create(e);t.resolveInputPromise(com.ts.mobile.sdk.InputOrControlResponse.createInputResponse(n))}))}}]),t}(Ne),gn="xmui-ticket-wait-page",fn=function(e){function t(e,i,o,a){var s;n(this,t),s=l(this,r(t).call(this,V.page_ticket_wait,gn,e)),p(r(t.prototype),"busy",!0,u(s),!0);var c=s.createContent(i,o,a);return s.setContent(c),s}return s(t,e),o(t,[{key:"createSpacer",value:function(){var e=new T;return e.className="".concat("xmui-ticket-wait","_spacer"),e}},{key:"createMessage",value:function(e){var t=new A;return t.setText(e),t.className="".concat("xmui-ticket-wait","_message"),t}},{key:"createContent",value:function(e,t,n){var i=new T;switch(i.className="xmui-ticket-wait",i.appendChild(this.createSpacer()),t){case com.ts.mobile.sdk.TicketIdFormat.Qr:var o=this.createMessage(e),a=new T;a.className="".concat("xmui-ticket-wait","_qr-code-container");var s=new lt;s.src=n,s.className="".concat("xmui-ticket-wait","_qr-code"),a.appendChild(s),i.appendChildren(o,this.createSpacer(),a);break;default:var r=new T;r.className="".concat("xmui-ticket-wait","_icon ").concat(I.WaitForTicket);var c=this.createMessage(e);i.appendChildren(r,this.createSpacer(),c,this.createSpacer())}return i}},{key:"busy",set:function(e){}}]),t}(pe),vn=function e(){n(this,e)},yn=function(){function e(){n(this,e),this.pollingIntervalMillis=3e3}return o(e,[{key:"setWaitingTicket",value:function(e){this.ticket=this.getTicket(e)}},{key:"startSession",value:function(e,t){this.username=Ee.getUsernameFromClientContext(t),this.clientContext=t,this.actionContext=e}},{key:"endSession",value:function(){this.abortPolling()}},{key:"promiseInput",value:function(){var e=this;return this.ticket?new Promise((function(t,n){e.currentPromiseResolve=t,e.ticketWaitPage||e.createTicketWaitPage(),e.startPolling()})):Promise.reject("TicketWaitSession: Failed build ticket info")}},{key:"createTicketWaitPage",value:function(){var e=this,t=new fn(this.actionContext,this.ticket.instructions,this.ticket.format,this.ticket.value);this.username&&t.setUserName(this.username),t.setTitle(this.ticket.title),t.onCancel((function(){e.resolve(ke.createCancelAuthenticatorRequest()),e.abortPolling()})),t.onEscape((function(t){e.resolve(com.ts.mobile.sdk.InputOrControlResponse.createEscapeResponse(t,{})),e.abortPolling()})),Ee.renderPage(t,this.clientContext),this.ticketWaitPage=t}},{key:"startPolling",value:function(){var e=this;this.pollingTimer=setTimeout((function(){e.resolve(com.ts.mobile.sdk.InputOrControlResponse.createInputResponse(com.ts.mobile.sdk.TicketWaitInput.createPollRequest())),e.pollingTimer=null}),this.pollingIntervalMillis)}},{key:"abortPolling",value:function(){this.pollingTimer&&(clearTimeout(this.pollingTimer),this.pollingTimer=null)}},{key:"resolve",value:function(e){this.currentPromiseResolve&&this.currentPromiseResolve(e),this.currentPromiseResolve=null}},{key:"getTicket",value:function(e){var t=new vn;if(e){t.title=e.getTitle(),t.instructions=e.getText();var n=e.getTicketId();if(n)switch(t.format=n.getFormat(),t.format){case com.ts.mobile.sdk.TicketIdFormat.Qr:t.value="data:image/jpeg;base64,"+n.getValue();break;default:throw t=null,Ee.log("Unsupported ticket ID format"),new Error("Unsupported ticket ID format")}}return t}}]),e}(),Cn="xmui-actions-menu-button",kn="".concat(Cn,"_menu-container"),bn=function(e){function t(e){var i;return n(this,t),(i=l(this,r(t).call(this))).actionsMenu=e,i.isOpen=!1,i.className="".concat(Cn," ").concat(I.More),i.automationId=V.button_actions_list,i.menuContainer=new T,i.menuContainer.className=kn,i.menuContainer.appendChild(e),i.appendChild(i.menuContainer),i.onMousedown((function(){i.openMenu()})),i.handleMousedownEvent=i.handleMousedownEvent.bind(u(i)),i.handleWheelEvent=i.handleWheelEvent.bind(u(i)),i.handleActionSelection=i.handleActionSelection.bind(u(i)),i.handleResize=qe(i.handleResize.bind(u(i)),10,!1),e.onSelectionChanged(i.handleActionSelection),i.actionsMenu.onFocus(i.handleFocusEvent.bind(u(i))),i.actionsMenu.onBlur(i.handleBlurEvent.bind(u(i))),i.actionsMenu.onKeydown(i.handleKeydownEvent.bind(u(i))),i}return s(t,e),o(t,[{key:"openMenu",value:function(){this.isOpen||(this.previousFocusedElement=document.activeElement,this.addClass("".concat(Cn,"--open")),this.actionsMenu.clearSelection(),this.actionsMenu.clearActive(),this.actionsMenu.focus(),this.updateMenuPosition(),this.isOpen=!0)}},{key:"updateMenuPosition",value:function(){var e=this.htmlElement.getBoundingClientRect(),t=e.left+e.width/2,n=e.top+e.height/2,i=this.menuContainer.htmlElement,o=window.getComputedStyle(i),a=parseInt(o.width),s=parseInt(o.height),r=window.innerHeight-n-s,c=r<0?r:0;i.style.left=t-a+"px",i.style.top=n+c+"px"}},{key:"closeMenu",value:function(){this.isOpen&&(this.previousFocusedElement&&this.previousFocusedElement.focus&&this.previousFocusedElement.focus(),this.removeClass("".concat(Cn,"--open")),window.removeEventListener("resize",this.handleResize),document.removeEventListener("mousedown",this.handleMousedownEvent),document.removeEventListener("wheel",this.handleWheelEvent),this.isOpen=!1)}},{key:"handleFocusEvent",value:function(e){window.addEventListener("resize",this.handleResize),document.addEventListener("mousedown",this.handleMousedownEvent),document.addEventListener("wheel",this.handleWheelEvent)}},{key:"handleBlurEvent",value:function(e){this.actionsMenu.htmlElement.contains(document.activeElement)||(this.previousFocusedElement=null,this.closeMenu())}},{key:"handleKeydownEvent",value:function(e,t){t.keyCode===H.Escape&&this.closeMenu()}},{key:"handleMousedownEvent",value:function(e){this.closeMenu()}},{key:"handleResize",value:function(){this.closeMenu()}},{key:"handleWheelEvent",value:function(){this.closeMenu()}},{key:"handleActionSelection",value:function(){this.closeMenu()}}]),t}(T),wn="xmui-text-state",Sn=function(e){function t(){var e;return n(this,t),(e=l(this,r(t).call(this))).className=wn,e}return s(t,e),t}(A),xn="xmui-authenticator-configuration-page",In=function(e){function t(e){var i;n(this,t),(i=l(this,r(t).call(this,V.page_configure_authenticators,xn))).uiContext=e,i.keyToActionMenuButton={},i.setTitle(e.getString(G.ts_session_config_title));var o=new de(V.button_cancel);o.label=e.getString(G.ts_gen_cancel),o.onClick((function(){i.onCancelCB&&i.onCancelCB()})),i.addLeftButton(o);var a=i.createContent();return i.setContent(a),i}return s(t,e),o(t,[{key:"createContent",value:function(){var e=this;return this.authList=new re(J.None),this.authList.onItemClicked((function(t){var n=e.keyToActionMenuButton[t];n&&n.openMenu()})),this.authList.focus(),this.authList}},{key:"getDefaultState",value:function(){var e=new Sn;return e.setText(this.uiContext.getString(G.ts_gen_default)),e}},{key:"addAuthenticator",value:function(e,t,n,i,o,a,s){var r=le.getAuthenticatorIcon(i)||le.getAuthenticatorIcon(com.ts.mobile.sdk.AuthenticatorType.Generic),c=a?[this.getDefaultState()]:null,u=s?[I.Registered]:null,l=new bn(o);this.keyToActionMenuButton[e]=l;var _=new ue(t,n,r,l,c,u);this.authList.addListItem(e,!1,_)}},{key:"onCancel",value:function(e){this.onCancelCB=e}}]),t}(Q),En="xmui-actions-menu",An=function(e){function t(){var e;return n(this,t),(e=l(this,r(t).call(this,J.SingleMouseup,!0))).className=En,e.automationId=V.list_actions,e.tabindex=-1,e.role="menu",e}return s(t,e),o(t,[{key:"addAction",value:function(e){var t=new A;t.id=Y.generate(),t.className="".concat(En,"_action"),t.key=e.key,t.setText(e.label),this.addItem(t),this.role="menuitem",this.selected=!1,this.disabled=!1}}]),t}(ae);!function(e){e[e.Register=0]="Register",e[e.Unregister=1]="Unregister",e[e.Reregister=2]="Reregister",e[e.SetDefault=3]="SetDefault"}(sn||(sn={}));var Pn=(a(on={},sn.Register,G.ts_session_config_item_action_register),a(on,sn.Unregister,G.ts_session_config_item_action_unregister),a(on,sn.Reregister,G.ts_session_config_item_action_reregister),a(on,sn.SetDefault,G.ts_session_config_item_action_set_as_default),on),Tn=(a(an={},sn.Register,G.ts_session_config_item_register_failed),a(an,sn.Unregister,G.ts_session_config_item_unregister_failed),a(an,sn.Reregister,G.ts_session_config_item_reregister_failed),a(an,sn.SetDefault,G.ts_session_config_item_default_failed),an),Rn=function(){function e(t){var i;n(this,e),this.username=t,this.actionTypeToEMenuAction=(a(i={},com.ts.mobile.sdk.AuthenticatorConfigurationAction.Register,sn.Register),a(i,com.ts.mobile.sdk.AuthenticatorConfigurationAction.Unregister,sn.Unregister),a(i,com.ts.mobile.sdk.AuthenticatorConfigurationAction.Reregister,sn.Reregister),i)}return o(e,[{key:"setAuthenticatorsList",value:function(e){var t=this,n=this.uiContext,i=new In(n);i.setInstructions(this.instructions||n.getString(G.ts_session_config_intro)),i.setUserName(this.username),e.forEach((function(e){var o=e.getDescription(),a=o.getAuthenticatorId(),s=n.getString(Se.getAuthenticatorNameKey(a)),r=n.getString(Se.getAuthenticatorDescriptionKey(a)),c=o.getType(),u=e.getAvailableActions(),l=o.getDefaultAuthenticator(),_=o.getRegistered(),h=t.buildActionsMenu(u,l);h.onSelectionChanged(t.handleAction.bind(t,e)),i.addAuthenticator(a,s,r,c,h,l,_)})),i.onCancel((function(){t.configServices.finishSession()})),Ee.renderPage(i,this.clientContext)}},{key:"startSession",value:function(e,t,n){this.username=Ee.getUsernameFromClientContext(n)||this.username,this.configServices=e,this.actionContext=t,this.clientContext=n,this.uiContext=e.getUiContext(),this.instructions=null,Ee.log("Starting configuration session")}},{key:"endSession",value:function(){Ee.log("Ending configuration session")}},{key:"buildActionsMenu",value:function(e,t){var n=this,i=new An;return e.forEach((function(e){i.addAction({key:n.actionTypeToEMenuAction[e].toString(),label:n.uiContext.getString(Pn[n.actionTypeToEMenuAction[e]])})})),t||i.addAction({key:sn.SetDefault.toString(),label:this.uiContext.getString(Pn[sn.SetDefault])}),i}},{key:"handleAction",value:function(e,t){var n,i=this,o=parseInt(t);switch(o){case sn.SetDefault:n=this.handleSetDefault(e);break;case sn.Register:n=this.handleRegister(e);break;case sn.Reregister:n=this.handleReregister(e);break;case sn.Unregister:n=this.handleUnregister(e)}n.then((function(){return i.configServices.requestRefreshAuthenticators()})).catch((function(t){if(t&&t.getErrorCode&&t.getErrorCode()===com.ts.mobile.sdk.AuthenticationErrorCode.UserCanceled)i.configServices.requestRefreshAuthenticators();else{var n=e.getDescription().getAuthenticatorId(),a=i.uiContext.getString(Se.getAuthenticatorNameKey(n)),s="fido2"!==n&&t.getMessage?t.getMessage():"",r=i.uiContext.formatString(Tn[o],[a,s]);i.presentError(t,r)}}))}},{key:"setSuccessMessage",value:function(e,t){var n=this.uiContext,i=e.getDescription().getAuthenticatorId(),o=n.getString(Se.getAuthenticatorNameKey(i));this.instructions=n.formatString(t,[o])}},{key:"handleSetDefault",value:function(e){var t=this;return this.configServices.setDefaultAuthenticator(e).then((function(n){return t.setSuccessMessage(e,t.uiContext.getString(G.ts_session_config_item_default_result)),n}))}},{key:"handleReregister",value:function(e){var t=this;return this.configServices.reregisterAuthenticator(e,this.clientContext).then((function(){return t.configServices.setDefaultAuthenticator(e).then((function(n){return t.setSuccessMessage(e,t.uiContext.getString(G.ts_session_config_item_reregister_result)),n}))}))}},{key:"handleRegister",value:function(e){var t=this;return this.configServices.registerAuthenticator(e,this.clientContext).then((function(){return t.configServices.setDefaultAuthenticator(e).then((function(n){return t.setSuccessMessage(e,t.uiContext.getString(G.ts_session_config_item_register_result)),n}))}))}},{key:"handleUnregister",value:function(e){var t=this;return new Promise((function(n,i){var o=t.uiContext;t.setSuccessMessage(e,o.getString(G.ts_session_config_item_unregister_result));var a=e.getDescription().getAuthenticatorId(),s=o.getString(Se.getAuthenticatorNameKey(a)),r=o.getString(G.ts_session_config_item_unregister_dialog_cta),c=o.getString(G.ts_gen_cancel),u=new Be(o,r,c);t.username&&u.setUserName(t.username),u.setDialogTitle(o.getString(G.ts_session_config_item_unregister_dialog_title)),u.setDialogMessage(o.formatString(G.ts_session_config_item_unregister_dialog_message,[s])),u.setDialogIconClass(I.Unregister),u.onSelect((function(o){u.blockInteraction(),o?t.configServices.unregisterAuthenticator(e,t.clientContext).then(n,i):n(!0)})),Ee.renderPage(u,t.clientContext)}))}},{key:"presentError",value:function(e,t){var n=this;this.instructions=null,Re.promiseInformationInput(this.username,I.Information,this.uiContext.getString(G.ts_session_config_error_dialog_title),t,this.uiContext.getString(G.ts_gen_continue),this.uiContext,this.clientContext).then((function(){e.getErrorCode()==com.ts.mobile.sdk.AuthenticationErrorCode.PolicyRejection?n.configServices.finishSession():n.configServices.requestRefreshAuthenticators()}))}}]),e}(),Mn="xmui-registration-promotion-introduction-page",Bn=function(e){function t(e,i,o,a,s){var c;n(this,t),(c=l(this,r(t).call(this,V.dialog_registration_promotion_intro,Mn,e,!0,i,o,I.Promotion))).cancelButton.label=s,c.cancelButton.automationId=V.button_abort;var u=new de(V.button_skip);u.label=e.getUiContext().getString(G.ts_session_promotion_skip),u.onClick((function(){return c.onSkipCB&&c.onSkipCB()})),c.addRightButton(u);var _=new de(V.button_continue);return _.label=a,_.onClick((function(){return c.onContinueCB&&c.onContinueCB()})),c.addRightButton(_),c}return s(t,e),o(t,[{key:"onContinue",value:function(e){this.onContinueCB=e}},{key:"onSkip",value:function(e){this.onSkipCB=e}}]),t}(Ae),Nn=function(){function e(t,i){n(this,e),this.username=t,this.actionContext=i}return o(e,[{key:"startSession",value:function(e,t){this.username=Ee.getUsernameFromClientContext(e)||this.username,this.clientContext=e,this.uiContext=t.getUiContext(),Ee.log("Starting registration promotion action session")}},{key:"endSession",value:function(){this.clientContext.overrideAuthenticatorCancelBehavior=!1,Ee.log("Ending registration promotion action session")}},{key:"promptIntroduction",value:function(e,t,n,i){var o=this;return new Promise((function(a,s){var r=new Bn(o.actionContext,e,t,n,i);r.setUserName(o.username);var c=com.ts.mobile.sdk.PromotionControlRequest;r.onContinue((function(){a(com.ts.mobile.sdk.PromotionInput.createControlResponse(c.Continue))})),r.onSkip((function(){a(com.ts.mobile.sdk.PromotionInput.createControlResponse(c.Skip))})),r.onCancel((function(){a(com.ts.mobile.sdk.PromotionInput.createControlResponse(c.Abort))})),r.onEscape((function(e){a(com.ts.mobile.sdk.PromotionInput.createEscapeRequest(e,{}))})),Ee.renderPage(r,o.clientContext)}))}},{key:"setPromotedAuthenticators",value:function(e){var t=this,n=this.uiContext,i=com.ts.mobile.sdk.PromotionControlRequest;return new Promise((function(o,a){var s={},r=new ge(t.actionContext);r.setUserName(t.username),r.setTitle(n.getString(G.ts_session_promotion_title)),r.setInstructions(n.getString(G.ts_session_promotion_intro)),e.forEach((function(e){var t=e.getAuthenticatorId(),i=e.getType();s[t]=e;var o=n.getString(Se.getAuthenticatorNameKey(t));r.addAuthenticator(t,o,i,!1)})),r.onSubmit((function(e){r.blockInteraction(),t.clientContext.overrideAuthenticatorCancelBehavior=!0,o(com.ts.mobile.sdk.PromotionInput.createAuthenticatorDescription(s[e]))})),r.onEscape((function(e){r.blockInteraction(),o(com.ts.mobile.sdk.PromotionInput.createEscapeRequest(e,{}))})),r.cancelButton.label=n.getString(G.ts_session_promotion_abort),r.automationId=V.button_abort,r.onCancel((function(){r.blockInteraction(),o(com.ts.mobile.sdk.PromotionInput.createControlResponse(i.Abort))}));var c=new de(V.button_skip);c.label=n.getString(G.ts_session_promotion_skip),c.onClick((function(){r.blockInteraction(),o(com.ts.mobile.sdk.PromotionInput.createControlResponse(i.Skip))})),r.addRightButton(c),Ee.renderPage(r,t.clientContext)}))}}]),e}(),Dn="xmui-select-device-to-manage",qn=function(e){function t(e){var i;n(this,t),(i=l(this,r(t).call(this,V.page_select_device_to_manage,Dn))).uiContext=e,i.setTitle(e.getString(G.ts_session_dm_title)),i.setInstructions(e.getString(G.ts_session_dm_details_subtitle));var o=new de(V.button_back);o.label=e.getString(G.ts_gen_close),o.onClick((function(){i.onBackCB&&i.onBackCB()})),i.addLeftButton(o);var a=i.createContent();return i.setContent(a),i}return s(t,e),o(t,[{key:"createContent",value:function(){var e=this;return this.deviceList=new re(J.Single),this.deviceList.onSelectionChanged((function(t){t.length&&e.onSelectCB&&e.onSelectCB(t[0])})),this.deviceList.focus(),this.deviceList}},{key:"getCurrentDeviceState",value:function(){var e=new Sn;return e.setText(this.uiContext.getString(G.ts_session_dm_details_current_device)),e}},{key:"addDevice",value:function(e,t,n,i,o){var a=new T;a.className="".concat(Dn,"_expand-icon ").concat(I.Expand);var s=i?[this.getCurrentDeviceState()]:null,r=new ue(t,n,o,a,s);this.deviceList.addListItem(e,!1,r)}},{key:"onSelect",value:function(e){this.onSelectCB=e}},{key:"onBack",value:function(e){this.onBackCB=e}}]),t}(Q),Fn="".concat("xmui-manage-device","_row"),Ln="".concat("xmui-manage-device","_info"),On="".concat("xmui-manage-device","_separator"),jn="".concat("xmui-manage-device","_name"),Un="".concat("xmui-manage-device","_spacer"),Qn="xmui-device-management-page",Vn=function(e){function t(e){var i;n(this,t),(i=l(this,r(t).call(this,V.page_manage_devices,Qn))).uiContext=e,i.setTitle(e.getString(G.ts_session_dm_details_title)),i.setInstructions(e.getString(G.ts_session_dm_details_subtitle));var o=new de(V.button_cancel);return o.label=e.getString(G.ts_gen_back),o.onClick((function(){i.onCancelCB&&i.onCancelCB()})),o.focus(),i.addLeftButton(o),i.handleAction=i.handleAction.bind(u(i)),i}return s(t,e),o(t,[{key:"setDevice",value:function(e,t,n,i,o){var a=this.uiContext,s=new T;s.className="xmui-manage-device";var r=new T;r.className=Fn;var c=new A;if(c.setText(e),c.className=jn,r.appendChild(c),i){var u=new Sn;u.setText(this.uiContext.getString(G.ts_session_dm_section_current)),r.appendChild(u)}if(o.indexOf(com.ts.mobile.sdk.DeviceManagementAction.Rename)>-1){var l=new T;l.className=Un;var _=new de(V.button_rename);_.label=a.getString(G.ts_session_dm_details_rename_action),_.value=com.ts.mobile.sdk.DeviceManagementAction.Rename,_.onClick(this.handleAction),r.appendChildren(l,_)}var h=new A;h.setText(t+"\n"+n),h.className=Ln;var d=new T;if(d.className=Fn,d.appendChildren(h),s.appendChildren(r,d),(new T).className=On,i||o.indexOf(com.ts.mobile.sdk.DeviceManagementAction.Remove)>-1){var p=new T;p.className=On,s.appendChild(p);var m=new T;m.className=Fn;var g=new A;g.setText(a.getString(G.ts_session_dm_details_remove_subtitle)),g.className=Ln;var f=new de(V.button_remove,oe.Alert);f.label=a.getString(G.ts_session_dm_details_remove_action),f.value=com.ts.mobile.sdk.DeviceManagementAction.Remove,f.onClick(this.handleAction),m.appendChildren(g,f),s.appendChild(m)}this.setContent(s)}},{key:"onAction",value:function(e){this.onActionCB=e}},{key:"onCancel",value:function(e){this.onCancelCB=e}},{key:"handleAction",value:function(e){this.onActionCB&&this.onActionCB(e.value)}}]),t}(Q),Hn=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'];function Kn(e){return null===e.offsetParent||"hidden"===getComputedStyle(e).visibility}function zn(e){for(var t=e.querySelectorAll(Hn.join(",")),n=[],i=0;i<t.length;i++){var o=t[i];Wn(o)>-1&&!o.disabled&&!Kn(o)&&n.push(o)}return n}function Wn(e){var t=parseInt(e.getAttribute("tabindex"),10);return isNaN(t)?function(e){return"true"===e.contentEditable}(e)?0:e.tabIndex:t}var Gn,Zn="xmui-popup-dialog",Yn=function(e){function t(){var e;n(this,t),(e=l(this,r(t).call(this))).className=Zn;var i=new T;return i.className="".concat(Zn,"_overlay"),e.panel=new T,e.panel.className="".concat(Zn,"_panel"),e.appendChildren(i,e.panel),e.handleKeydownEvent=e.handleKeydownEvent.bind(u(e)),e}return s(t,e),o(t,[{key:"overlayAddClassName",value:function(e){this.panel.addClass(e)}},{key:"addToPanel",value:function(e){this.panel.appendChild(e)}},{key:"appendInto",value:function(e){h(r(t.prototype),"appendInto",this).call(this,e),document.addEventListener("keydown",this.handleKeydownEvent)}},{key:"close",value:function(){document.removeEventListener("keydown",this.handleKeydownEvent),this.remove()}},{key:"handleKeydownEvent",value:function(e){!function(e,t){var n,i=(n=zn(t))[0],o=n[n.length-1];"Tab"===e.key?t.contains(e.target)?e.shiftKey&&e.target===i?(o.focus(),e.preventDefault()):e.shiftKey||e.target!==o||(i.focus(),e.preventDefault()):((i=(n=zn(t))[0]).focus(),e.preventDefault()):t.contains(e.target)||e.preventDefault()}(e,this.panel.htmlElement)}}]),t}(T),$n="xmui-action-popup-dialog",Xn=function(e){function t(){var e;return n(this,t),(e=l(this,r(t).call(this))).headerPanel=new q(!0),e.headerPanel.show=!1,e.addToPanel(e.headerPanel),e.contentContainer=new T,e.contentContainer.className="".concat($n,"_content"),e.actionPanel=new L(!0),e.addToPanel(e.contentContainer),e.addToPanel(e.actionPanel),e}return s(t,e),o(t,[{key:"setTitle",value:function(e){this.headerPanel.show=!0,this.headerPanel.setText(e)}},{key:"setIcon",value:function(e){this.headerPanel.show=!0,this.headerPanel.setIcon(e)}},{key:"setContent",value:function(e){this.contentContainer.appendChild(e)}},{key:"addLeftButton",value:function(e){this.actionPanel.addLeftButton(e)}},{key:"addRightButton",value:function(e){this.actionPanel.addRightButton(e)}}]),t}(Yn),Jn="xmui-confirm-popup-dialog",ei=function(e){function t(e,i,o){var a,s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];n(this,t),(a=l(this,r(t).call(this))).automationId=V.popup_dialog_confirm,a.handleClick=a.handleClick.bind(u(a));var c=new de(V.button_cancel);c.label=o||e.getString(G.ts_gen_cancel),c.value=!1,c.onClick(a.handleClick),a.addLeftButton(c);var _=new de(V.button_continue);_.label=i||e.getString(G.ts_authenticator_password_cta_positive),_.value=!0,_.onClick(a.handleClick),a.addRightButton(_);var h=new T;return h.className="".concat(Jn,"_container"),a.messageComp=new A,a.messageComp.className="".concat(Jn,"_message"),h.appendChild(a.messageComp),a.setContent(h),s?_.focus():c.focus(),a}return s(t,e),o(t,[{key:"setMessage",value:function(e){this.messageComp.setText(e)}},{key:"onSelect",value:function(e){this.onSelectCB=e}},{key:"handleClick",value:function(e){this.onSelectCB(e.value)}}]),t}(Xn),ti="xmui-input-popup-dialog",ni="xmui-text-input-form",ii=function(e){function t(e,i,o){var a;n(this,t),(a=l(this,r(t).call(this))).addClass(ti),a.automationId=V.popup_dialog_confirm;var s=new de(V.button_cancel);s.label=o||e.getString(G.ts_gen_cancel),s.value=!1,s.onClick((function(){a.onCancelCB&&a.onCancelCB()})),a.addLeftButton(s);var c=new de(V.button_continue);c.label=i||e.getString(G.ts_authenticator_password_cta_positive),c.value=!0,c.type=ie.Submit,c.disabled=!0,c.onClick((function(){a.onSubmitCB&&a.onSubmitCB(a.inputField.value)})),c.form=ni,a.addRightButton(c),a.confirmButton=c;var u=a.buildContent();return a.setContent(u),a}return s(t,e),o(t,[{key:"setPlacehoder",value:function(e){this.inputField.placeholder=e}},{key:"onSubmit",value:function(e){this.onSubmitCB=e}},{key:"onCancel",value:function(e){this.onCancelCB=e}},{key:"buildContent",value:function(){var e=this,t=new tt;t.id=ni;var n=new Xe(Fe.Text,V.input_text);return n.disabled=!1,n.value="",n.onChange((function(){e.confirmButton.disabled=null==e.inputField.value||0===e.inputField.value.length})),n.focus(),this.inputField=n,t.appendChild(n),t}}]),t}(Xn),oi=function(){function e(t){var i;n(this,e),this.username=t,this.actionToError=(a(i={},com.ts.mobile.sdk.DeviceManagementAction.Remove,G.ts_session_dm_item_action_remove_result_negative),a(i,com.ts.mobile.sdk.DeviceManagementAction.Rename,G.ts_session_dm_item_action_rename_result_negative),i)}return o(e,[{key:"setSessionDevicesList",value:function(e){var t=this;this.devices=e,this.deviceManagementSessionService&&(this.currentSelectedDevice=this.currentSelectedDevice?this.devices.find((function(e){return e.getInfo().getDeviceHwId()===t.currentSelectedDevice.getInfo().getDeviceHwId()})):null,this.currentSelectedDevice?this.openManageDevice(this.currentSelectedDevice):this.devices&&this.openSelectDeviceToManage())}},{key:"startSession",value:function(e,t,n){this.username=Ee.getUsernameFromClientContext(n)||this.username,this.deviceManagementSessionService=e,this.actionContext=t,this.clientContext=n,this.uiContext=e.getUiContext(),this.instructions=null,Ee.log("Starting device management session"),this.openSelectDeviceToManage()}},{key:"endSession",value:function(){Ee.log("Ending device management session")}},{key:"handleRemove",value:function(e){var t=this,n=this.uiContext;return new Promise((function(i,o){var a=t.getDeviceName(e),s=new ei(n,n.getString(G.ts_session_dm_item_action_dialog_remove_cta));s.setTitle(n.formatString(G.ts_session_dm_item_action_dialog_remove_title,[a])),s.setIcon(I.Remove),s.setMessage(n.getString(G.ts_session_dm_item_action_dialog_remove_message)),s.onSelect((function(n){if(s.close(),n)if(e.getInfo().getIsCurrent()){var o=t.deviceManagementSessionService.removeCurrentDeviceAndFinishSession(t.clientContext).then((function(e){return e&&t.setSuccessMessage(G.ts_session_dm_item_action_remove_result_positive,a),e}));i(o)}else i(t.deviceManagementSessionService.removeDevice(e,t.clientContext));else i(!1)})),Ee.renderModal(s,t.clientContext)}))}},{key:"handleRename",value:function(e){var t=this,n=this.uiContext;return new Promise((function(i,o){var a=t.getDeviceName(e),s=new ii(n,n.getString(G.ts_session_dm_item_action_dialog_rename_cta));s.setTitle(n.formatString(G.ts_session_dm_item_action_dialog_rename_title,[a])),s.setIcon(I.Rename),s.setPlacehoder(n.getString(G.ts_session_dm_details_rename_input_hint)),s.onCancel((function(){s.close(),i(!1)})),s.onSubmit((function(n){s.close();var o=t.deviceManagementSessionService.renameDevice(e,n,t.clientContext).then((function(e){return e&&t.setSuccessMessage(G.ts_session_dm_item_action_rename_result_positive,a,n),e}));i(o)})),Ee.renderModal(s,t.clientContext)}))}},{key:"handleAction",value:function(e,t){var n,i=this;switch(t){case com.ts.mobile.sdk.DeviceManagementAction.Remove:n=this.handleRemove(e);break;case com.ts.mobile.sdk.DeviceManagementAction.Rename:n=this.handleRename(e)}n&&n.then((function(){})).catch((function(n){var o=i.getDeviceName(e),a=i.uiContext.formatString(i.actionToError[t],[o,n.getMessage()]);i.handleError(n,a)}))}},{key:"setSuccessMessage",value:function(e,t,n){this.instructions=this.uiContext.formatString(e,[t,n])}},{key:"handleError",value:function(e,t){var n=this;this.instructions=null,Re.promiseInformationInput(this.username,I.Information,this.uiContext.getString(G.ts_session_dm_error_dialog_title),t,this.uiContext.getString(G.ts_gen_continue),this.uiContext,this.clientContext).then((function(){n.openManageDevice(n.currentSelectedDevice)}))}},{key:"handleCancel",value:function(){this.openSelectDeviceToManage()}},{key:"openManageDevice",value:function(e){var t=e.getInfo(),n=e.getAvailableActions(),i=this.getDeviceName(e),o=this.getDeviceOS(e),a=this.getLastAccessed(e),s=t.getIsCurrent(),r=new Vn(this.uiContext);r.setUserName(this.username),r.setDevice(i,o,a,s,n),r.onAction(this.handleAction.bind(this,e)),r.onCancel(this.handleCancel.bind(this)),Ee.renderPage(r,this.clientContext)}},{key:"openSelectDeviceToManage",value:function(){var e=this;this.currentSelectedDevice=null;var t={},n=new qn(this.uiContext);n.setUserName(this.username),this.instructions&&n.setInstructions(this.instructions),this.devices.forEach((function(i){var o=i.getInfo(),a=o.getDeviceHwId(),s=e.getDeviceName(i),r=e.getLastAccessed(i),c=o.getIsCurrent();t[a]=i,n.addDevice(a,s,r,c,I.WebBrowser)})),n.onSelect((function(n){e.instructions=null,e.currentSelectedDevice=t[n],e.openManageDevice(t[n])})),n.onBack((function(){e.instructions=null,e.deviceManagementSessionService.finishSession()})),Ee.renderPage(n,this.clientContext)}},{key:"getDeviceName",value:function(e){var t=e.getInfo(),n=t.getName();return ke.getDeviceName(n,t)}},{key:"getDeviceOS",value:function(e){var t=e.getInfo();return"".concat(t.getOsType(),"  ").concat(t.getOsVersion())}},{key:"getLastAccessed",value:function(e){var t=new Date(e.getInfo().getLastAccess()).toLocaleString();return this.uiContext.formatString(G.ts_session_dm_last_used_date,[t])}}]),e}();!function(e){e.Text="text",e.Email="email",e.MobileNumber="phone"}(Gn||(Gn={}));var ai,si=/^[a-z]{2}$/i,ri=function(){function e(){n(this,e)}return o(e,null,[{key:"getFlagEmoji",value:function(t){return t.name_code?e.countryCodeEmoji(t.name_code):null}},{key:"countryCodeEmoji",value:function(e){if(!si.test(e)){var n=t(e);throw new TypeError("cc argument must be an ISO 3166-1 alpha-2 string, but got '".concat("string"===n?e:n,"' instead."))}return String.fromCodePoint(e.codePointAt(0)+127365)+String.fromCodePoint(e.codePointAt(1)+127365)}}]),e}(),ci="xmui-country-item-content",ui=function(e){function t(e){var i,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];n(this,t),(i=l(this,r(t).call(this))).className=ci;var a=new A;a.className="".concat(ci,"_flag");var s=new A;s.className="".concat(ci,"_title");var c=new A;c.className="".concat(ci,"_phone_code"),null!=e&&(a.setText(ri.countryCodeEmoji(e.name_code.toLowerCase())),s.setText(e.name),c.setText("+".concat(e.phone_code)));var u=new T;return u.className="".concat(ci,"_space"),o&&i.addClass("".concat(ci,"--selected")),i.appendChildren(a,s,u,c),i}return s(t,e),t}(T),li="xmui-countries-popup-dialog",_i=function(e){function t(){var e;return n(this,t),(e=l(this,r(t).call(this))).search="",e.className=li,e.container=new T,e.container.addClass("".concat(li,"_container")),e.addToPanel(e.container),e.onClick(e.onDismiss.bind(u(e))),e.onKeypress(qe(e.onKeyPressEvent.bind(u(e)),100,!1)),e.onKeydown(qe(e.onKeyDownEvent.bind(u(e)),100,!1)),e}return s(t,e),o(t,[{key:"onKeyDownEvent",value:function(e,t){t.keyCode===H.Backspace&&(this.search=this.search.slice(0,-1),this.filter())}},{key:"onKeyPressEvent",value:function(e,t){this.search=this.search+t.key,this.filter()}},{key:"filter",value:function(){this.countries&&(this.search&&this.search.length>0?this.createList(this.filteredCountries(this.search)):this.createList(this.countries))}},{key:"filteredCountries",value:function(e){var t=this,n=this.countries.filter((function(e,n,i){return e.name.toLowerCase().startsWith(t.search.toLowerCase())||e.phone_code===t.search.toLowerCase()||e.name_code===t.search.toLowerCase()}));if(n&&n.length>0)return n;this.createList(this.countries)}},{key:"setCountries",value:function(e,t){this.countries=e,this.selectedCountryCode=t,this.createList(e),this.selectedCountryItem&&this.selectedCountryItem.scrollIntoView()}},{key:"createList",value:function(e){var t=this;null!=e&&(this.countriesList=new re(J.None),this.countriesList.focus(),this.container.setContent(this.countriesList),e.forEach((function(e){var n=new ui(e,e.name_code===t.selectedCountryCode);e.name_code===t.selectedCountryCode&&(t.selectedCountryItem=n),t.countriesList.addListItem(e.name_code,!1,n)})),this.countriesList.onItemClicked((function(e){t.onSelectCB&&(t.onSelectCB(e),t.close())})))}},{key:"onSelect",value:function(e){this.onSelectCB=e}},{key:"onDismiss",value:function(e,t){this.close()}}]),t}(Yn),hi=[{name_code:"ad",name:"Andorra",phone_code:"376"},{name_code:"ae",name:"United Arab Emirates (UAE)",phone_code:"971"},{name_code:"af",name:"Afghanistan",phone_code:"93"},{name_code:"ag",name:"Antigua and Barbuda",phone_code:"1"},{name_code:"ai",name:"Anguilla",phone_code:"1"},{name_code:"al",name:"Albania",phone_code:"355"},{name_code:"am",name:"Armenia",phone_code:"374"},{name_code:"ao",name:"Angola",phone_code:"244"},{name_code:"aq",name:"Antarctica",phone_code:"672"},{name_code:"ar",name:"Argentina",phone_code:"54"},{name_code:"as",name:"American Samoa",phone_code:"1"},{name_code:"at",name:"Austria",phone_code:"43"},{name_code:"au",name:"Australia",phone_code:"61"},{name_code:"aw",name:"Aruba",phone_code:"297"},{name_code:"ax",name:"Åland Islands",phone_code:"358"},{name_code:"az",name:"Azerbaijan",phone_code:"994"},{name_code:"ba",name:"Bosnia And Herzegovina",phone_code:"387"},{name_code:"bb",name:"Barbados",phone_code:"1"},{name_code:"bd",name:"Bangladesh",phone_code:"880"},{name_code:"be",name:"Belgium",phone_code:"32"},{name_code:"bf",name:"Burkina Faso",phone_code:"226"},{name_code:"bg",name:"Bulgaria",phone_code:"359"},{name_code:"bh",name:"Bahrain",phone_code:"973"},{name_code:"bi",name:"Burundi",phone_code:"257"},{name_code:"bj",name:"Benin",phone_code:"229"},{name_code:"bl",name:"Saint Barthélemy",phone_code:"590"},{name_code:"bm",name:"Bermuda",phone_code:"1"},{name_code:"bn",name:"Brunei Darussalam",phone_code:"673"},{name_code:"bo",name:"Bolivia, Plurinational State Of",phone_code:"591"},{name_code:"br",name:"Brazil",phone_code:"55"},{name_code:"bs",name:"Bahamas",phone_code:"1"},{name_code:"bt",name:"Bhutan",phone_code:"975"},{name_code:"bw",name:"Botswana",phone_code:"267"},{name_code:"by",name:"Belarus",phone_code:"375"},{name_code:"bz",name:"Belize",phone_code:"501"},{name_code:"ca",name:"Canada",phone_code:"1"},{name_code:"cc",name:"Cocos (keeling) Islands",phone_code:"61"},{name_code:"cd",name:"Congo, The Democratic Republic Of The",phone_code:"243"},{name_code:"cf",name:"Central African Republic",phone_code:"236"},{name_code:"cg",name:"Congo",phone_code:"242"},{name_code:"ch",name:"Switzerland",phone_code:"41"},{name_code:"ci",name:"Côte D'ivoire",phone_code:"225"},{name_code:"ck",name:"Cook Islands",phone_code:"682"},{name_code:"cl",name:"Chile",phone_code:"56"},{name_code:"cm",name:"Cameroon",phone_code:"237"},{name_code:"cn",name:"China",phone_code:"86"},{name_code:"co",name:"Colombia",phone_code:"57"},{name_code:"cr",name:"Costa Rica",phone_code:"506"},{name_code:"cu",name:"Cuba",phone_code:"53"},{name_code:"cv",name:"Cape Verde",phone_code:"238"},{name_code:"cw",name:"Curaçao",phone_code:"599"},{name_code:"cx",name:"Christmas Island",phone_code:"61"},{name_code:"cy",name:"Cyprus",phone_code:"357"},{name_code:"cz",name:"Czech Republic",phone_code:"420"},{name_code:"de",name:"Germany",phone_code:"49"},{name_code:"dj",name:"Djibouti",phone_code:"253"},{name_code:"dk",name:"Denmark",phone_code:"45"},{name_code:"dm",name:"Dominica",phone_code:"1"},{name_code:"do",name:"Dominican Republic",phone_code:"1"},{name_code:"dz",name:"Algeria",phone_code:"213"},{name_code:"ec",name:"Ecuador",phone_code:"593"},{name_code:"ee",name:"Estonia",phone_code:"372"},{name_code:"eg",name:"Egypt",phone_code:"20"},{name_code:"er",name:"Eritrea",phone_code:"291"},{name_code:"es",name:"Spain",phone_code:"34"},{name_code:"et",name:"Ethiopia",phone_code:"251"},{name_code:"fi",name:"Finland",phone_code:"358"},{name_code:"fj",name:"Fiji",phone_code:"679"},{name_code:"fk",name:"Falkland Islands (malvinas)",phone_code:"500"},{name_code:"fm",name:"Micronesia, Federated States Of",phone_code:"691"},{name_code:"fo",name:"Faroe Islands",phone_code:"298"},{name_code:"fr",name:"France",phone_code:"33"},{name_code:"ga",name:"Gabon",phone_code:"241"},{name_code:"gb",name:"United Kingdom",phone_code:"44"},{name_code:"gd",name:"Grenada",phone_code:"1"},{name_code:"ge",name:"Georgia",phone_code:"995"},{name_code:"gf",name:"French Guyana",phone_code:"594"},{name_code:"gg",name:"Guernsey",phone_code:"44"},{name_code:"gh",name:"Ghana",phone_code:"233"},{name_code:"gi",name:"Gibraltar",phone_code:"350"},{name_code:"gl",name:"Greenland",phone_code:"299"},{name_code:"gm",name:"Gambia",phone_code:"220"},{name_code:"gn",name:"Guinea",phone_code:"224"},{name_code:"gp",name:"Guadeloupe",phone_code:"590"},{name_code:"gq",name:"Equatorial Guinea",phone_code:"240"},{name_code:"gr",name:"Greece",phone_code:"30"},{name_code:"gt",name:"Guatemala",phone_code:"502"},{name_code:"gu",name:"Guam",phone_code:"1"},{name_code:"gw",name:"Guinea-bissau",phone_code:"245"},{name_code:"gy",name:"Guyana",phone_code:"592"},{name_code:"hk",name:"Hong Kong",phone_code:"852"},{name_code:"hn",name:"Honduras",phone_code:"504"},{name_code:"hr",name:"Croatia",phone_code:"385"},{name_code:"ht",name:"Haiti",phone_code:"509"},{name_code:"hu",name:"Hungary",phone_code:"36"},{name_code:"id",name:"Indonesia",phone_code:"62"},{name_code:"ie",name:"Ireland",phone_code:"353"},{name_code:"il",name:"Israel",phone_code:"972"},{name_code:"im",name:"Isle Of Man",phone_code:"44"},{name_code:"is",name:"Iceland",phone_code:"354"},{name_code:"in",name:"India",phone_code:"91"},{name_code:"io",name:"British Indian Ocean Territory",phone_code:"246"},{name_code:"iq",name:"Iraq",phone_code:"964"},{name_code:"ir",name:"Iran, Islamic Republic Of",phone_code:"98"},{name_code:"it",name:"Italy",phone_code:"39"},{name_code:"je",name:"Jersey",phone_code:"44"},{name_code:"jm",name:"Jamaica",phone_code:"1"},{name_code:"jo",name:"Jordan",phone_code:"962"},{name_code:"jp",name:"Japan",phone_code:"81"},{name_code:"ke",name:"Kenya",phone_code:"254"},{name_code:"kg",name:"Kyrgyzstan",phone_code:"996"},{name_code:"kh",name:"Cambodia",phone_code:"855"},{name_code:"ki",name:"Kiribati",phone_code:"686"},{name_code:"km",name:"Comoros",phone_code:"269"},{name_code:"kn",name:"Saint Kitts and Nevis",phone_code:"1"},{name_code:"kp",name:"North Korea",phone_code:"850"},{name_code:"kr",name:"South Korea",phone_code:"82"},{name_code:"kw",name:"Kuwait",phone_code:"965"},{name_code:"ky",name:"Cayman Islands",phone_code:"1"},{name_code:"kz",name:"Kazakhstan",phone_code:"7"},{name_code:"la",name:"Lao People's Democratic Republic",phone_code:"856"},{name_code:"lb",name:"Lebanon",phone_code:"961"},{name_code:"lc",name:"Saint Lucia",phone_code:"1"},{name_code:"li",name:"Liechtenstein",phone_code:"423"},{name_code:"lk",name:"Sri Lanka",phone_code:"94"},{name_code:"lr",name:"Liberia",phone_code:"231"},{name_code:"ls",name:"Lesotho",phone_code:"266"},{name_code:"lt",name:"Lithuania",phone_code:"370"},{name_code:"lu",name:"Luxembourg",phone_code:"352"},{name_code:"lv",name:"Latvia",phone_code:"371"},{name_code:"ly",name:"Libya",phone_code:"218"},{name_code:"ma",name:"Morocco",phone_code:"212"},{name_code:"mc",name:"Monaco",phone_code:"377"},{name_code:"md",name:"Moldova, Republic Of",phone_code:"373"},{name_code:"me",name:"Montenegro",phone_code:"382"},{name_code:"mf",name:"Saint Martin",phone_code:"590"},{name_code:"mg",name:"Madagascar",phone_code:"261"},{name_code:"mh",name:"Marshall Islands",phone_code:"692"},{name_code:"mk",name:"Macedonia (FYROM)",phone_code:"389"},{name_code:"ml",name:"Mali",phone_code:"223"},{name_code:"mm",name:"Myanmar",phone_code:"95"},{name_code:"mn",name:"Mongolia",phone_code:"976"},{name_code:"mo",name:"Macau",phone_code:"853"},{name_code:"mp",name:"Northern Mariana Islands",phone_code:"1"},{name_code:"mq",name:"Martinique",phone_code:"596"},{name_code:"mr",name:"Mauritania",phone_code:"222"},{name_code:"ms",name:"Montserrat",phone_code:"1"},{name_code:"mt",name:"Malta",phone_code:"356"},{name_code:"mu",name:"Mauritius",phone_code:"230"},{name_code:"mv",name:"Maldives",phone_code:"960"},{name_code:"mw",name:"Malawi",phone_code:"265"},{name_code:"mx",name:"Mexico",phone_code:"52"},{name_code:"my",name:"Malaysia",phone_code:"60"},{name_code:"mz",name:"Mozambique",phone_code:"258"},{name_code:"na",name:"Namibia",phone_code:"264"},{name_code:"nc",name:"New Caledonia",phone_code:"687"},{name_code:"ne",name:"Niger",phone_code:"227"},{name_code:"nf",name:"Norfolk Islands",phone_code:"672"},{name_code:"ng",name:"Nigeria",phone_code:"234"},{name_code:"ni",name:"Nicaragua",phone_code:"505"},{name_code:"nl",name:"Netherlands",phone_code:"31"},{name_code:"no",name:"Norway",phone_code:"47"},{name_code:"np",name:"Nepal",phone_code:"977"},{name_code:"nr",name:"Nauru",phone_code:"674"},{name_code:"nu",name:"Niue",phone_code:"683"},{name_code:"nz",name:"New Zealand",phone_code:"64"},{name_code:"om",name:"Oman",phone_code:"968"},{name_code:"pa",name:"Panama",phone_code:"507"},{name_code:"pe",name:"Peru",phone_code:"51"},{name_code:"pf",name:"French Polynesia",phone_code:"689"},{name_code:"pg",name:"Papua New Guinea",phone_code:"675"},{name_code:"ph",name:"Philippines",phone_code:"63"},{name_code:"pk",name:"Pakistan",phone_code:"92"},{name_code:"pl",name:"Poland",phone_code:"48"},{name_code:"pm",name:"Saint Pierre And Miquelon",phone_code:"508"},{name_code:"pn",name:"Pitcairn Islands",phone_code:"870"},{name_code:"pr",name:"Puerto Rico",phone_code:"1"},{name_code:"ps",name:"Palestine",phone_code:"970"},{name_code:"pt",name:"Portugal",phone_code:"351"},{name_code:"pw",name:"Palau",phone_code:"680"},{name_code:"py",name:"Paraguay",phone_code:"595"},{name_code:"qa",name:"Qatar",phone_code:"974"},{name_code:"re",name:"Réunion",phone_code:"262"},{name_code:"ro",name:"Romania",phone_code:"40"},{name_code:"rs",name:"Serbia",phone_code:"381"},{name_code:"ru",name:"Russian Federation",phone_code:"7"},{name_code:"rw",name:"Rwanda",phone_code:"250"},{name_code:"sa",name:"Saudi Arabia",phone_code:"966"},{name_code:"sb",name:"Solomon Islands",phone_code:"677"},{name_code:"sc",name:"Seychelles",phone_code:"248"},{name_code:"sd",name:"Sudan",phone_code:"249"},{name_code:"se",name:"Sweden",phone_code:"46"},{name_code:"sg",name:"Singapore",phone_code:"65"},{name_code:"sh",name:"Saint Helena, Ascension And Tristan Da Cunha",phone_code:"290"},{name_code:"si",name:"Slovenia",phone_code:"386"},{name_code:"sk",name:"Slovakia",phone_code:"421"},{name_code:"sl",name:"Sierra Leone",phone_code:"232"},{name_code:"sm",name:"San Marino",phone_code:"378"},{name_code:"sn",name:"Senegal",phone_code:"221"},{name_code:"so",name:"Somalia",phone_code:"252"},{name_code:"sr",name:"Suriname",phone_code:"597"},{name_code:"ss",name:"South Sudan",phone_code:"211"},{name_code:"st",name:"Sao Tome And Principe",phone_code:"239"},{name_code:"sv",name:"El Salvador",phone_code:"503"},{name_code:"sx",name:"Sint Maarten",phone_code:"1"},{name_code:"sy",name:"Syrian Arab Republic",phone_code:"963"},{name_code:"sz",name:"Swaziland",phone_code:"268"},{name_code:"tc",name:"Turks and Caicos Islands",phone_code:"1"},{name_code:"td",name:"Chad",phone_code:"235"},{name_code:"tg",name:"Togo",phone_code:"228"},{name_code:"th",name:"Thailand",phone_code:"66"},{name_code:"tj",name:"Tajikistan",phone_code:"992"},{name_code:"tk",name:"Tokelau",phone_code:"690"},{name_code:"tl",name:"Timor-leste",phone_code:"670"},{name_code:"tm",name:"Turkmenistan",phone_code:"993"},{name_code:"tn",name:"Tunisia",phone_code:"216"},{name_code:"to",name:"Tonga",phone_code:"676"},{name_code:"tr",name:"Turkey",phone_code:"90"},{name_code:"tt",name:"Trinidad & Tobago",phone_code:"1"},{name_code:"tv",name:"Tuvalu",phone_code:"688"},{name_code:"tw",name:"Taiwan",phone_code:"886"},{name_code:"tz",name:"Tanzania, United Republic Of",phone_code:"255"},{name_code:"ua",name:"Ukraine",phone_code:"380"},{name_code:"ug",name:"Uganda",phone_code:"256"},{name_code:"us",name:"United States",phone_code:"1"},{name_code:"uy",name:"Uruguay",phone_code:"598"},{name_code:"uz",name:"Uzbekistan",phone_code:"998"},{name_code:"va",name:"Holy See (vatican City State)",phone_code:"379"},{name_code:"vc",name:"Saint Vincent & The Grenadines",phone_code:"1"},{name_code:"ve",name:"Venezuela, Bolivarian Republic Of",phone_code:"58"},{name_code:"vg",name:"British Virgin Islands",phone_code:"1"},{name_code:"vi",name:"US Virgin Islands",phone_code:"1"},{name_code:"vn",name:"Vietnam",phone_code:"84"},{name_code:"vu",name:"Vanuatu",phone_code:"678"},{name_code:"wf",name:"Wallis And Futuna",phone_code:"681"},{name_code:"ws",name:"Samoa",phone_code:"685"},{name_code:"xk",name:"Kosovo",phone_code:"383"},{name_code:"ye",name:"Yemen",phone_code:"967"},{name_code:"yt",name:"Mayotte",phone_code:"262"},{name_code:"za",name:"South Africa",phone_code:"27"},{name_code:"zm",name:"Zambia",phone_code:"260"},{name_code:"zw",name:"Zimbabwe",phone_code:"263"}],di="xmui-mobile-phone-input",pi="".concat(di,"_separator"),mi="".concat(di,"_plus"),gi="".concat(di,"_country-code-container"),fi="-",vi="+",yi=function(e){function t(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";n(this,t),(e=l(this,r(t).call(this,Fe.PositiveInteger,V.input_mobile_phone_number))).addClass(di),e.countries=hi;var a=new A(fi);a.className=pi,e.prependToInputRow(a);var s=new T;s.className=gi;var c=new de(V.input_mobile_phone_coutry_code);c.onClick((function(){if(e.onCountriesCB){var t=e.countries;if(!t)return;var n=new _i;n.setCountries(t,e.currentSelectedCountryCode),n.onSelect((function(n){var i=t.find((function(e){return e.name_code===n}));i&&(e.currentSelectedCountryCode=i.name_code,c.label=i.phone_code)})),e.onCountriesCB(n)}})),s.appendChild(c),e.prependToInputRow(s);var u=new A(vi);return u.className=mi,e.prependToInputRow(u),e.countryCodeButton=c,e.addValidator(He.mobileNumber),e.value="".concat(i).concat(fi).concat(o),e}return s(t,e),o(t,[{key:"getRequiredValidator",value:function(){return function(e){var t=e.replace(fi,"");return He.required(t)}}},{key:"checkHasValue",value:function(){return!!this.value.replace(fi,"").length}},{key:"onCountries",value:function(e){this.onCountriesCB=e}},{key:"isEmpty",get:function(){return!this.value.trim().replace(fi,"").length}},{key:"value",set:function(e){var n=e.length&&e.split(fi);n&&2===n.length&&(this.countryCodeButton.label=n[0],p(r(t.prototype),"value",n[1],this,!0))},get:function(){return"".concat(this.countryCodeButton.label).concat(fi).concat(h(r(t.prototype),"value",this))}},{key:"countryCode",get:function(){return this.countryCodeButton.label}},{key:"number",get:function(){return h(r(t.prototype),"value",this)}}]),t}(Xe),Ci="xmui-dynamic-mobile-phone-input",ki=function(e){function t(e){var i;n(this,t),(i=l(this,r(t).call(this))).addClass(Ci);var o=e.value&&e.value.country_code||"",a=e.value&&e.value.number||"",s=new yi(o,a);return s.name=e.id,s.message=e.hint?e.hint:"",s.required=!0===e.mandatory,s.placeholder=s.required?e.name.trim()+" *":e.name,i.appendChild(s),i.mobilePhoneInput=s,i}return s(t,e),o(t,[{key:"validateAndSetErrorMessage",value:function(){return this.mobilePhoneInput.validateAndSetErrorMessage()}},{key:"onCountriesCB",value:function(e){this.mobilePhoneInput.onCountries(e)}},{key:"name",get:function(){return this.mobilePhoneInput.name}},{key:"value",get:function(){return{country_code:this.mobilePhoneInput.countryCode,number:this.mobilePhoneInput.number}}},{key:"required",get:function(){return this.mobilePhoneInput.required}},{key:"isEmpty",get:function(){return this.mobilePhoneInput.isEmpty}}]),t}(ze),bi=function(e){function t(e,i,o,a,s){var c;return n(this,t),(c=l(this,r(t).call(this,e))).actions=s,c.id=i,c.name=o,c.clientContext=a,c.buildActions(s),c}return s(t,e),o(t,[{key:"buildActions",value:function(e){var t=this;e.forEach((function(e){var n=t.createInputField(e);t.appendChild(n)}))}},{key:"createInputField",value:function(e){var t,n,i;switch(e.type){case Gn.Text:t=Fe.Text,i=new Xe(t,V.input_text);break;case Gn.Email:t=Fe.Email,i=new Xe(t,V.input_email),n=254;break;case Gn.MobileNumber:var o=new ki(e);return o.onCountriesCB(this.onCountriesCB.bind(this)),o;default:throw new Error("Unsupported form field type")}return i.name=e.id,i.message=e.hint?e.hint:"",i.required=!0===e.mandatory,i.placeholder=i.required?e.name.trim()+" *":e.name,e.value&&(i.value=e.value),null!=n&&(i.maxlength=n),i}},{key:"onCountriesCB",value:function(e){Ee.renderModal(e,this.clientContext)}}]),t}(tt),wi="xmui-dynamic-form-page",Si=function(e){function t(e,i,o,a){var s;n(this,t),(s=l(this,r(t).call(this,V.page_dynamic_form,wi,e))).clientContext=i,s.formId=o,s.payload=a,s.setTitle(s.payload.title||s.formId),s.payload.subtitle&&s.setInstructions(s.payload.subtitle);var c=s.createForm();return s.setContent(c),s}return s(t,e),o(t,[{key:"onSubmit",value:function(e){this.onSubmitCB=e}},{key:"createForm",value:function(){var e=this,t=new de(V.button_continue);t.label=this.uiContext.getString(G.ts_authenticator_password_cta_positive),this.addRightButton(t);var n=new bi(t,"xmui-dynamic-form","xmui-dynamic-form",this.clientContext,this.payload.actions);return n.onSubmit((function(t){e.onSubmitCB&&e.onSubmitCB({type:e.payload.type,actions:t})})),n.start(),n}}]),t}(pe);!function(e){e[e.Init=0]="Init",e[e.Continue=1]="Continue",e[e.Error=2]="Error"}(ai||(ai={}));var xi,Ii=function(){function e(t,i){n(this,e),this.formId=t,this.payload=i,this.state=ai.Init}return o(e,[{key:"startSession",value:function(e,t){this.clientContext=e,this.actionContext=t}},{key:"endSession",value:function(){}},{key:"onContinue",value:function(e){this.payload=e,this.state=ai.Continue}},{key:"onError",value:function(e){this.payload=e,this.state=ai.Error}},{key:"promiseFormInput",value:function(){var e=this;return new Promise((function(t,n){var i=new Si(e.actionContext,e.clientContext,e.formId,e.payload),o=Ee.getUsernameFromClientContext(e.clientContext);o&&i.setUserName(o),i.onSubmit((function(e){t(com.ts.mobile.sdk.FormInput.createFormInputSubmissionRequest(e))})),i.onCancel((function(){t(com.ts.mobile.sdk.FormInput.createFormCancellationRequest())})),i.onEscape((function(e){t(com.ts.mobile.sdk.FormInput.createEscapeRequest(e,{}))})),Ee.renderPage(i,e.clientContext)}))}}]),e}();!function(e){e.Button="button",e.Toggle="toggle",e.Separator="separator"}(xi||(xi={}));var Ei,Ai="xmui-button-user-detail",Pi=function(e){function t(e){var i;n(this,t);var o=new T;return o.className="".concat(Ai,"_more ").concat(I.CircledMore),(i=l(this,r(t).call(this,e.title,e.value,null,o))).addClass(Ai),i}return s(t,e),t}(ue),Ti="xmui-switch",Ri="".concat(Ti,"--on"),Mi="".concat(Ti,"_bar"),Bi="".concat(Ti,"_knob"),Ni=function(e){function t(){var e,i=arguments.length>0&&void 0!==arguments[0]&&arguments[0];n(this,t),(e=l(this,r(t).call(this))).className=Ti,e.value=i;var o=new T;o.className=Mi;var a=new T;return a.className=Bi,e.appendChildren(o,a),e}return s(t,e),o(t,[{key:"updateState",value:function(){this.value?this.addClass(Ri):this.removeClass(Ri)}},{key:"value",set:function(e){p(r(t.prototype),"value",e,this,!0),this.updateState()},get:function(){return h(r(t.prototype),"value",this)}}]),t}(T),Di="xmui-toggle-user-detail",qi=function(e){function t(e){var i;n(this,t);var o=new Ni(e.value);return(i=l(this,r(t).call(this,e.title,null,null,o))).switchComp=o,i.addClass(Di),i}return s(t,e),o(t,[{key:"switchState",value:function(){this.switchComp.value=!this.switchComp.value}}]),t}(ue),Fi="xmui-manage-user-details-page",Li=function(e){function t(e,i){var o;n(this,t),(o=l(this,r(t).call(this,V.page_manage_user_details,Fi,!1))).actionContext=e,o.payload=i,o.uiContext=o.actionContext.getUiContext(),o.setTitle(i.title);var a=o.createContent();return o.setContent(a),i.footer_buttons.forEach((function(e){var t=new de(V.button_dynamic);t.label=e.title,t.onClick((function(){return o.onSubmitCB&&o.onSubmitCB({selected_option:e.id})})),o.addRightButton(t)})),o}return s(t,e),o(t,[{key:"createContent",value:function(){var e=this,t=new re;return this.payload.menu.items.forEach((function(e){switch(e.type){case xi.Button:var n=new Pi(e);t.addListItem(e.id,!1,n);break;case xi.Toggle:var i=new qi(e);t.addListItem(e.id,!1,i),t.onSelectionChanged((function(t){t[0]===e.id&&i.switchState()}));break;case xi.Separator:t.startSection()}})),t.onSelectionChanged((function(t){e.onSubmitCB&&e.onSubmitCB({selected_option:t[0]})})),t.focus(),t}},{key:"onSubmit",value:function(e){this.onSubmitCB=e}}]),t}(Q),Oi=function(){function e(t,i){n(this,e),this.formId=t,this.payload=i}return o(e,[{key:"startSession",value:function(e,t){this.clientContext=e,this.actionContext=t}},{key:"endSession",value:function(){}},{key:"onContinue",value:function(e){this.payload=e}},{key:"onError",value:function(e){this.payload=e}},{key:"promiseFormInput",value:function(){var e=this;return new Promise((function(t,n){var i=new Li(e.actionContext,e.payload);i.onSubmit((function(e){t(com.ts.mobile.sdk.FormInput.createFormInputSubmissionRequest(e))})),Ee.renderPage(i,e.clientContext)}))}}]),e}(),ji="xmui-select-question-dialog",Ui="".concat(ji,"_container"),Qi="".concat(ji,"_message"),Vi=function(e){function t(e,i,o){var a;n(this,t),(a=l(this,r(t).call(this))).addClass(ji);var s=new de(V.button_cancel);s.label=e.getString(G.ts_gen_cancel),s.value=!1,s.onClick((function(){a.close()})),a.addLeftButton(s),a.setTitle(e.getString("ts_authenticator_questions_reg_select_question"));var c=new T;return c.className=Ui,i.forEach((function(e){var t=new A;t.className=Qi,t.setText(e.getSecurityQuestionText()),t.onClick((function(){o(e),a.close()})),c.appendChild(t)})),a.setContent(c),a}return s(t,e),t}(Xn),Hi=function(e){function t(){var e;return n(this,t),(e=l(this,r(t).call(this,Fe.Text,V.input_security_question))).answered=!1,e.onChange((function(){e.updateState(e.value)})),e}return s(t,e),o(t,[{key:"checkHasValue",value:function(){return!0}},{key:"updateState",value:function(e){this.answered!==!!e&&(e&&e.length>this.minlength-1?this.addIcon(I.Checkmark):this.removeIcon(I.Checkmark),this.answered=!!e)}},{key:"maxlength",set:function(e){p(r(t.prototype),"maxlength",e,this,!0)}},{key:"value",set:function(e){p(r(t.prototype),"value",e,this,!0),this.updateState(e)},get:function(){return h(r(t.prototype),"value",this)}}]),t}(Xe),Ki=function(){function e(t,i,o,a){n(this,e),this.input=t,this.container=i,this.parent=o,this.removeButton=a}return o(e,null,[{key:"createByState",value:function(t,n,i,o,a){var s=new T;s.className=Yi;var r=t.getString("ts_authenticator_questions_reg_select_question"),c=new Hi;c.ariaLabel=r,c.maxlength=o.getMaxAnswerLength(),c.minlength=o.getMinAnswerLength();var u=new de(V.button_remove,oe.Normal);u.addClass(Zi),u.label=t.getString("ts_authenticator_questions_remove_this_question_cta"),s.appendChild(c),s.appendChild(u),i.appendChild(s);var l=new e(c,s,i,u);switch(n.state){case Ei.PROVIDED_REMOVED:case Ei.NEW_REMOVED:throw new Error("can't start with remove");case Ei.PROVIDED_ANSWERED:c.placeholder=n.question.getSecurityQuestionText();var _=t.getString("ts_authenticator_questions_reg_default_answer_placeholder");c.value=_,u.onClick((function(){n.state=Ei.PROVIDED_REMOVED,i.removeChild(s),Ee.log("removed called for answered question ".concat(n.question.getSecurityQuestionText())),a(!0)}));break;default:c.placeholder=r,c.disabled=!0,u.onClick((function(){n.state=Ei.NEW_REMOVED,Ee.log("remove called for new question"),i.removeChild(s),a(!0)}))}return c.onFocusIn((function(){Ee.log("focus on "+c.placeholder),n.state==Ei.PROVIDED_ANSWERED&&(c.value="")})),c.onChange((function(){var e=c.value.length;c.clearError(),e>o.getMinAnswerLength()-1&&(n.state==Ei.PROVIDED_ANSWERED?n.state=Ei.PROVIDED_MODIFIED:n.state=Ei.NEW_ANSWERED,n.answer=c.value,a(!0))})),c.onFocusOut((function(){var e=c.value.length;if(0==e)if(n.state==Ei.PROVIDED_ANSWERED){var i=t.getString("ts_authenticator_questions_reg_default_answer_placeholder");c.value=i}else{var s=t.getString(G.ts_authenticator_questions_error_answer_empty);c.setError(s,!1)}else if(e<o.getMinAnswerLength()){var r=t.formatString(G.ts_authenticator_questions_error_answer_range,[o.getMinAnswerLength().toString(),o.getMaxAnswerLength().toString()]);c.setError(r,!1),a(!1)}})),l}}]),e}(),zi="xmui-security-questions-reg-page",Wi="".concat("xmui-security-questions-reg-form","_progress-indication"),Gi="".concat("xmui-security-questions-reg-form","_form-container"),Zi="".concat("xmui-security-questions-reg-form","_button-remove"),Yi="".concat("xmui-security-questions-reg-form","_question-container"),$i="xmui-security-questions-reg-form";!function(e){e[e.PROVIDED_ANSWERED=0]="PROVIDED_ANSWERED",e[e.PROVIDED_REMOVED=1]="PROVIDED_REMOVED",e[e.PROVIDED_MODIFIED=2]="PROVIDED_MODIFIED",e[e.NEW_ANSWERED=3]="NEW_ANSWERED",e[e.NEW=4]="NEW",e[e.NEW_REMOVED=5]="NEW_REMOVED"}(Ei||(Ei={}));var Xi=function e(t,i,o){n(this,e),this.state=t,this.question=i,this.answer=o},Ji=function(e){function t(e,i,o){var a;n(this,t),(a=l(this,r(t).call(this,V.input_security_question,zi,e))).questionsMap=new Map,a.cells=new Array,a.displayModal=o;var s=Array(),c=Array();i.getSecurityQuestions().sort,i.getSecurityQuestions().forEach((function(e){e.getAnswered()?s.push(e):c.push(e)})),a.selectableQuestions=c,a.answeredQuestions=s,a.currentStep=i,a.setTitle(a.getTitle()),a.setInstructions(a.getInstructions()),a.setContent(a.createForm());var u=new de(V.button_add_question);u.label=a.uiContext.getString(G.ts_authenticator_questions_add_question_cta),u.type=ie.Button,u.form=$i,u.onClick((function(){a.addQuestion(),a.updateFormState()})),a.addRightButton(u),a.addQuestionButton=u;var _=new de(V.button_continue);return _.label=a.uiContext.getString(G.ts_authenticator_password_cta_positive),_.type=ie.Submit,_.form=$i,_.onClick((function(){var e=!1;a.cells.forEach((function(t){if(t.input.error)return Ee.log("Stopped continue click due to having a cell with an error"),void(e=!0);if(t.input.isEmpty){var n=a.uiContext.getString(G.ts_authenticator_questions_error_answer_empty);return t.input.setError(n,!1),void(e=!0)}})),e||a.onSubmitCB(a.collectUserAnswers())})),a.addRightButton(_),a.continueButton=_,a.updateFormState(),a}return s(t,e),o(t,[{key:"setError",value:function(e){this.error=!0,e&&this.setInstructions(e)}},{key:"onSubmit",value:function(e){this.onSubmitCB=e}},{key:"collectUserAnswers",value:function(){var e=Array();return this.questionsMap.forEach((function(t){switch(t.state){case Ei.PROVIDED_REMOVED:e.push(com.ts.mobile.sdk.SecurityQuestionAndAnswer.createAnswerRemovalRequest(t.question));break;case Ei.NEW_ANSWERED:case Ei.PROVIDED_MODIFIED:e.push(com.ts.mobile.sdk.SecurityQuestionAndAnswer.createAnswerToQuestion(t.question,com.ts.mobile.sdk.SecurityQuestionAnswer.createWithText(t.answer)));break;default:Ee.log("question not used: "+t)}})),e}},{key:"updateFormState",value:function(){var e=this.countAnsweredQuestions();this.updateUserProgress(e),this.continueButton.disabled=!this.canSendForm(e),this.addQuestionButton.disabled=this.cells.length+1>this.selectableQuestions.length+this.answeredQuestions.length}},{key:"canSendForm",value:function(e){return!(e<this.currentStep.getMinAnswersNeeded())&&(this.cells.forEach((function(e){if(e.input.error)return Ee.log("Stopped continue click due to having a cell with an error"),!1})),!0)}},{key:"countAnsweredQuestions",value:function(){var e=this.answeredQuestions.length;return this.questionsMap.forEach((function(t){switch(t.state){case Ei.NEW_ANSWERED:e++;break;case Ei.PROVIDED_REMOVED:e--}})),e}},{key:"updateUserProgress",value:function(e){var t=this.uiContext.formatString(G.ts_authenticator_questions_left,[e.toString(),(this.selectableQuestions.length+this.answeredQuestions.length).toString()]);this.progressIndication.setText(t)}},{key:"getTitle",value:function(){var e=G.ts_authenticator_questions_title_reg;return this.uiContext.getString(e)}},{key:"getInstructions",value:function(){var e=G.ts_authenticator_questions_intro_reg;return this.uiContext.formatString(e,[this.currentStep.getMinAnswersNeeded().toString(),(this.selectableQuestions.length+this.answeredQuestions.length).toString()])}},{key:"createForm",value:function(){var e=this,t=new tt;t.addClass("xmui-security-questions-reg-form"),t.id=$i;var n=new T;n.className=Gi,this.questionsInputContainer=n,this.answeredQuestions.forEach((function(t){var n=Ei.PROVIDED_ANSWERED,i=new Xi(n,t),o=Ki.createByState(e.uiContext,i,e.questionsInputContainer,e.currentStep,(function(t){e.onCellUpdated(i,t)}));e.cells.push(o),e.questionsMap.set(t.getSecurityQuestionId(),i)}));for(var i=this.currentStep.getMinAnswersNeeded()-this.answeredQuestions.length,o=0;o<i;o++)this.addQuestion();return this.progressIndication=new A,this.progressIndication.className=Wi,t.appendChildren(n,this.progressIndication),t}},{key:"addQuestion",value:function(){var e=this,t=Ei.NEW,n=new Xi(t,null),i=Ki.createByState(this.uiContext,n,this.questionsInputContainer,this.currentStep,(function(t){e.onCellUpdated(n,t)}));i.input.addRightButton(this.uiContext.getString("ts_authenticator_questions_reg_select_question_cta"),(function(){var t=new Array;e.selectableQuestions.forEach((function(n){var i=e.questionsMap.get(n.getSecurityQuestionId());(!i||i.state&&i.state!=Ei.NEW_ANSWERED)&&t.push(n)}));var o=new Vi(e.uiContext,t,(function(t){var o=e.selectableQuestions.indexOf(t);e.selectableQuestions.splice(o,1),n.question=t,i.input.disabled=!1,i.input.focus(),i.input.placeholder=t.getSecurityQuestionText(),i.input.value=null}));e.displayModal(o)})),i.removeButton.onClick(this.updateFormState.bind(this)),this.cells.push(i)}},{key:"onCellUpdated",value:function(e,t){if(Ee.log("new state ('".concat(e.state,"') with answer: ").concat(e.answer)),!t&&e.question&&e.question.getSecurityQuestionId())this.questionsMap.delete(e.question.getSecurityQuestionId()),this.updateFormState();else{switch(e.state){case Ei.PROVIDED_REMOVED:e.question&&e.question.getSecurityQuestionId()&&this.questionsMap.set(e.question.getSecurityQuestionId(),e),this.selectableQuestions.push(e.question);break;case Ei.NEW_REMOVED:e.question&&e.question.getSecurityQuestionId()&&(this.questionsMap.delete(e.question.getSecurityQuestionId()),this.selectableQuestions.push(e.question));break;default:this.questionsMap.set(e.question.getSecurityQuestionId(),e)}this.updateFormState()}}}]),t}(it),eo="xmui-answered-security-question",to=function(e){function t(e,i){var o;n(this,t),(o=l(this,r(t).call(this))).className=eo;var a=new A,s=new A;return a.className="".concat(eo,"_question"),s.className="".concat(eo,"_answer"),a.setText(e),s.setText(i),o.appendChildren(a,s),o}return s(t,e),t}(T),no="xmui-security-questions-auth-page",io="xmui-security-questions-auth-form",oo=function(e){function t(e,i,o){var a;n(this,t),(a=l(this,r(t).call(this,V.page_security_questions_auth,no,e))).nextQuestion=i,a.prevAnsweredQuestions=o,a.setTitle(a.getTitle()),a.setInstructions(a.getInstructions()),a.content=a.createForm(),a.setContent(a.content);var s=new de(V.button_continue);return s.label=a.uiContext.getString(G.ts_authenticator_password_cta_positive),s.type=ie.Submit,s.form=io,s.onClick((function(){return a.onSubmitCB(a.collectUserAnswer())})),a.addRightButton(s),a.continueButton=s,a.updateFormState(),a}return s(t,e),o(t,[{key:"setError",value:function(e){this.error=!0,e&&this.setInstructions(e)}},{key:"onSubmit",value:function(e){this.onSubmitCB=e}},{key:"updateFormState",value:function(){this.updateSubmitButton()}},{key:"updateSubmitButton",value:function(){this.continueButton.disabled=!this.nextQuestionInput.value.trim()}},{key:"collectUserAnswer",value:function(){var e=this.nextQuestionInput.value;return com.ts.mobile.sdk.SecurityQuestionAndAnswer.createAnswerToQuestion(this.nextQuestion,com.ts.mobile.sdk.SecurityQuestionAnswer.createWithText(e))}},{key:"getTitle",value:function(){var e=G.ts_authenticator_questions_title_auth;return this.uiContext.getString(e)}},{key:"getInstructions",value:function(){var e=G.ts_authenticator_questions_intro_auth;return this.uiContext.getString(e)}},{key:"createForm",value:function(){var e=new tt;e.addClass("xmui-security-questions-auth-form"),e.id=io,this.prevAnsweredQuestions.forEach((function(t){var n=t.getQuestion().getSecurityQuestionText(),i=t.getAnswer().getAnswerText(),o=new to(n,i);e.appendChild(o)}));var t=new Xe(Fe.Text,V.input_security_question),n=this.nextQuestion.getSecurityQuestionText();return t.placeholder=n,t.ariaLabel=n,t.focus(),t.scrollIntoView(),this.nextQuestionInput=t,e.appendChild(t),e.onUserInput(this.updateFormState.bind(this)),e}}]),t}(it),ao=function(e){function t(e,i){var o;return n(this,t),(o=l(this,r(t).call(this,e,i))).prevAnsweredQuestions=[],o.supportsInlineError=!0,o}return s(t,e),o(t,[{key:"showAuthUi",value:function(){this.showSecurityQuestionsAuthPage()}},{key:"showRegUi",value:function(){this.showSecurityQuestionsRegPage()}},{key:"setInputStep",value:function(e,t,n){this.currentStep=n}},{key:"showSecurityQuestionsRegPage",value:function(){var e=this,t=new Ji(this.actionContext,this.currentStep,(function(t){Ee.renderModal(t,e.clientContext)}));this.authError&&t.setError(this.authErrorMessage),t.onSubmit((function(n){t.blockInteraction();var i=com.ts.mobile.sdk.SecurityQuestionInputResponse.createSecurityQuestionAnswersInputResponse(n);e.resolveInputPromise(com.ts.mobile.sdk.InputOrControlResponse.createInputResponse(i))})),this.showAuthenticatorPage(t)}},{key:"promiseCancelAction",value:function(e){return this.prevAnsweredQuestions=[],h(r(t.prototype),"promiseCancelAction",this).call(this,e)}},{key:"promiseRecoveryForError",value:function(e,n,i){return h(r(t.prototype),"promiseRecoveryForError",this).call(this,e,n,i)}},{key:"showSecurityQuestionsAuthPage",value:function(){var e=this;this.authError&&(this.prevAnsweredQuestions=[]);var t=new oo(this.actionContext,this.currentStep.getSecurityQuestions()[0],this.prevAnsweredQuestions);this.authError&&t.setError(this.authErrorMessage),t.onSubmit((function(n){t.blockInteraction();var i=com.ts.mobile.sdk.SecurityQuestionInputResponse.createSecurityQuestionAnswersInputResponse([n]);e.resolveInputPromise(com.ts.mobile.sdk.InputOrControlResponse.createInputResponse(i)),e.prevAnsweredQuestions.push(n)})),this.showAuthenticatorPage(t)}}]),t}(Ne),so=function(){function e(){n(this,e),xe.init()}return o(e,[{key:"startActivityIndicator",value:function(e,t){Ee.activityStarted(t)}},{key:"endActivityIndicator",value:function(e,t){Ee.activityEnded(t)}},{key:"controlFlowCancelled",value:function(e){Ee.log("Control flow cancelled"),Ee.clearContainer(e)}},{key:"controlFlowStarting",value:function(e){Ee.log("Control flow started")}},{key:"controlFlowEnded",value:function(e,t){var n=e?" with error: ".concat(e):"";Ee.log("Control flow ended"+n)}},{key:"controlFlowActionStarting",value:function(e,t){Ee.log("Control flow action starting")}},{key:"controlFlowActionEnded",value:function(e,t,n){Ee.log("Control flow action starting")}},{key:"handleAuthenticatorUnregistration",value:function(e,t,n,i){return Promise.resolve(com.ts.mobile.sdk.UnregistrationInput.create(0))}},{key:"selectAuthenticator",value:function(e,t,n){return Re.promiseAuthenticator(e,t,n)}},{key:"selectAuthenticatorFallbackAction",value:function(e,t,n,i,o){var a=Ee.getUsernameFromClientContext(o);return Re.promiseAuthenticatorFallbackAction(a,e,t,n,i,o)}},{key:"controlOptionForCancellationRequestInSession",value:function(e,t){return t instanceof Ne?t.promiseCancelAction(e):Re.promiseCancelActionForNonBaseAuthenticatorSession(e)}},{key:"createPasswordAuthSession",value:function(e,t){return new rt(e,t)}},{key:"createPinAuthSession",value:function(e,t,n){return new Ct(e,t,n)}},{key:"createPatternAuthSession",value:function(e,t,n,i){return new Ot(e,t,n,i)}},{key:"createOtpAuthSession",value:function(e,t,n,i){return new rn(e,t,n,i)}},{key:"createVoiceAuthSession",value:function(e,t){throw new Error("Method not implemented.")}},{key:"createSecurityQuestionAuthSession",value:function(e,t){return new ao(e,t)}},{key:"createPlaceholderAuthSession",value:function(e,t,n,i,o,a){throw new Error("Method not implemented by demo application.")}},{key:"createFido2AuthSession",value:function(e,t){return new mn(e,t)}},{key:"getConfirmationInput",value:function(e,t,n,i,o,a){var s=Ee.getUsernameFromClientContext(a);return Re.promiseConfirmationActionInput(s,I.Confirmation,e,t,n,i,o,a)}},{key:"getInformationResponse",value:function(e,t,n,i,o){var a=Ee.getUsernameFromClientContext(o);return Re.promiseInformationActionInput(a,I.Information,e,t,n,i,o)}},{key:"createMobileApproveAuthSession",value:function(e,t,n){return new pt(e,t,n)}},{key:"createTicketWaitSession",value:function(e,t){return new yn}},{key:"createTotpAuthSession",value:function(e,t){return new _n(e,t)}},{key:"createFormSession",value:function(e,t){if(t&&"dynamic_form"===t.type)return new Ii(e,t);if(t&&"xm.qs.MenuList"===t.type)return new Oi(e,t);throw new Error("Method not implemented by demo application.")}},{key:"createAuthenticationConfigurationSession",value:function(e){return new Rn(e)}},{key:"createRegistrationPromotionSession",value:function(e,t){return new Nn(e,t)}},{key:"processJsonData",value:function(e,t,n){throw new Error("Method not implemented by demo application.")}},{key:"handlePolicyRejection",value:function(e,t,n,i,o,a){return Re.promisePolicyRejectionInput(e,t,n,i,o,a)}},{key:"handlePolicyRedirect",value:function(e,t,n,i,o){return Ee.log("Policy redirection requested. redirecting to policy: [".concat(t,"] with additionalParameters: [").concat(i,"]")),Promise.resolve(com.ts.mobile.sdk.RedirectInput.create(com.ts.mobile.sdk.RedirectResponseType.RedirectToPolicy))}},{key:"shouldIncludeDisabledAuthenticatorsInMenu",value:function(e,t){return!1}},{key:"createScanQrSession",value:function(e,t){throw new Error("Method not implemented.")}},{key:"createFingerprintAuthSession",value:function(e,t){throw new Error("Method not implemented.")}},{key:"createApprovalsSession",value:function(e){throw new Error("Method not implemented.")}},{key:"createTotpGenerationSession",value:function(e,t){throw new Error("Method not implemented.")}},{key:"createDeviceManagementSession",value:function(e){return Ee.log("Starting device management session"),new oi(e)}},{key:"createNativeFaceAuthSession",value:function(e,t){throw new Error("Method not implemented.")}},{key:"createFaceAuthSession",value:function(e,t){throw new Error("Method not implemented.")}},{key:"createDeviceBiometricsAuthSession",value:function(e,t){throw new Error("Method not implemented.")}},{key:"localAuthenticatorInvalidated",value:function(e){throw new Error("Method not implemented.")}},{key:"setLogEnabled",value:function(e){Ee.setLogEnabled(e)}}],[{key:"presentUI",value:function(e,t){Ee.presentUI(e,t)}}]),e}();e.XmUIHandler=so,Object.defineProperty(e,"__esModule",{value:!0})}));
